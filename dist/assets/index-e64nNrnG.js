var G0=Object.defineProperty;var W0=(s,e,t)=>e in s?G0(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Eg=(s,e,t)=>W0(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Lp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sc={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function X0(){if(xg)return Se;xg=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function S(R,N,Q){this.props=R,this.context=N,this.refs=C,this.updater=Q||E}S.prototype.isReactComponent={},S.prototype.setState=function(R,N){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,N,"setState")},S.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function I(){}I.prototype=S.prototype;function L(R,N,Q){this.props=R,this.context=N,this.refs=C,this.updater=Q||E}var O=L.prototype=new I;O.constructor=L,x(O,S.prototype),O.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,X={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function j(R,N,Q){var z,me={},pe=null,_e=null;if(N!=null)for(z in N.ref!==void 0&&(_e=N.ref),N.key!==void 0&&(pe=""+N.key),N)M.call(N,z)&&!U.hasOwnProperty(z)&&(me[z]=N[z]);var xe=arguments.length-2;if(xe===1)me.children=Q;else if(1<xe){for(var Le=Array(xe),Oe=0;Oe<xe;Oe++)Le[Oe]=arguments[Oe+2];me.children=Le}if(R&&R.defaultProps)for(z in xe=R.defaultProps,xe)me[z]===void 0&&(me[z]=xe[z]);return{$$typeof:s,type:R,key:pe,ref:_e,props:me,_owner:X.current}}function b(R,N){return{$$typeof:s,type:R.type,key:N,ref:R.ref,props:R.props,_owner:R._owner}}function ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function re(R){var N={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return N[Q]})}var te=/\/+/g;function se(R,N){return typeof R=="object"&&R!==null&&R.key!=null?re(""+R.key):N.toString(36)}function oe(R,N,Q,z,me){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var _e=!1;if(R===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(R.$$typeof){case s:case e:_e=!0}}if(_e)return _e=R,me=me(_e),R=z===""?"."+se(_e,0):z,D(me)?(Q="",R!=null&&(Q=R.replace(te,"$&/")+"/"),oe(me,N,Q,"",function(Oe){return Oe})):me!=null&&(ue(me)&&(me=b(me,Q+(!me.key||_e&&_e.key===me.key?"":(""+me.key).replace(te,"$&/")+"/")+R)),N.push(me)),1;if(_e=0,z=z===""?".":z+":",D(R))for(var xe=0;xe<R.length;xe++){pe=R[xe];var Le=z+se(pe,xe);_e+=oe(pe,N,Q,Le,me)}else if(Le=y(R),typeof Le=="function")for(R=Le.call(R),xe=0;!(pe=R.next()).done;)pe=pe.value,Le=z+se(pe,xe++),_e+=oe(pe,N,Q,Le,me);else if(pe==="object")throw N=String(R),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return _e}function ce(R,N,Q){if(R==null)return R;var z=[],me=0;return oe(R,z,"","",function(pe){return N.call(Q,pe,me++)}),z}function Z(R){if(R._status===-1){var N=R._result;N=N(),N.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=N)}if(R._status===1)return R._result.default;throw R._result}var ae={current:null},W={transition:null},$={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:W,ReactCurrentOwner:X};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:ce,forEach:function(R,N,Q){ce(R,function(){N.apply(this,arguments)},Q)},count:function(R){var N=0;return ce(R,function(){N++}),N},toArray:function(R){return ce(R,function(N){return N})||[]},only:function(R){if(!ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Se.Component=S,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=L,Se.StrictMode=i,Se.Suspense=d,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Se.act=Y,Se.cloneElement=function(R,N,Q){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var z=x({},R.props),me=R.key,pe=R.ref,_e=R._owner;if(N!=null){if(N.ref!==void 0&&(pe=N.ref,_e=X.current),N.key!==void 0&&(me=""+N.key),R.type&&R.type.defaultProps)var xe=R.type.defaultProps;for(Le in N)M.call(N,Le)&&!U.hasOwnProperty(Le)&&(z[Le]=N[Le]===void 0&&xe!==void 0?xe[Le]:N[Le])}var Le=arguments.length-2;if(Le===1)z.children=Q;else if(1<Le){xe=Array(Le);for(var Oe=0;Oe<Le;Oe++)xe[Oe]=arguments[Oe+2];z.children=xe}return{$$typeof:s,type:R.type,key:me,ref:pe,props:z,_owner:_e}},Se.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},Se.createElement=j,Se.createFactory=function(R){var N=j.bind(null,R);return N.type=R,N},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:c,render:R}},Se.isValidElement=ue,Se.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:Z}},Se.memo=function(R,N){return{$$typeof:g,type:R,compare:N===void 0?null:N}},Se.startTransition=function(R){var N=W.transition;W.transition={};try{R()}finally{W.transition=N}},Se.unstable_act=Y,Se.useCallback=function(R,N){return ae.current.useCallback(R,N)},Se.useContext=function(R){return ae.current.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R){return ae.current.useDeferredValue(R)},Se.useEffect=function(R,N){return ae.current.useEffect(R,N)},Se.useId=function(){return ae.current.useId()},Se.useImperativeHandle=function(R,N,Q){return ae.current.useImperativeHandle(R,N,Q)},Se.useInsertionEffect=function(R,N){return ae.current.useInsertionEffect(R,N)},Se.useLayoutEffect=function(R,N){return ae.current.useLayoutEffect(R,N)},Se.useMemo=function(R,N){return ae.current.useMemo(R,N)},Se.useReducer=function(R,N,Q){return ae.current.useReducer(R,N,Q)},Se.useRef=function(R){return ae.current.useRef(R)},Se.useState=function(R){return ae.current.useState(R)},Se.useSyncExternalStore=function(R,N,Q){return ae.current.useSyncExternalStore(R,N,Q)},Se.useTransition=function(){return ae.current.useTransition()},Se.version="18.3.1",Se}var wg;function kp(){return wg||(wg=1,Sc.exports=X0()),Sc.exports}var mr=kp();const et=Lp(mr);var Zl={},Tc={exports:{}},zt={},Rc={exports:{}},Ic={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function U0(){return Cg||(Cg=1,function(s){function e(W,$){var Y=W.length;W.push($);e:for(;0<Y;){var R=Y-1>>>1,N=W[R];if(0<o(N,$))W[R]=$,W[Y]=N,Y=R;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var $=W[0],Y=W.pop();if(Y!==$){W[0]=Y;e:for(var R=0,N=W.length,Q=N>>>1;R<Q;){var z=2*(R+1)-1,me=W[z],pe=z+1,_e=W[pe];if(0>o(me,Y))pe<N&&0>o(_e,me)?(W[R]=_e,W[pe]=Y,R=pe):(W[R]=me,W[z]=Y,R=z);else if(pe<N&&0>o(_e,Y))W[R]=_e,W[pe]=Y,R=pe;else break e}}return $}function o(W,$){var Y=W.sortIndex-$.sortIndex;return Y!==0?Y:W.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();s.unstable_now=function(){return u.now()-c}}var d=[],g=[],m=1,_=null,y=3,E=!1,x=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(W){for(var $=t(g);$!==null;){if($.callback===null)i(g);else if($.startTime<=W)i(g),$.sortIndex=$.expirationTime,e(d,$);else break;$=t(g)}}function D(W){if(C=!1,O(W),!x)if(t(d)!==null)x=!0,Z(M);else{var $=t(g);$!==null&&ae(D,$.startTime-W)}}function M(W,$){x=!1,C&&(C=!1,I(j),j=-1),E=!0;var Y=y;try{for(O($),_=t(d);_!==null&&(!(_.expirationTime>$)||W&&!re());){var R=_.callback;if(typeof R=="function"){_.callback=null,y=_.priorityLevel;var N=R(_.expirationTime<=$);$=s.unstable_now(),typeof N=="function"?_.callback=N:_===t(d)&&i(d),O($)}else i(d);_=t(d)}if(_!==null)var Q=!0;else{var z=t(g);z!==null&&ae(D,z.startTime-$),Q=!1}return Q}finally{_=null,y=Y,E=!1}}var X=!1,U=null,j=-1,b=5,ue=-1;function re(){return!(s.unstable_now()-ue<b)}function te(){if(U!==null){var W=s.unstable_now();ue=W;var $=!0;try{$=U(!0,W)}finally{$?se():(X=!1,U=null)}}else X=!1}var se;if(typeof L=="function")se=function(){L(te)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ce=oe.port2;oe.port1.onmessage=te,se=function(){ce.postMessage(null)}}else se=function(){S(te,0)};function Z(W){U=W,X||(X=!0,se())}function ae(W,$){j=S(function(){W(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){x||E||(x=!0,Z(M))},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_getFirstCallbackNode=function(){return t(d)},s.unstable_next=function(W){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var Y=y;y=$;try{return W()}finally{y=Y}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,$){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=y;y=W;try{return $()}finally{y=Y}},s.unstable_scheduleCallback=function(W,$,Y){var R=s.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Y+N,W={id:m++,callback:$,priorityLevel:W,startTime:Y,expirationTime:N,sortIndex:-1},Y>R?(W.sortIndex=Y,e(g,W),t(d)===null&&W===t(g)&&(C?(I(j),j=-1):C=!0,ae(D,Y-R))):(W.sortIndex=N,e(d,W),x||E||(x=!0,Z(M))),W},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(W){var $=y;return function(){var Y=y;y=$;try{return W.apply(this,arguments)}finally{y=Y}}}}(Ic)),Ic}var Sg;function Y0(){return Sg||(Sg=1,Rc.exports=U0()),Rc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function j0(){if(Tg)return zt;Tg=1;var s=kp(),e=Y0();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(n,r){u(n,r),u(n+"Capture",r)}function u(n,r){for(o[n]=r,n=0;n<r.length;n++)i.add(r[n])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},_={};function y(n){return d.call(_,n)?!0:d.call(m,n)?!1:g.test(n)?_[n]=!0:(m[n]=!0,!1)}function E(n,r,l,h){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,r,l,h){if(r===null||typeof r>"u"||E(n,r,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function C(n,r,l,h,f,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){S[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];S[r]=new C(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){S[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){S[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){S[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){S[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){S[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){S[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){S[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function L(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(I,L);S[r]=new C(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(I,L);S[r]=new C(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(I,L);S[r]=new C(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){S[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),S.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){S[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function O(n,r,l,h){var f=S.hasOwnProperty(r)?S[r]:null;(f!==null?f.type!==0:h||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(x(r,l,f,h)&&(l=null),h||f===null?y(r)&&(l===null?n.removeAttribute(r):n.setAttribute(r,""+l)):f.mustUseProperty?n[f.propertyName]=l===null?f.type===3?!1:"":l:(r=f.attributeName,h=f.attributeNamespace,l===null?n.removeAttribute(r):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?n.setAttributeNS(h,r,l):n.setAttribute(r,l))))}var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),X=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),re=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),W=Symbol.iterator;function $(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Object.assign,R;function N(n){if(R===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return`
`+R+n}var Q=!1;function z(n,r){if(!n||Q)return"";Q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var h=F}Reflect.construct(n,[],r)}else{try{r.call()}catch(F){h=F}n.call(r.prototype)}else{try{throw Error()}catch(F){h=F}n()}}catch(F){if(F&&h&&typeof F.stack=="string"){for(var f=F.stack.split(`
`),p=h.stack.split(`
`),v=f.length-1,w=p.length-1;1<=v&&0<=w&&f[v]!==p[w];)w--;for(;1<=v&&0<=w;v--,w--)if(f[v]!==p[w]){if(v!==1||w!==1)do if(v--,w--,0>w||f[v]!==p[w]){var T=`
`+f[v].replace(" at new "," at ");return n.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",n.displayName)),T}while(1<=v&&0<=w);break}}}finally{Q=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?N(n):""}function me(n){switch(n.tag){case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return n=z(n.type,!1),n;case 11:return n=z(n.type.render,!1),n;case 1:return n=z(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case X:return"Portal";case b:return"Profiler";case j:return"StrictMode";case se:return"Suspense";case oe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case re:return(n.displayName||"Context")+".Consumer";case ue:return(n._context.displayName||"Context")+".Provider";case te:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ce:return r=n.displayName||null,r!==null?r:pe(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return pe(n(r))}catch{}}return null}function _e(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(r);case 8:return r===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Le(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Oe(n){var r=Le(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),h=""+n[r];if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){h=""+v,p.call(this,v)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(v){h=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Bn(n){n._valueTracker||(n._valueTracker=Oe(n))}function di(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return n&&(h=Le(n)?n.checked?"true":"false":n.value),n=h,n!==l?(r.setValue(n),!0):!1}function fi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Qt(n,r){var l=r.checked;return Y({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function gi(n,r){var l=r.defaultValue==null?"":r.defaultValue,h=r.checked!=null?r.checked:r.defaultChecked;l=xe(r.value!=null?r.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function gn(n,r){r=r.checked,r!=null&&O(n,"checked",r,!1)}function Vn(n,r){gn(n,r);var l=xe(r.value),h=r.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?qi(n,r.type,l):r.hasOwnProperty("defaultValue")&&qi(n,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function $i(n,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var h=r.type;if(!(h!=="submit"&&h!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,l||r===n.value||(n.value=r),n.defaultValue=r}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function qi(n,r,l){(r!=="number"||fi(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var ht=Array.isArray;function nt(n,r,l,h){if(n=n.options,r){r={};for(var f=0;f<l.length;f++)r["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=r.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&h&&(n[l].defaultSelected=!0)}else{for(l=""+xe(l),r=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,h&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Yt(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function In(n,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(t(92));if(ht(l)){if(1<l.length)throw Error(t(93));l=l[0]}r=l}r==null&&(r=""),l=r}n._wrapperState={initialValue:xe(l)}}function Ln(n,r){var l=xe(r.value),h=xe(r.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),r.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function pn(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function kn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?kn(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var mn,Qe=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,h,f){MSApp.execUnsafeLocalFunction(function(){return n(r,l,h,f)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(mn=mn||document.createElement("div"),mn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=mn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Qi(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uo=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(n){Uo.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),pi[r]=pi[n]})});function Rr(n,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||pi.hasOwnProperty(n)&&pi[n]?(""+r).trim():r+"px"}function Yo(n,r){n=n.style;for(var l in r)if(r.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=Rr(l,r[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,f):n[l]=f}}var Ya=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ir(n,r){if(r){if(Ya[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function Lr(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function kr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var er=null,en=null,tn=null;function mi(n){if(n=Ks(n)){if(typeof er!="function")throw Error(t(280));var r=n.stateNode;r&&(r=ul(r),er(n.stateNode,n.type,r))}}function Is(n){en?tn?tn.push(n):tn=[n]:en=n}function Ls(){if(en){var n=en,r=tn;if(tn=en=null,mi(n),r)for(n=0;n<r.length;n++)mi(r[n])}}function Rt(n,r){return n(r)}function Mn(){}var _t=!1;function jt(n,r,l){if(_t)return n(r,l);_t=!0;try{return Rt(n,r,l)}finally{_t=!1,(en!==null||tn!==null)&&(Mn(),Ls())}}function st(n,r){var l=n.stateNode;if(l===null)return null;var h=ul(l);if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,r,typeof l));return l}var Bt=!1;if(c)try{var It={};Object.defineProperty(It,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{Bt=!1}function Ue(n,r,l,h,f,p,v,w,T){var F=Array.prototype.slice.call(arguments,3);try{r.apply(l,F)}catch(V){this.onError(V)}}var He=!1,Pt=null,Mr=!1,ja=null,Vm={onError:function(n){He=!0,Pt=n}};function bm(n,r,l,h,f,p,v,w,T){He=!1,Pt=null,Ue.apply(Vm,arguments)}function Km(n,r,l,h,f,p,v,w,T){if(bm.apply(this,arguments),He){if(He){var F=Pt;He=!1,Pt=null}else throw Error(t(198));Mr||(Mr=!0,ja=F)}}function tr(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function Yh(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function jh(n){if(tr(n)!==n)throw Error(t(188))}function Zm(n){var r=n.alternate;if(!r){if(r=tr(n),r===null)throw Error(t(188));return r!==n?null:n}for(var l=n,h=r;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return jh(f),n;if(p===h)return jh(f),r;p=p.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=p;else{for(var v=!1,w=f.child;w;){if(w===l){v=!0,l=f,h=p;break}if(w===h){v=!0,h=f,l=p;break}w=w.sibling}if(!v){for(w=p.child;w;){if(w===l){v=!0,l=p,h=f;break}if(w===h){v=!0,h=p,l=f;break}w=w.sibling}if(!v)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:r}function Bh(n){return n=Zm(n),n!==null?Vh(n):null}function Vh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Vh(n);if(r!==null)return r;n=n.sibling}return null}var bh=e.unstable_scheduleCallback,Kh=e.unstable_cancelCallback,Hm=e.unstable_shouldYield,$m=e.unstable_requestPaint,$e=e.unstable_now,qm=e.unstable_getCurrentPriorityLevel,Ba=e.unstable_ImmediatePriority,Zh=e.unstable_UserBlockingPriority,jo=e.unstable_NormalPriority,Qm=e.unstable_LowPriority,Hh=e.unstable_IdlePriority,Bo=null,Pn=null;function Jm(n){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Bo,n,void 0,(n.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:n_,e_=Math.log,t_=Math.LN2;function n_(n){return n>>>=0,n===0?32:31-(e_(n)/t_|0)|0}var Vo=64,bo=4194304;function ks(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ko(n,r){var l=n.pendingLanes;if(l===0)return 0;var h=0,f=n.suspendedLanes,p=n.pingedLanes,v=l&268435455;if(v!==0){var w=v&~f;w!==0?h=ks(w):(p&=v,p!==0&&(h=ks(p)))}else v=l&~f,v!==0?h=ks(v):p!==0&&(h=ks(p));if(h===0)return 0;if(r!==0&&r!==h&&(r&f)===0&&(f=h&-h,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if((h&4)!==0&&(h|=l&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=h;0<r;)l=31-_n(r),f=1<<l,h|=n[l],r&=~f;return h}function i_(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r_(n,r){for(var l=n.suspendedLanes,h=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes;0<p;){var v=31-_n(p),w=1<<v,T=f[v];T===-1?((w&l)===0||(w&h)!==0)&&(f[v]=i_(w,r)):T<=r&&(n.expiredLanes|=w),p&=~w}}function Va(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function $h(){var n=Vo;return Vo<<=1,(Vo&4194240)===0&&(Vo=64),n}function ba(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function Ms(n,r,l){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-_n(r),n[r]=l}function s_(n,r){var l=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var f=31-_n(l),p=1<<f;r[f]=0,h[f]=-1,n[f]=-1,l&=~p}}function Ka(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var h=31-_n(l),f=1<<h;f&r|n[h]&r&&(n[h]|=r),l&=~f}}var Fe=0;function qh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Qh,Za,Jh,ed,td,Ha=!1,Zo=[],_i=null,yi=null,vi=null,Ps=new Map,As=new Map,Ei=[],o_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(n,r){switch(n){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Ps.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(r.pointerId)}}function Ds(n,r,l,h,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Ks(r),r!==null&&Za(r)),n):(n.eventSystemFlags|=h,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function l_(n,r,l,h,f){switch(r){case"focusin":return _i=Ds(_i,n,r,l,h,f),!0;case"dragenter":return yi=Ds(yi,n,r,l,h,f),!0;case"mouseover":return vi=Ds(vi,n,r,l,h,f),!0;case"pointerover":var p=f.pointerId;return Ps.set(p,Ds(Ps.get(p)||null,n,r,l,h,f)),!0;case"gotpointercapture":return p=f.pointerId,As.set(p,Ds(As.get(p)||null,n,r,l,h,f)),!0}return!1}function id(n){var r=nr(n.target);if(r!==null){var l=tr(r);if(l!==null){if(r=l.tag,r===13){if(r=Yh(l),r!==null){n.blockedOn=r,td(n.priority,function(){Jh(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ho(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=qa(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);Ji=h,l.target.dispatchEvent(h),Ji=null}else return r=Ks(l),r!==null&&Za(r),n.blockedOn=l,!1;r.shift()}return!0}function rd(n,r,l){Ho(n)&&l.delete(r)}function a_(){Ha=!1,_i!==null&&Ho(_i)&&(_i=null),yi!==null&&Ho(yi)&&(yi=null),vi!==null&&Ho(vi)&&(vi=null),Ps.forEach(rd),As.forEach(rd)}function Os(n,r){n.blockedOn===r&&(n.blockedOn=null,Ha||(Ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a_)))}function Fs(n){function r(f){return Os(f,n)}if(0<Zo.length){Os(Zo[0],n);for(var l=1;l<Zo.length;l++){var h=Zo[l];h.blockedOn===n&&(h.blockedOn=null)}}for(_i!==null&&Os(_i,n),yi!==null&&Os(yi,n),vi!==null&&Os(vi,n),Ps.forEach(r),As.forEach(r),l=0;l<Ei.length;l++)h=Ei[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<Ei.length&&(l=Ei[0],l.blockedOn===null);)id(l),l.blockedOn===null&&Ei.shift()}var Pr=D.ReactCurrentBatchConfig,$o=!0;function u_(n,r,l,h){var f=Fe,p=Pr.transition;Pr.transition=null;try{Fe=1,$a(n,r,l,h)}finally{Fe=f,Pr.transition=p}}function c_(n,r,l,h){var f=Fe,p=Pr.transition;Pr.transition=null;try{Fe=4,$a(n,r,l,h)}finally{Fe=f,Pr.transition=p}}function $a(n,r,l,h){if($o){var f=qa(n,r,l,h);if(f===null)gu(n,r,h,qo,l),nd(n,h);else if(l_(f,n,r,l,h))h.stopPropagation();else if(nd(n,h),r&4&&-1<o_.indexOf(n)){for(;f!==null;){var p=Ks(f);if(p!==null&&Qh(p),p=qa(n,r,l,h),p===null&&gu(n,r,h,qo,l),p===f)break;f=p}f!==null&&h.stopPropagation()}else gu(n,r,h,null,l)}}var qo=null;function qa(n,r,l,h){if(qo=null,n=kr(h),n=nr(n),n!==null)if(r=tr(n),r===null)n=null;else if(l=r.tag,l===13){if(n=Yh(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return qo=n,null}function sd(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qm()){case Ba:return 1;case Zh:return 4;case jo:case Qm:return 16;case Hh:return 536870912;default:return 16}default:return 16}}var xi=null,Qa=null,Qo=null;function od(){if(Qo)return Qo;var n,r=Qa,l=r.length,h,f="value"in xi?xi.value:xi.textContent,p=f.length;for(n=0;n<l&&r[n]===f[n];n++);var v=l-n;for(h=1;h<=v&&r[l-h]===f[p-h];h++);return Qo=f.slice(n,1<h?1-h:void 0)}function Jo(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function el(){return!0}function ld(){return!1}function Vt(n){function r(l,h,f,p,v){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(l=n[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?el:ld,this.isPropagationStopped=ld,this}return Y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),r}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Vt(Ar),Ns=Y({},Ar,{view:0,detail:0}),h_=Vt(Ns),eu,tu,zs,tl=Y({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zs&&(zs&&n.type==="mousemove"?(eu=n.screenX-zs.screenX,tu=n.screenY-zs.screenY):tu=eu=0,zs=n),eu)},movementY:function(n){return"movementY"in n?n.movementY:tu}}),ad=Vt(tl),d_=Y({},tl,{dataTransfer:0}),f_=Vt(d_),g_=Y({},Ns,{relatedTarget:0}),nu=Vt(g_),p_=Y({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),m_=Vt(p_),__=Y({},Ar,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),y_=Vt(__),v_=Y({},Ar,{data:0}),ud=Vt(v_),E_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C_(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=w_[n])?!!r[n]:!1}function iu(){return C_}var S_=Y({},Ns,{key:function(n){if(n.key){var r=E_[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Jo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?x_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(n){return n.type==="keypress"?Jo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),T_=Vt(S_),R_=Y({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Vt(R_),I_=Y({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),L_=Vt(I_),k_=Y({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),M_=Vt(k_),P_=Y({},tl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A_=Vt(P_),D_=[9,13,27,32],ru=c&&"CompositionEvent"in window,Gs=null;c&&"documentMode"in document&&(Gs=document.documentMode);var O_=c&&"TextEvent"in window&&!Gs,hd=c&&(!ru||Gs&&8<Gs&&11>=Gs),dd=" ",fd=!1;function gd(n,r){switch(n){case"keyup":return D_.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Dr=!1;function F_(n,r){switch(n){case"compositionend":return pd(r);case"keypress":return r.which!==32?null:(fd=!0,dd);case"textInput":return n=r.data,n===dd&&fd?null:n;default:return null}}function N_(n,r){if(Dr)return n==="compositionend"||!ru&&gd(n,r)?(n=od(),Qo=Qa=xi=null,Dr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hd&&r.locale!=="ko"?null:r.data;default:return null}}var z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!z_[n.type]:r==="textarea"}function _d(n,r,l,h){Is(h),r=ol(r,"onChange"),0<r.length&&(l=new Ja("onChange","change",null,l,h),n.push({event:l,listeners:r}))}var Ws=null,Xs=null;function G_(n){Fd(n,0)}function nl(n){var r=Gr(n);if(di(r))return n}function W_(n,r){if(n==="change")return r}var yd=!1;if(c){var su;if(c){var ou="oninput"in document;if(!ou){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),ou=typeof vd.oninput=="function"}su=ou}else su=!1;yd=su&&(!document.documentMode||9<document.documentMode)}function Ed(){Ws&&(Ws.detachEvent("onpropertychange",xd),Xs=Ws=null)}function xd(n){if(n.propertyName==="value"&&nl(Xs)){var r=[];_d(r,Xs,n,kr(n)),jt(G_,r)}}function X_(n,r,l){n==="focusin"?(Ed(),Ws=r,Xs=l,Ws.attachEvent("onpropertychange",xd)):n==="focusout"&&Ed()}function U_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nl(Xs)}function Y_(n,r){if(n==="click")return nl(r)}function j_(n,r){if(n==="input"||n==="change")return nl(r)}function B_(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var yn=typeof Object.is=="function"?Object.is:B_;function Us(n,r){if(yn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!d.call(r,f)||!yn(n[f],r[f]))return!1}return!0}function wd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cd(n,r){var l=wd(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=r&&h>=r)return{node:l,offset:r-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wd(l)}}function Sd(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Sd(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Td(){for(var n=window,r=fi();r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=fi(n.document)}return r}function lu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function V_(n){var r=Td(),l=n.focusedElem,h=n.selectionRange;if(r!==l&&l&&l.ownerDocument&&Sd(l.ownerDocument.documentElement,l)){if(h!==null&&lu(l)){if(r=h.start,n=h.end,n===void 0&&(n=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(n,l.value.length);else if(n=(r=l.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var f=l.textContent.length,p=Math.min(h.start,f);h=h.end===void 0?p:Math.min(h.end,f),!n.extend&&p>h&&(f=h,h=p,p=f),f=Cd(l,p);var v=Cd(l,h);f&&v&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),n.removeAllRanges(),p>h?(n.addRange(r),n.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),n.addRange(r)))}}for(r=[],n=l;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)n=r[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var b_=c&&"documentMode"in document&&11>=document.documentMode,Or=null,au=null,Ys=null,uu=!1;function Rd(n,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uu||Or==null||Or!==fi(h)||(h=Or,"selectionStart"in h&&lu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ys&&Us(Ys,h)||(Ys=h,h=ol(au,"onSelect"),0<h.length&&(r=new Ja("onSelect","select",null,r,l),n.push({event:r,listeners:h}),r.target=Or)))}function il(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var Fr={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},cu={},Id={};c&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function rl(n){if(cu[n])return cu[n];if(!Fr[n])return n;var r=Fr[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in Id)return cu[n]=r[l];return n}var Ld=rl("animationend"),kd=rl("animationiteration"),Md=rl("animationstart"),Pd=rl("transitionend"),Ad=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(n,r){Ad.set(n,r),a(r,[n])}for(var hu=0;hu<Dd.length;hu++){var du=Dd[hu],K_=du.toLowerCase(),Z_=du[0].toUpperCase()+du.slice(1);wi(K_,"on"+Z_)}wi(Ld,"onAnimationEnd"),wi(kd,"onAnimationIteration"),wi(Md,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Pd,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H_=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function Od(n,r,l){var h=n.type||"unknown-event";n.currentTarget=l,Km(h,r,void 0,n),n.currentTarget=null}function Fd(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],f=h.event;h=h.listeners;e:{var p=void 0;if(r)for(var v=h.length-1;0<=v;v--){var w=h[v],T=w.instance,F=w.currentTarget;if(w=w.listener,T!==p&&f.isPropagationStopped())break e;Od(f,w,F),p=T}else for(v=0;v<h.length;v++){if(w=h[v],T=w.instance,F=w.currentTarget,w=w.listener,T!==p&&f.isPropagationStopped())break e;Od(f,w,F),p=T}}}if(Mr)throw n=ja,Mr=!1,ja=null,n}function We(n,r){var l=r[Eu];l===void 0&&(l=r[Eu]=new Set);var h=n+"__bubble";l.has(h)||(Nd(r,n,2,!1),l.add(h))}function fu(n,r,l){var h=0;r&&(h|=4),Nd(l,n,h,r)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Bs(n){if(!n[sl]){n[sl]=!0,i.forEach(function(l){l!=="selectionchange"&&(H_.has(l)||fu(l,!1,n),fu(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[sl]||(r[sl]=!0,fu("selectionchange",!1,r))}}function Nd(n,r,l,h){switch(sd(r)){case 1:var f=u_;break;case 4:f=c_;break;default:f=$a}l=f.bind(null,r,l,n),f=void 0,!Bt||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),h?f!==void 0?n.addEventListener(r,l,{capture:!0,passive:f}):n.addEventListener(r,l,!0):f!==void 0?n.addEventListener(r,l,{passive:f}):n.addEventListener(r,l,!1)}function gu(n,r,l,h,f){var p=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var w=h.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(v===4)for(v=h.return;v!==null;){var T=v.tag;if((T===3||T===4)&&(T=v.stateNode.containerInfo,T===f||T.nodeType===8&&T.parentNode===f))return;v=v.return}for(;w!==null;){if(v=nr(w),v===null)return;if(T=v.tag,T===5||T===6){h=p=v;continue e}w=w.parentNode}}h=h.return}jt(function(){var F=p,V=kr(l),K=[];e:{var B=Ad.get(n);if(B!==void 0){var q=Ja,ee=n;switch(n){case"keypress":if(Jo(l)===0)break e;case"keydown":case"keyup":q=T_;break;case"focusin":ee="focus",q=nu;break;case"focusout":ee="blur",q=nu;break;case"beforeblur":case"afterblur":q=nu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=f_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=L_;break;case Ld:case kd:case Md:q=m_;break;case Pd:q=M_;break;case"scroll":q=h_;break;case"wheel":q=A_;break;case"copy":case"cut":case"paste":q=y_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=cd}var ne=(r&4)!==0,qe=!ne&&n==="scroll",P=ne?B!==null?B+"Capture":null:B;ne=[];for(var k=F,A;k!==null;){A=k;var H=A.stateNode;if(A.tag===5&&H!==null&&(A=H,P!==null&&(H=st(k,P),H!=null&&ne.push(Vs(k,H,A)))),qe)break;k=k.return}0<ne.length&&(B=new q(B,ee,null,l,V),K.push({event:B,listeners:ne}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&l!==Ji&&(ee=l.relatedTarget||l.fromElement)&&(nr(ee)||ee[bn]))break e;if((q||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ee=l.relatedTarget||l.toElement,q=F,ee=ee?nr(ee):null,ee!==null&&(qe=tr(ee),ee!==qe||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(q=null,ee=F),q!==ee)){if(ne=ad,H="onMouseLeave",P="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ne=cd,H="onPointerLeave",P="onPointerEnter",k="pointer"),qe=q==null?B:Gr(q),A=ee==null?B:Gr(ee),B=new ne(H,k+"leave",q,l,V),B.target=qe,B.relatedTarget=A,H=null,nr(V)===F&&(ne=new ne(P,k+"enter",ee,l,V),ne.target=A,ne.relatedTarget=qe,H=ne),qe=H,q&&ee)t:{for(ne=q,P=ee,k=0,A=ne;A;A=Nr(A))k++;for(A=0,H=P;H;H=Nr(H))A++;for(;0<k-A;)ne=Nr(ne),k--;for(;0<A-k;)P=Nr(P),A--;for(;k--;){if(ne===P||P!==null&&ne===P.alternate)break t;ne=Nr(ne),P=Nr(P)}ne=null}else ne=null;q!==null&&zd(K,B,q,ne,!1),ee!==null&&qe!==null&&zd(K,qe,ee,ne,!0)}}e:{if(B=F?Gr(F):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ie=W_;else if(md(B))if(yd)ie=j_;else{ie=U_;var de=X_}else(q=B.nodeName)&&q.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ie=Y_);if(ie&&(ie=ie(n,F))){_d(K,ie,l,V);break e}de&&de(n,B,F),n==="focusout"&&(de=B._wrapperState)&&de.controlled&&B.type==="number"&&qi(B,"number",B.value)}switch(de=F?Gr(F):window,n){case"focusin":(md(de)||de.contentEditable==="true")&&(Or=de,au=F,Ys=null);break;case"focusout":Ys=au=Or=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,Rd(K,l,V);break;case"selectionchange":if(b_)break;case"keydown":case"keyup":Rd(K,l,V)}var fe;if(ru)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Dr?gd(n,l)&&(ye="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(hd&&l.locale!=="ko"&&(Dr||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Dr&&(fe=od()):(xi=V,Qa="value"in xi?xi.value:xi.textContent,Dr=!0)),de=ol(F,ye),0<de.length&&(ye=new ud(ye,n,null,l,V),K.push({event:ye,listeners:de}),fe?ye.data=fe:(fe=pd(l),fe!==null&&(ye.data=fe)))),(fe=O_?F_(n,l):N_(n,l))&&(F=ol(F,"onBeforeInput"),0<F.length&&(V=new ud("onBeforeInput","beforeinput",null,l,V),K.push({event:V,listeners:F}),V.data=fe))}Fd(K,r)})}function Vs(n,r,l){return{instance:n,listener:r,currentTarget:l}}function ol(n,r){for(var l=r+"Capture",h=[];n!==null;){var f=n,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=st(n,l),p!=null&&h.unshift(Vs(n,p,f)),p=st(n,r),p!=null&&h.push(Vs(n,p,f))),n=n.return}return h}function Nr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zd(n,r,l,h,f){for(var p=r._reactName,v=[];l!==null&&l!==h;){var w=l,T=w.alternate,F=w.stateNode;if(T!==null&&T===h)break;w.tag===5&&F!==null&&(w=F,f?(T=st(l,p),T!=null&&v.unshift(Vs(l,T,w))):f||(T=st(l,p),T!=null&&v.push(Vs(l,T,w)))),l=l.return}v.length!==0&&n.push({event:r,listeners:v})}var $_=/\r\n?/g,q_=/\u0000|\uFFFD/g;function Gd(n){return(typeof n=="string"?n:""+n).replace($_,`
`).replace(q_,"")}function ll(n,r,l){if(r=Gd(r),Gd(n)!==r&&l)throw Error(t(425))}function al(){}var pu=null,mu=null;function _u(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,Q_=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(n){return Wd.resolve(null).then(n).catch(e0)}:yu;function e0(n){setTimeout(function(){throw n})}function vu(n,r){var l=r,h=0;do{var f=l.nextSibling;if(n.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){n.removeChild(f),Fs(r);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Fs(r)}function Ci(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Xd(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}var zr=Math.random().toString(36).slice(2),An="__reactFiber$"+zr,bs="__reactProps$"+zr,bn="__reactContainer$"+zr,Eu="__reactEvents$"+zr,t0="__reactListeners$"+zr,n0="__reactHandles$"+zr;function nr(n){var r=n[An];if(r)return r;for(var l=n.parentNode;l;){if(r=l[bn]||l[An]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=Xd(n);n!==null;){if(l=n[An])return l;n=Xd(n)}return r}n=l,l=n.parentNode}return null}function Ks(n){return n=n[An]||n[bn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Gr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ul(n){return n[bs]||null}var xu=[],Wr=-1;function Si(n){return{current:n}}function Xe(n){0>Wr||(n.current=xu[Wr],xu[Wr]=null,Wr--)}function Ge(n,r){Wr++,xu[Wr]=n.current,n.current=r}var Ti={},yt=Si(Ti),At=Si(!1),ir=Ti;function Xr(n,r){var l=n.type.contextTypes;if(!l)return Ti;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===r)return h.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in l)f[p]=r[p];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=f),f}function Dt(n){return n=n.childContextTypes,n!=null}function cl(){Xe(At),Xe(yt)}function Ud(n,r,l){if(yt.current!==Ti)throw Error(t(168));Ge(yt,r),Ge(At,l)}function Yd(n,r,l){var h=n.stateNode;if(r=r.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in r))throw Error(t(108,_e(n)||"Unknown",f));return Y({},l,h)}function hl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ti,ir=yt.current,Ge(yt,n),Ge(At,At.current),!0}function jd(n,r,l){var h=n.stateNode;if(!h)throw Error(t(169));l?(n=Yd(n,r,ir),h.__reactInternalMemoizedMergedChildContext=n,Xe(At),Xe(yt),Ge(yt,n)):Xe(At),Ge(At,l)}var Kn=null,dl=!1,wu=!1;function Bd(n){Kn===null?Kn=[n]:Kn.push(n)}function i0(n){dl=!0,Bd(n)}function Ri(){if(!wu&&Kn!==null){wu=!0;var n=0,r=Fe;try{var l=Kn;for(Fe=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}Kn=null,dl=!1}catch(f){throw Kn!==null&&(Kn=Kn.slice(n+1)),bh(Ba,Ri),f}finally{Fe=r,wu=!1}}return null}var Ur=[],Yr=0,fl=null,gl=0,nn=[],rn=0,rr=null,Zn=1,Hn="";function sr(n,r){Ur[Yr++]=gl,Ur[Yr++]=fl,fl=n,gl=r}function Vd(n,r,l){nn[rn++]=Zn,nn[rn++]=Hn,nn[rn++]=rr,rr=n;var h=Zn;n=Hn;var f=32-_n(h)-1;h&=~(1<<f),l+=1;var p=32-_n(r)+f;if(30<p){var v=f-f%5;p=(h&(1<<v)-1).toString(32),h>>=v,f-=v,Zn=1<<32-_n(r)+f|l<<f|h,Hn=p+n}else Zn=1<<p|l<<f|h,Hn=n}function Cu(n){n.return!==null&&(sr(n,1),Vd(n,1,0))}function Su(n){for(;n===fl;)fl=Ur[--Yr],Ur[Yr]=null,gl=Ur[--Yr],Ur[Yr]=null;for(;n===rr;)rr=nn[--rn],nn[rn]=null,Hn=nn[--rn],nn[rn]=null,Zn=nn[--rn],nn[rn]=null}var bt=null,Kt=null,Ye=!1,vn=null;function bd(n,r){var l=an(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=n,r=n.deletions,r===null?(n.deletions=[l],n.flags|=16):r.push(l)}function Kd(n,r){switch(n.tag){case 5:var l=n.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,bt=n,Kt=Ci(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,bt=n,Kt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=rr!==null?{id:Zn,overflow:Hn}:null,n.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=an(18,null,null,0),l.stateNode=r,l.return=n,n.child=l,bt=n,Kt=null,!0):!1;default:return!1}}function Tu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ru(n){if(Ye){var r=Kt;if(r){var l=r;if(!Kd(n,r)){if(Tu(n))throw Error(t(418));r=Ci(l.nextSibling);var h=bt;r&&Kd(n,r)?bd(h,l):(n.flags=n.flags&-4097|2,Ye=!1,bt=n)}}else{if(Tu(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ye=!1,bt=n}}}function Zd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;bt=n}function pl(n){if(n!==bt)return!1;if(!Ye)return Zd(n),Ye=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!_u(n.type,n.memoizedProps)),r&&(r=Kt)){if(Tu(n))throw Hd(),Error(t(418));for(;r;)bd(n,r),r=Ci(r.nextSibling)}if(Zd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(r===0){Kt=Ci(n.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}n=n.nextSibling}Kt=null}}else Kt=bt?Ci(n.stateNode.nextSibling):null;return!0}function Hd(){for(var n=Kt;n;)n=Ci(n.nextSibling)}function jr(){Kt=bt=null,Ye=!1}function Iu(n){vn===null?vn=[n]:vn.push(n)}var r0=D.ReactCurrentBatchConfig;function Zs(n,r,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,n));var f=h,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var w=f.refs;v===null?delete w[p]:w[p]=v},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function ml(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function $d(n){var r=n._init;return r(n._payload)}function qd(n){function r(P,k){if(n){var A=P.deletions;A===null?(P.deletions=[k],P.flags|=16):A.push(k)}}function l(P,k){if(!n)return null;for(;k!==null;)r(P,k),k=k.sibling;return null}function h(P,k){for(P=new Map;k!==null;)k.key!==null?P.set(k.key,k):P.set(k.index,k),k=k.sibling;return P}function f(P,k){return P=Oi(P,k),P.index=0,P.sibling=null,P}function p(P,k,A){return P.index=A,n?(A=P.alternate,A!==null?(A=A.index,A<k?(P.flags|=2,k):A):(P.flags|=2,k)):(P.flags|=1048576,k)}function v(P){return n&&P.alternate===null&&(P.flags|=2),P}function w(P,k,A,H){return k===null||k.tag!==6?(k=yc(A,P.mode,H),k.return=P,k):(k=f(k,A),k.return=P,k)}function T(P,k,A,H){var ie=A.type;return ie===U?V(P,k,A.props.children,H,A.key):k!==null&&(k.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Z&&$d(ie)===k.type)?(H=f(k,A.props),H.ref=Zs(P,k,A),H.return=P,H):(H=Xl(A.type,A.key,A.props,null,P.mode,H),H.ref=Zs(P,k,A),H.return=P,H)}function F(P,k,A,H){return k===null||k.tag!==4||k.stateNode.containerInfo!==A.containerInfo||k.stateNode.implementation!==A.implementation?(k=vc(A,P.mode,H),k.return=P,k):(k=f(k,A.children||[]),k.return=P,k)}function V(P,k,A,H,ie){return k===null||k.tag!==7?(k=fr(A,P.mode,H,ie),k.return=P,k):(k=f(k,A),k.return=P,k)}function K(P,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return k=yc(""+k,P.mode,A),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return A=Xl(k.type,k.key,k.props,null,P.mode,A),A.ref=Zs(P,null,k),A.return=P,A;case X:return k=vc(k,P.mode,A),k.return=P,k;case Z:var H=k._init;return K(P,H(k._payload),A)}if(ht(k)||$(k))return k=fr(k,P.mode,A,null),k.return=P,k;ml(P,k)}return null}function B(P,k,A,H){var ie=k!==null?k.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ie!==null?null:w(P,k,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return A.key===ie?T(P,k,A,H):null;case X:return A.key===ie?F(P,k,A,H):null;case Z:return ie=A._init,B(P,k,ie(A._payload),H)}if(ht(A)||$(A))return ie!==null?null:V(P,k,A,H,null);ml(P,A)}return null}function q(P,k,A,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number")return P=P.get(A)||null,w(k,P,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return P=P.get(H.key===null?A:H.key)||null,T(k,P,H,ie);case X:return P=P.get(H.key===null?A:H.key)||null,F(k,P,H,ie);case Z:var de=H._init;return q(P,k,A,de(H._payload),ie)}if(ht(H)||$(H))return P=P.get(A)||null,V(k,P,H,ie,null);ml(k,H)}return null}function ee(P,k,A,H){for(var ie=null,de=null,fe=k,ye=k=0,at=null;fe!==null&&ye<A.length;ye++){fe.index>ye?(at=fe,fe=null):at=fe.sibling;var ke=B(P,fe,A[ye],H);if(ke===null){fe===null&&(fe=at);break}n&&fe&&ke.alternate===null&&r(P,fe),k=p(ke,k,ye),de===null?ie=ke:de.sibling=ke,de=ke,fe=at}if(ye===A.length)return l(P,fe),Ye&&sr(P,ye),ie;if(fe===null){for(;ye<A.length;ye++)fe=K(P,A[ye],H),fe!==null&&(k=p(fe,k,ye),de===null?ie=fe:de.sibling=fe,de=fe);return Ye&&sr(P,ye),ie}for(fe=h(P,fe);ye<A.length;ye++)at=q(fe,P,ye,A[ye],H),at!==null&&(n&&at.alternate!==null&&fe.delete(at.key===null?ye:at.key),k=p(at,k,ye),de===null?ie=at:de.sibling=at,de=at);return n&&fe.forEach(function(Fi){return r(P,Fi)}),Ye&&sr(P,ye),ie}function ne(P,k,A,H){var ie=$(A);if(typeof ie!="function")throw Error(t(150));if(A=ie.call(A),A==null)throw Error(t(151));for(var de=ie=null,fe=k,ye=k=0,at=null,ke=A.next();fe!==null&&!ke.done;ye++,ke=A.next()){fe.index>ye?(at=fe,fe=null):at=fe.sibling;var Fi=B(P,fe,ke.value,H);if(Fi===null){fe===null&&(fe=at);break}n&&fe&&Fi.alternate===null&&r(P,fe),k=p(Fi,k,ye),de===null?ie=Fi:de.sibling=Fi,de=Fi,fe=at}if(ke.done)return l(P,fe),Ye&&sr(P,ye),ie;if(fe===null){for(;!ke.done;ye++,ke=A.next())ke=K(P,ke.value,H),ke!==null&&(k=p(ke,k,ye),de===null?ie=ke:de.sibling=ke,de=ke);return Ye&&sr(P,ye),ie}for(fe=h(P,fe);!ke.done;ye++,ke=A.next())ke=q(fe,P,ye,ke.value,H),ke!==null&&(n&&ke.alternate!==null&&fe.delete(ke.key===null?ye:ke.key),k=p(ke,k,ye),de===null?ie=ke:de.sibling=ke,de=ke);return n&&fe.forEach(function(z0){return r(P,z0)}),Ye&&sr(P,ye),ie}function qe(P,k,A,H){if(typeof A=="object"&&A!==null&&A.type===U&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case M:e:{for(var ie=A.key,de=k;de!==null;){if(de.key===ie){if(ie=A.type,ie===U){if(de.tag===7){l(P,de.sibling),k=f(de,A.props.children),k.return=P,P=k;break e}}else if(de.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Z&&$d(ie)===de.type){l(P,de.sibling),k=f(de,A.props),k.ref=Zs(P,de,A),k.return=P,P=k;break e}l(P,de);break}else r(P,de);de=de.sibling}A.type===U?(k=fr(A.props.children,P.mode,H,A.key),k.return=P,P=k):(H=Xl(A.type,A.key,A.props,null,P.mode,H),H.ref=Zs(P,k,A),H.return=P,P=H)}return v(P);case X:e:{for(de=A.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===A.containerInfo&&k.stateNode.implementation===A.implementation){l(P,k.sibling),k=f(k,A.children||[]),k.return=P,P=k;break e}else{l(P,k);break}else r(P,k);k=k.sibling}k=vc(A,P.mode,H),k.return=P,P=k}return v(P);case Z:return de=A._init,qe(P,k,de(A._payload),H)}if(ht(A))return ee(P,k,A,H);if($(A))return ne(P,k,A,H);ml(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,k!==null&&k.tag===6?(l(P,k.sibling),k=f(k,A),k.return=P,P=k):(l(P,k),k=yc(A,P.mode,H),k.return=P,P=k),v(P)):l(P,k)}return qe}var Br=qd(!0),Qd=qd(!1),_l=Si(null),yl=null,Vr=null,Lu=null;function ku(){Lu=Vr=yl=null}function Mu(n){var r=_l.current;Xe(_l),n._currentValue=r}function Pu(n,r,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),n===l)break;n=n.return}}function br(n,r){yl=n,Lu=Vr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Ot=!0),n.firstContext=null)}function sn(n){var r=n._currentValue;if(Lu!==n)if(n={context:n,memoizedValue:r,next:null},Vr===null){if(yl===null)throw Error(t(308));Vr=n,yl.dependencies={lanes:0,firstContext:n}}else Vr=Vr.next=n;return r}var or=null;function Au(n){or===null?or=[n]:or.push(n)}function Jd(n,r,l,h){var f=r.interleaved;return f===null?(l.next=l,Au(r)):(l.next=f.next,f.next=l),r.interleaved=l,$n(n,h)}function $n(n,r){n.lanes|=r;var l=n.alternate;for(l!==null&&(l.lanes|=r),l=n,n=n.return;n!==null;)n.childLanes|=r,l=n.alternate,l!==null&&(l.childLanes|=r),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Ii=!1;function Du(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function qn(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Li(n,r,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Te&2)!==0){var f=h.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),h.pending=r,$n(n,l)}return f=h.interleaved,f===null?(r.next=r,Au(h)):(r.next=f.next,f.next=r),h.interleaved=r,$n(n,l)}function vl(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var h=r.lanes;h&=n.pendingLanes,l|=h,r.lanes=l,Ka(n,l)}}function tf(n,r){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?f=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?f=p=r:p=p.next=r}else f=p=r;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}function El(n,r,l,h){var f=n.updateQueue;Ii=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var T=w,F=T.next;T.next=null,v===null?p=F:v.next=F,v=T;var V=n.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==v&&(w===null?V.firstBaseUpdate=F:w.next=F,V.lastBaseUpdate=T))}if(p!==null){var K=f.baseState;v=0,V=F=T=null,w=p;do{var B=w.lane,q=w.eventTime;if((h&B)===B){V!==null&&(V=V.next={eventTime:q,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ee=n,ne=w;switch(B=r,q=l,ne.tag){case 1:if(ee=ne.payload,typeof ee=="function"){K=ee.call(q,K,B);break e}K=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ne.payload,B=typeof ee=="function"?ee.call(q,K,B):ee,B==null)break e;K=Y({},K,B);break e;case 2:Ii=!0}}w.callback!==null&&w.lane!==0&&(n.flags|=64,B=f.effects,B===null?f.effects=[w]:B.push(w))}else q={eventTime:q,lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(F=V=q,T=K):V=V.next=q,v|=B;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;B=w,w=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);if(V===null&&(T=K),f.baseState=T,f.firstBaseUpdate=F,f.lastBaseUpdate=V,r=f.shared.interleaved,r!==null){f=r;do v|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);ur|=v,n.lanes=v,n.memoizedState=K}}function nf(n,r,l){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var h=n[r],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Hs={},Dn=Si(Hs),$s=Si(Hs),qs=Si(Hs);function lr(n){if(n===Hs)throw Error(t(174));return n}function Ou(n,r){switch(Ge(qs,r),Ge($s,n),Ge(Dn,Hs),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Jt(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Jt(r,n)}Xe(Dn),Ge(Dn,r)}function Kr(){Xe(Dn),Xe($s),Xe(qs)}function rf(n){lr(qs.current);var r=lr(Dn.current),l=Jt(r,n.type);r!==l&&(Ge($s,n),Ge(Dn,l))}function Fu(n){$s.current===n&&(Xe(Dn),Xe($s))}var Be=Si(0);function xl(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Nu=[];function zu(){for(var n=0;n<Nu.length;n++)Nu[n]._workInProgressVersionPrimary=null;Nu.length=0}var wl=D.ReactCurrentDispatcher,Gu=D.ReactCurrentBatchConfig,ar=0,Ve=null,it=null,ot=null,Cl=!1,Qs=!1,Js=0,s0=0;function vt(){throw Error(t(321))}function Wu(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!yn(n[l],r[l]))return!1;return!0}function Xu(n,r,l,h,f,p){if(ar=p,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,wl.current=n===null||n.memoizedState===null?u0:c0,n=l(h,f),Qs){p=0;do{if(Qs=!1,Js=0,25<=p)throw Error(t(301));p+=1,ot=it=null,r.updateQueue=null,wl.current=h0,n=l(h,f)}while(Qs)}if(wl.current=Rl,r=it!==null&&it.next!==null,ar=0,ot=it=Ve=null,Cl=!1,r)throw Error(t(300));return n}function Uu(){var n=Js!==0;return Js=0,n}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ve.memoizedState=ot=n:ot=ot.next=n,ot}function on(){if(it===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var r=ot===null?Ve.memoizedState:ot.next;if(r!==null)ot=r,it=n;else{if(n===null)throw Error(t(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ot===null?Ve.memoizedState=ot=n:ot=ot.next=n}return ot}function eo(n,r){return typeof r=="function"?r(n):r}function Yu(n){var r=on(),l=r.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var h=it,f=h.baseQueue,p=l.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}h.baseQueue=f=p,l.pending=null}if(f!==null){p=f.next,h=h.baseState;var w=v=null,T=null,F=p;do{var V=F.lane;if((ar&V)===V)T!==null&&(T=T.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),h=F.hasEagerState?F.eagerState:n(h,F.action);else{var K={lane:V,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};T===null?(w=T=K,v=h):T=T.next=K,Ve.lanes|=V,ur|=V}F=F.next}while(F!==null&&F!==p);T===null?v=h:T.next=w,yn(h,r.memoizedState)||(Ot=!0),r.memoizedState=h,r.baseState=v,r.baseQueue=T,l.lastRenderedState=h}if(n=l.interleaved,n!==null){f=n;do p=f.lane,Ve.lanes|=p,ur|=p,f=f.next;while(f!==n)}else f===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function ju(n){var r=on(),l=r.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var h=l.dispatch,f=l.pending,p=r.memoizedState;if(f!==null){l.pending=null;var v=f=f.next;do p=n(p,v.action),v=v.next;while(v!==f);yn(p,r.memoizedState)||(Ot=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,h]}function sf(){}function of(n,r){var l=Ve,h=on(),f=r(),p=!yn(h.memoizedState,f);if(p&&(h.memoizedState=f,Ot=!0),h=h.queue,Bu(uf.bind(null,l,h,n),[n]),h.getSnapshot!==r||p||ot!==null&&ot.memoizedState.tag&1){if(l.flags|=2048,to(9,af.bind(null,l,h,f,r),void 0,null),lt===null)throw Error(t(349));(ar&30)!==0||lf(l,r,f)}return f}function lf(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function af(n,r,l,h){r.value=l,r.getSnapshot=h,cf(r)&&hf(n)}function uf(n,r,l){return l(function(){cf(r)&&hf(n)})}function cf(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!yn(n,l)}catch{return!0}}function hf(n){var r=$n(n,1);r!==null&&Cn(r,n,1,-1)}function df(n){var r=On();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:n},r.queue=n,n=n.dispatch=a0.bind(null,Ve,n),[r.memoizedState,n]}function to(n,r,l,h){return n={tag:n,create:r,destroy:l,deps:h,next:null},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.lastEffect=n.next=n):(l=r.lastEffect,l===null?r.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,r.lastEffect=n)),n}function ff(){return on().memoizedState}function Sl(n,r,l,h){var f=On();Ve.flags|=n,f.memoizedState=to(1|r,l,void 0,h===void 0?null:h)}function Tl(n,r,l,h){var f=on();h=h===void 0?null:h;var p=void 0;if(it!==null){var v=it.memoizedState;if(p=v.destroy,h!==null&&Wu(h,v.deps)){f.memoizedState=to(r,l,p,h);return}}Ve.flags|=n,f.memoizedState=to(1|r,l,p,h)}function gf(n,r){return Sl(8390656,8,n,r)}function Bu(n,r){return Tl(2048,8,n,r)}function pf(n,r){return Tl(4,2,n,r)}function mf(n,r){return Tl(4,4,n,r)}function _f(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function yf(n,r,l){return l=l!=null?l.concat([n]):null,Tl(4,4,_f.bind(null,r,n),l)}function Vu(){}function vf(n,r){var l=on();r=r===void 0?null:r;var h=l.memoizedState;return h!==null&&r!==null&&Wu(r,h[1])?h[0]:(l.memoizedState=[n,r],n)}function Ef(n,r){var l=on();r=r===void 0?null:r;var h=l.memoizedState;return h!==null&&r!==null&&Wu(r,h[1])?h[0]:(n=n(),l.memoizedState=[n,r],n)}function xf(n,r,l){return(ar&21)===0?(n.baseState&&(n.baseState=!1,Ot=!0),n.memoizedState=l):(yn(l,r)||(l=$h(),Ve.lanes|=l,ur|=l,n.baseState=!0),r)}function o0(n,r){var l=Fe;Fe=l!==0&&4>l?l:4,n(!0);var h=Gu.transition;Gu.transition={};try{n(!1),r()}finally{Fe=l,Gu.transition=h}}function wf(){return on().memoizedState}function l0(n,r,l){var h=Ai(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Cf(n))Sf(r,l);else if(l=Jd(n,r,l,h),l!==null){var f=kt();Cn(l,n,h,f),Tf(l,r,h)}}function a0(n,r,l){var h=Ai(n),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cf(n))Sf(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,w=p(v,l);if(f.hasEagerState=!0,f.eagerState=w,yn(w,v)){var T=r.interleaved;T===null?(f.next=f,Au(r)):(f.next=T.next,T.next=f),r.interleaved=f;return}}catch{}finally{}l=Jd(n,r,f,h),l!==null&&(f=kt(),Cn(l,n,h,f),Tf(l,r,h))}}function Cf(n){var r=n.alternate;return n===Ve||r!==null&&r===Ve}function Sf(n,r){Qs=Cl=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function Tf(n,r,l){if((l&4194240)!==0){var h=r.lanes;h&=n.pendingLanes,l|=h,r.lanes=l,Ka(n,l)}}var Rl={readContext:sn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},u0={readContext:sn,useCallback:function(n,r){return On().memoizedState=[n,r===void 0?null:r],n},useContext:sn,useEffect:gf,useImperativeHandle:function(n,r,l){return l=l!=null?l.concat([n]):null,Sl(4194308,4,_f.bind(null,r,n),l)},useLayoutEffect:function(n,r){return Sl(4194308,4,n,r)},useInsertionEffect:function(n,r){return Sl(4,2,n,r)},useMemo:function(n,r){var l=On();return r=r===void 0?null:r,n=n(),l.memoizedState=[n,r],n},useReducer:function(n,r,l){var h=On();return r=l!==void 0?l(r):r,h.memoizedState=h.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},h.queue=n,n=n.dispatch=l0.bind(null,Ve,n),[h.memoizedState,n]},useRef:function(n){var r=On();return n={current:n},r.memoizedState=n},useState:df,useDebugValue:Vu,useDeferredValue:function(n){return On().memoizedState=n},useTransition:function(){var n=df(!1),r=n[0];return n=o0.bind(null,n[1]),On().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,l){var h=Ve,f=On();if(Ye){if(l===void 0)throw Error(t(407));l=l()}else{if(l=r(),lt===null)throw Error(t(349));(ar&30)!==0||lf(h,r,l)}f.memoizedState=l;var p={value:l,getSnapshot:r};return f.queue=p,gf(uf.bind(null,h,p,n),[n]),h.flags|=2048,to(9,af.bind(null,h,p,l,r),void 0,null),l},useId:function(){var n=On(),r=lt.identifierPrefix;if(Ye){var l=Hn,h=Zn;l=(h&~(1<<32-_n(h)-1)).toString(32)+l,r=":"+r+"R"+l,l=Js++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=s0++,r=":"+r+"r"+l.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},c0={readContext:sn,useCallback:vf,useContext:sn,useEffect:Bu,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:Ef,useReducer:Yu,useRef:ff,useState:function(){return Yu(eo)},useDebugValue:Vu,useDeferredValue:function(n){var r=on();return xf(r,it.memoizedState,n)},useTransition:function(){var n=Yu(eo)[0],r=on().memoizedState;return[n,r]},useMutableSource:sf,useSyncExternalStore:of,useId:wf,unstable_isNewReconciler:!1},h0={readContext:sn,useCallback:vf,useContext:sn,useEffect:Bu,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:Ef,useReducer:ju,useRef:ff,useState:function(){return ju(eo)},useDebugValue:Vu,useDeferredValue:function(n){var r=on();return it===null?r.memoizedState=n:xf(r,it.memoizedState,n)},useTransition:function(){var n=ju(eo)[0],r=on().memoizedState;return[n,r]},useMutableSource:sf,useSyncExternalStore:of,useId:wf,unstable_isNewReconciler:!1};function En(n,r){if(n&&n.defaultProps){r=Y({},r),n=n.defaultProps;for(var l in n)r[l]===void 0&&(r[l]=n[l]);return r}return r}function bu(n,r,l,h){r=n.memoizedState,l=l(h,r),l=l==null?r:Y({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Il={isMounted:function(n){return(n=n._reactInternals)?tr(n)===n:!1},enqueueSetState:function(n,r,l){n=n._reactInternals;var h=kt(),f=Ai(n),p=qn(h,f);p.payload=r,l!=null&&(p.callback=l),r=Li(n,p,f),r!==null&&(Cn(r,n,f,h),vl(r,n,f))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var h=kt(),f=Ai(n),p=qn(h,f);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=Li(n,p,f),r!==null&&(Cn(r,n,f,h),vl(r,n,f))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=kt(),h=Ai(n),f=qn(l,h);f.tag=2,r!=null&&(f.callback=r),r=Li(n,f,h),r!==null&&(Cn(r,n,h,l),vl(r,n,h))}};function Rf(n,r,l,h,f,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,p,v):r.prototype&&r.prototype.isPureReactComponent?!Us(l,h)||!Us(f,p):!0}function If(n,r,l){var h=!1,f=Ti,p=r.contextType;return typeof p=="object"&&p!==null?p=sn(p):(f=Dt(r)?ir:yt.current,h=r.contextTypes,p=(h=h!=null)?Xr(n,f):Ti),r=new r(l,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Il,n.stateNode=r,r._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=p),r}function Lf(n,r,l,h){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==n&&Il.enqueueReplaceState(r,r.state,null)}function Ku(n,r,l,h){var f=n.stateNode;f.props=l,f.state=n.memoizedState,f.refs={},Du(n);var p=r.contextType;typeof p=="object"&&p!==null?f.context=sn(p):(p=Dt(r)?ir:yt.current,f.context=Xr(n,p)),f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(bu(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Il.enqueueReplaceState(f,f.state,null),El(n,l,f,h),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Zr(n,r){try{var l="",h=r;do l+=me(h),h=h.return;while(h);var f=l}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:f,digest:null}}function Zu(n,r,l){return{value:n,source:null,stack:l??null,digest:r??null}}function Hu(n,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function kf(n,r,l){l=qn(-1,l),l.tag=3,l.payload={element:null};var h=r.value;return l.callback=function(){Ol||(Ol=!0,cc=h),Hu(n,r)},l}function Mf(n,r,l){l=qn(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var f=r.value;l.payload=function(){return h(f)},l.callback=function(){Hu(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){Hu(n,r),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),l}function Pf(n,r,l){var h=n.pingCache;if(h===null){h=n.pingCache=new d0;var f=new Set;h.set(r,f)}else f=h.get(r),f===void 0&&(f=new Set,h.set(r,f));f.has(l)||(f.add(l),n=R0.bind(null,n,r,l),r.then(n,n))}function Af(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Df(n,r,l,h,f){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=qn(-1,1),r.tag=2,Li(l,r,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var f0=D.ReactCurrentOwner,Ot=!1;function Lt(n,r,l,h){r.child=n===null?Qd(r,null,l,h):Br(r,n.child,l,h)}function Of(n,r,l,h,f){l=l.render;var p=r.ref;return br(r,f),h=Xu(n,r,l,h,p,f),l=Uu(),n!==null&&!Ot?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~f,Qn(n,r,f)):(Ye&&l&&Cu(r),r.flags|=1,Lt(n,r,h,f),r.child)}function Ff(n,r,l,h,f){if(n===null){var p=l.type;return typeof p=="function"&&!_c(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=p,Nf(n,r,p,h,f)):(n=Xl(l.type,null,h,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&f)===0){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Us,l(v,h)&&n.ref===r.ref)return Qn(n,r,f)}return r.flags|=1,n=Oi(p,h),n.ref=r.ref,n.return=r,r.child=n}function Nf(n,r,l,h,f){if(n!==null){var p=n.memoizedProps;if(Us(p,h)&&n.ref===r.ref)if(Ot=!1,r.pendingProps=h=p,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Ot=!0);else return r.lanes=n.lanes,Qn(n,r,f)}return $u(n,r,l,h,f)}function zf(n,r,l){var h=r.pendingProps,f=h.children,p=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge($r,Zt),Zt|=l;else{if((l&1073741824)===0)return n=p!==null?p.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ge($r,Zt),Zt|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=p!==null?p.baseLanes:l,Ge($r,Zt),Zt|=h}else p!==null?(h=p.baseLanes|l,r.memoizedState=null):h=l,Ge($r,Zt),Zt|=h;return Lt(n,r,f,l),r.child}function Gf(n,r){var l=r.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function $u(n,r,l,h,f){var p=Dt(l)?ir:yt.current;return p=Xr(r,p),br(r,f),l=Xu(n,r,l,h,p,f),h=Uu(),n!==null&&!Ot?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~f,Qn(n,r,f)):(Ye&&h&&Cu(r),r.flags|=1,Lt(n,r,l,f),r.child)}function Wf(n,r,l,h,f){if(Dt(l)){var p=!0;hl(r)}else p=!1;if(br(r,f),r.stateNode===null)kl(n,r),If(r,l,h),Ku(r,l,h,f),h=!0;else if(n===null){var v=r.stateNode,w=r.memoizedProps;v.props=w;var T=v.context,F=l.contextType;typeof F=="object"&&F!==null?F=sn(F):(F=Dt(l)?ir:yt.current,F=Xr(r,F));var V=l.getDerivedStateFromProps,K=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function";K||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==h||T!==F)&&Lf(r,v,h,F),Ii=!1;var B=r.memoizedState;v.state=B,El(r,h,v,f),T=r.memoizedState,w!==h||B!==T||At.current||Ii?(typeof V=="function"&&(bu(r,l,V,h),T=r.memoizedState),(w=Ii||Rf(r,l,w,h,B,T,F))?(K||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=T),v.props=h,v.state=T,v.context=F,h=w):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,ef(n,r),w=r.memoizedProps,F=r.type===r.elementType?w:En(r.type,w),v.props=F,K=r.pendingProps,B=v.context,T=l.contextType,typeof T=="object"&&T!==null?T=sn(T):(T=Dt(l)?ir:yt.current,T=Xr(r,T));var q=l.getDerivedStateFromProps;(V=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==K||B!==T)&&Lf(r,v,h,T),Ii=!1,B=r.memoizedState,v.state=B,El(r,h,v,f);var ee=r.memoizedState;w!==K||B!==ee||At.current||Ii?(typeof q=="function"&&(bu(r,l,q,h),ee=r.memoizedState),(F=Ii||Rf(r,l,F,h,B,ee,T)||!1)?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ee,T),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ee,T)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=ee),v.props=h,v.state=ee,v.context=T,h=F):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),h=!1)}return qu(n,r,l,h,p,f)}function qu(n,r,l,h,f,p){Gf(n,r);var v=(r.flags&128)!==0;if(!h&&!v)return f&&jd(r,l,!1),Qn(n,r,p);h=r.stateNode,f0.current=r;var w=v&&typeof l.getDerivedStateFromError!="function"?null:h.render();return r.flags|=1,n!==null&&v?(r.child=Br(r,n.child,null,p),r.child=Br(r,null,w,p)):Lt(n,r,w,p),r.memoizedState=h.state,f&&jd(r,l,!0),r.child}function Xf(n){var r=n.stateNode;r.pendingContext?Ud(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Ud(n,r.context,!1),Ou(n,r.containerInfo)}function Uf(n,r,l,h,f){return jr(),Iu(f),r.flags|=256,Lt(n,r,l,h),r.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Ju(n){return{baseLanes:n,cachePool:null,transitions:null}}function Yf(n,r,l){var h=r.pendingProps,f=Be.current,p=!1,v=(r.flags&128)!==0,w;if((w=v)||(w=n!==null&&n.memoizedState===null?!1:(f&2)!==0),w?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ge(Be,f&1),n===null)return Ru(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=h.children,n=h.fallback,p?(h=r.mode,p=r.child,v={mode:"hidden",children:v},(h&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Ul(v,h,0,null),n=fr(n,h,l,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=Ju(l),r.memoizedState=Qu,n):ec(r,v));if(f=n.memoizedState,f!==null&&(w=f.dehydrated,w!==null))return g0(n,r,v,h,w,f,l);if(p){p=h.fallback,v=r.mode,f=n.child,w=f.sibling;var T={mode:"hidden",children:h.children};return(v&1)===0&&r.child!==f?(h=r.child,h.childLanes=0,h.pendingProps=T,r.deletions=null):(h=Oi(f,T),h.subtreeFlags=f.subtreeFlags&14680064),w!==null?p=Oi(w,p):(p=fr(p,v,l,null),p.flags|=2),p.return=r,h.return=r,h.sibling=p,r.child=h,h=p,p=r.child,v=n.child.memoizedState,v=v===null?Ju(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=n.childLanes&~l,r.memoizedState=Qu,h}return p=n.child,n=p.sibling,h=Oi(p,{mode:"visible",children:h.children}),(r.mode&1)===0&&(h.lanes=l),h.return=r,h.sibling=null,n!==null&&(l=r.deletions,l===null?(r.deletions=[n],r.flags|=16):l.push(n)),r.child=h,r.memoizedState=null,h}function ec(n,r){return r=Ul({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Ll(n,r,l,h){return h!==null&&Iu(h),Br(r,n.child,null,l),n=ec(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function g0(n,r,l,h,f,p,v){if(l)return r.flags&256?(r.flags&=-257,h=Zu(Error(t(422))),Ll(n,r,v,h)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=h.fallback,f=r.mode,h=Ul({mode:"visible",children:h.children},f,0,null),p=fr(p,f,v,null),p.flags|=2,h.return=r,p.return=r,h.sibling=p,r.child=h,(r.mode&1)!==0&&Br(r,n.child,null,v),r.child.memoizedState=Ju(v),r.memoizedState=Qu,p);if((r.mode&1)===0)return Ll(n,r,v,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var w=h.dgst;return h=w,p=Error(t(419)),h=Zu(p,h,void 0),Ll(n,r,v,h)}if(w=(v&n.childLanes)!==0,Ot||w){if(h=lt,h!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|v))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,$n(n,f),Cn(h,n,f,-1))}return mc(),h=Zu(Error(t(421))),Ll(n,r,v,h)}return f.data==="$?"?(r.flags|=128,r.child=n.child,r=I0.bind(null,n),f._reactRetry=r,null):(n=p.treeContext,Kt=Ci(f.nextSibling),bt=r,Ye=!0,vn=null,n!==null&&(nn[rn++]=Zn,nn[rn++]=Hn,nn[rn++]=rr,Zn=n.id,Hn=n.overflow,rr=r),r=ec(r,h.children),r.flags|=4096,r)}function jf(n,r,l){n.lanes|=r;var h=n.alternate;h!==null&&(h.lanes|=r),Pu(n.return,r,l)}function tc(n,r,l,h,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=h,p.tail=l,p.tailMode=f)}function Bf(n,r,l){var h=r.pendingProps,f=h.revealOrder,p=h.tail;if(Lt(n,r,h.children,l),h=Be.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jf(n,l,r);else if(n.tag===19)jf(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Ge(Be,h),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(l=r.child,f=null;l!==null;)n=l.alternate,n!==null&&xl(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=r.child,r.child=null):(f=l.sibling,l.sibling=null),tc(r,!1,f,l,p);break;case"backwards":for(l=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&xl(n)===null){r.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}tc(r,!0,l,null,p);break;case"together":tc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function kl(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Qn(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),ur|=r.lanes,(l&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,l=Oi(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=Oi(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function p0(n,r,l){switch(r.tag){case 3:Xf(r),jr();break;case 5:rf(r);break;case 1:Dt(r.type)&&hl(r);break;case 4:Ou(r,r.stateNode.containerInfo);break;case 10:var h=r.type._context,f=r.memoizedProps.value;Ge(_l,h._currentValue),h._currentValue=f;break;case 13:if(h=r.memoizedState,h!==null)return h.dehydrated!==null?(Ge(Be,Be.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?Yf(n,r,l):(Ge(Be,Be.current&1),n=Qn(n,r,l),n!==null?n.sibling:null);Ge(Be,Be.current&1);break;case 19:if(h=(l&r.childLanes)!==0,(n.flags&128)!==0){if(h)return Bf(n,r,l);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ge(Be,Be.current),h)break;return null;case 22:case 23:return r.lanes=0,zf(n,r,l)}return Qn(n,r,l)}var Vf,nc,bf,Kf;Vf=function(n,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},nc=function(){},bf=function(n,r,l,h){var f=n.memoizedProps;if(f!==h){n=r.stateNode,lr(Dn.current);var p=null;switch(l){case"input":f=Qt(n,f),h=Qt(n,h),p=[];break;case"select":f=Y({},f,{value:void 0}),h=Y({},h,{value:void 0}),p=[];break;case"textarea":f=Yt(n,f),h=Yt(n,h),p=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=al)}Ir(l,h);var v;l=null;for(F in f)if(!h.hasOwnProperty(F)&&f.hasOwnProperty(F)&&f[F]!=null)if(F==="style"){var w=f[F];for(v in w)w.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in h){var T=h[F];if(w=f!=null?f[F]:void 0,h.hasOwnProperty(F)&&T!==w&&(T!=null||w!=null))if(F==="style")if(w){for(v in w)!w.hasOwnProperty(v)||T&&T.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in T)T.hasOwnProperty(v)&&w[v]!==T[v]&&(l||(l={}),l[v]=T[v])}else l||(p||(p=[]),p.push(F,l)),l=T;else F==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,w=w?w.__html:void 0,T!=null&&w!==T&&(p=p||[]).push(F,T)):F==="children"?typeof T!="string"&&typeof T!="number"||(p=p||[]).push(F,""+T):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(T!=null&&F==="onScroll"&&We("scroll",n),p||w===T||(p=[])):(p=p||[]).push(F,T))}l&&(p=p||[]).push("style",l);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Kf=function(n,r,l,h){l!==h&&(r.flags|=4)};function no(n,r){if(!Ye)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Et(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(r)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=h,n.childLanes=l,r}function m0(n,r,l){var h=r.pendingProps;switch(Su(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(r),null;case 1:return Dt(r.type)&&cl(),Et(r),null;case 3:return h=r.stateNode,Kr(),Xe(At),Xe(yt),zu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(pl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vn!==null&&(fc(vn),vn=null))),nc(n,r),Et(r),null;case 5:Fu(r);var f=lr(qs.current);if(l=r.type,n!==null&&r.stateNode!=null)bf(n,r,l,h,f),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!h){if(r.stateNode===null)throw Error(t(166));return Et(r),null}if(n=lr(Dn.current),pl(r)){h=r.stateNode,l=r.type;var p=r.memoizedProps;switch(h[An]=r,h[bs]=p,n=(r.mode&1)!==0,l){case"dialog":We("cancel",h),We("close",h);break;case"iframe":case"object":case"embed":We("load",h);break;case"video":case"audio":for(f=0;f<js.length;f++)We(js[f],h);break;case"source":We("error",h);break;case"img":case"image":case"link":We("error",h),We("load",h);break;case"details":We("toggle",h);break;case"input":gi(h,p),We("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!p.multiple},We("invalid",h);break;case"textarea":In(h,p),We("invalid",h)}Ir(l,p),f=null;for(var v in p)if(p.hasOwnProperty(v)){var w=p[v];v==="children"?typeof w=="string"?h.textContent!==w&&(p.suppressHydrationWarning!==!0&&ll(h.textContent,w,n),f=["children",w]):typeof w=="number"&&h.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&ll(h.textContent,w,n),f=["children",""+w]):o.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&We("scroll",h)}switch(l){case"input":Bn(h),$i(h,p,!0);break;case"textarea":Bn(h),pn(h);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(h.onclick=al)}h=f,r.updateQueue=h,h!==null&&(r.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=kn(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=v.createElement(l,{is:h.is}):(n=v.createElement(l),l==="select"&&(v=n,h.multiple?v.multiple=!0:h.size&&(v.size=h.size))):n=v.createElementNS(n,l),n[An]=r,n[bs]=h,Vf(n,r,!1,!1),r.stateNode=n;e:{switch(v=Lr(l,h),l){case"dialog":We("cancel",n),We("close",n),f=h;break;case"iframe":case"object":case"embed":We("load",n),f=h;break;case"video":case"audio":for(f=0;f<js.length;f++)We(js[f],n);f=h;break;case"source":We("error",n),f=h;break;case"img":case"image":case"link":We("error",n),We("load",n),f=h;break;case"details":We("toggle",n),f=h;break;case"input":gi(n,h),f=Qt(n,h),We("invalid",n);break;case"option":f=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},f=Y({},h,{value:void 0}),We("invalid",n);break;case"textarea":In(n,h),f=Yt(n,h),We("invalid",n);break;default:f=h}Ir(l,f),w=f;for(p in w)if(w.hasOwnProperty(p)){var T=w[p];p==="style"?Yo(n,T):p==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Qe(n,T)):p==="children"?typeof T=="string"?(l!=="textarea"||T!=="")&&Qi(n,T):typeof T=="number"&&Qi(n,""+T):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?T!=null&&p==="onScroll"&&We("scroll",n):T!=null&&O(n,p,T,v))}switch(l){case"input":Bn(n),$i(n,h,!1);break;case"textarea":Bn(n),pn(n);break;case"option":h.value!=null&&n.setAttribute("value",""+xe(h.value));break;case"select":n.multiple=!!h.multiple,p=h.value,p!=null?nt(n,!!h.multiple,p,!1):h.defaultValue!=null&&nt(n,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=al)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Et(r),null;case 6:if(n&&r.stateNode!=null)Kf(n,r,n.memoizedProps,h);else{if(typeof h!="string"&&r.stateNode===null)throw Error(t(166));if(l=lr(qs.current),lr(Dn.current),pl(r)){if(h=r.stateNode,l=r.memoizedProps,h[An]=r,(p=h.nodeValue!==l)&&(n=bt,n!==null))switch(n.tag){case 3:ll(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ll(h.nodeValue,l,(n.mode&1)!==0)}p&&(r.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[An]=r,r.stateNode=h}return Et(r),null;case 13:if(Xe(Be),h=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&Kt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Hd(),jr(),r.flags|=98560,p=!1;else if(p=pl(r),h!==null&&h.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[An]=r}else jr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Et(r),p=!1}else vn!==null&&(fc(vn),vn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Be.current&1)!==0?rt===0&&(rt=3):mc())),r.updateQueue!==null&&(r.flags|=4),Et(r),null);case 4:return Kr(),nc(n,r),n===null&&Bs(r.stateNode.containerInfo),Et(r),null;case 10:return Mu(r.type._context),Et(r),null;case 17:return Dt(r.type)&&cl(),Et(r),null;case 19:if(Xe(Be),p=r.memoizedState,p===null)return Et(r),null;if(h=(r.flags&128)!==0,v=p.rendering,v===null)if(h)no(p,!1);else{if(rt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=xl(n),v!==null){for(r.flags|=128,no(p,!1),h=v.updateQueue,h!==null&&(r.updateQueue=h,r.flags|=4),r.subtreeFlags=0,h=l,l=r.child;l!==null;)p=l,n=h,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,n=v.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ge(Be,Be.current&1|2),r.child}n=n.sibling}p.tail!==null&&$e()>qr&&(r.flags|=128,h=!0,no(p,!1),r.lanes=4194304)}else{if(!h)if(n=xl(v),n!==null){if(r.flags|=128,h=!0,l=n.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),no(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ye)return Et(r),null}else 2*$e()-p.renderingStartTime>qr&&l!==1073741824&&(r.flags|=128,h=!0,no(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(l=p.last,l!==null?l.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,l=Be.current,Ge(Be,h?l&1|2:l&1),r):(Et(r),null);case 22:case 23:return pc(),h=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(r.flags|=8192),h&&(r.mode&1)!==0?(Zt&1073741824)!==0&&(Et(r),r.subtreeFlags&6&&(r.flags|=8192)):Et(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function _0(n,r){switch(Su(r),r.tag){case 1:return Dt(r.type)&&cl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Kr(),Xe(At),Xe(yt),zu(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Fu(r),null;case 13:if(Xe(Be),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));jr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Xe(Be),null;case 4:return Kr(),null;case 10:return Mu(r.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var Ml=!1,xt=!1,y0=typeof WeakSet=="function"?WeakSet:Set,J=null;function Hr(n,r){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){be(n,r,h)}else l.current=null}function ic(n,r,l){try{l()}catch(h){be(n,r,h)}}var Zf=!1;function v0(n,r){if(pu=$o,n=Td(),lu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,p=h.focusNode;h=h.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var v=0,w=-1,T=-1,F=0,V=0,K=n,B=null;t:for(;;){for(var q;K!==l||f!==0&&K.nodeType!==3||(w=v+f),K!==p||h!==0&&K.nodeType!==3||(T=v+h),K.nodeType===3&&(v+=K.nodeValue.length),(q=K.firstChild)!==null;)B=K,K=q;for(;;){if(K===n)break t;if(B===l&&++F===f&&(w=v),B===p&&++V===h&&(T=v),(q=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=q}l=w===-1||T===-1?null:{start:w,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(mu={focusedElem:n,selectionRange:l},$o=!1,J=r;J!==null;)if(r=J,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,J=n;else for(;J!==null;){r=J;try{var ee=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var ne=ee.memoizedProps,qe=ee.memoizedState,P=r.stateNode,k=P.getSnapshotBeforeUpdate(r.elementType===r.type?ne:En(r.type,ne),qe);P.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var A=r.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(H){be(r,r.return,H)}if(n=r.sibling,n!==null){n.return=r.return,J=n;break}J=r.return}return ee=Zf,Zf=!1,ee}function io(n,r,l){var h=r.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&n)===n){var p=f.destroy;f.destroy=void 0,p!==void 0&&ic(r,l,p)}f=f.next}while(f!==h)}}function Pl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==r)}}function rc(n){var r=n.ref;if(r!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof r=="function"?r(n):r.current=n}}function Hf(n){var r=n.alternate;r!==null&&(n.alternate=null,Hf(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[An],delete r[bs],delete r[Eu],delete r[t0],delete r[n0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $f(n){return n.tag===5||n.tag===3||n.tag===4}function qf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$f(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sc(n,r,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(n,r):l.insertBefore(n,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(n,l)):(r=l,r.appendChild(n)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=al));else if(h!==4&&(n=n.child,n!==null))for(sc(n,r,l),n=n.sibling;n!==null;)sc(n,r,l),n=n.sibling}function oc(n,r,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(oc(n,r,l),n=n.sibling;n!==null;)oc(n,r,l),n=n.sibling}var dt=null,xn=!1;function ki(n,r,l){for(l=l.child;l!==null;)Qf(n,r,l),l=l.sibling}function Qf(n,r,l){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Bo,l)}catch{}switch(l.tag){case 5:xt||Hr(l,r);case 6:var h=dt,f=xn;dt=null,ki(n,r,l),dt=h,xn=f,dt!==null&&(xn?(n=dt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):dt.removeChild(l.stateNode));break;case 18:dt!==null&&(xn?(n=dt,l=l.stateNode,n.nodeType===8?vu(n.parentNode,l):n.nodeType===1&&vu(n,l),Fs(n)):vu(dt,l.stateNode));break;case 4:h=dt,f=xn,dt=l.stateNode.containerInfo,xn=!0,ki(n,r,l),dt=h,xn=f;break;case 0:case 11:case 14:case 15:if(!xt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var p=f,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&ic(l,r,v),f=f.next}while(f!==h)}ki(n,r,l);break;case 1:if(!xt&&(Hr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(w){be(l,r,w)}ki(n,r,l);break;case 21:ki(n,r,l);break;case 22:l.mode&1?(xt=(h=xt)||l.memoizedState!==null,ki(n,r,l),xt=h):ki(n,r,l);break;default:ki(n,r,l)}}function Jf(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new y0),r.forEach(function(h){var f=L0.bind(null,n,h);l.has(h)||(l.add(h),h.then(f,f))})}}function wn(n,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var p=n,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 5:dt=w.stateNode,xn=!1;break e;case 3:dt=w.stateNode.containerInfo,xn=!0;break e;case 4:dt=w.stateNode.containerInfo,xn=!0;break e}w=w.return}if(dt===null)throw Error(t(160));Qf(p,v,f),dt=null,xn=!1;var T=f.alternate;T!==null&&(T.return=null),f.return=null}catch(F){be(f,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)eg(r,n),r=r.sibling}function eg(n,r){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(wn(r,n),Fn(n),h&4){try{io(3,n,n.return),Pl(3,n)}catch(ne){be(n,n.return,ne)}try{io(5,n,n.return)}catch(ne){be(n,n.return,ne)}}break;case 1:wn(r,n),Fn(n),h&512&&l!==null&&Hr(l,l.return);break;case 5:if(wn(r,n),Fn(n),h&512&&l!==null&&Hr(l,l.return),n.flags&32){var f=n.stateNode;try{Qi(f,"")}catch(ne){be(n,n.return,ne)}}if(h&4&&(f=n.stateNode,f!=null)){var p=n.memoizedProps,v=l!==null?l.memoizedProps:p,w=n.type,T=n.updateQueue;if(n.updateQueue=null,T!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&gn(f,p),Lr(w,v);var F=Lr(w,p);for(v=0;v<T.length;v+=2){var V=T[v],K=T[v+1];V==="style"?Yo(f,K):V==="dangerouslySetInnerHTML"?Qe(f,K):V==="children"?Qi(f,K):O(f,V,K,F)}switch(w){case"input":Vn(f,p);break;case"textarea":Ln(f,p);break;case"select":var B=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var q=p.value;q!=null?nt(f,!!p.multiple,q,!1):B!==!!p.multiple&&(p.defaultValue!=null?nt(f,!!p.multiple,p.defaultValue,!0):nt(f,!!p.multiple,p.multiple?[]:"",!1))}f[bs]=p}catch(ne){be(n,n.return,ne)}}break;case 6:if(wn(r,n),Fn(n),h&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,p=n.memoizedProps;try{f.nodeValue=p}catch(ne){be(n,n.return,ne)}}break;case 3:if(wn(r,n),Fn(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Fs(r.containerInfo)}catch(ne){be(n,n.return,ne)}break;case 4:wn(r,n),Fn(n);break;case 13:wn(r,n),Fn(n),f=n.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(uc=$e())),h&4&&Jf(n);break;case 22:if(V=l!==null&&l.memoizedState!==null,n.mode&1?(xt=(F=xt)||V,wn(r,n),xt=F):wn(r,n),Fn(n),h&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!V&&(n.mode&1)!==0)for(J=n,V=n.child;V!==null;){for(K=J=V;J!==null;){switch(B=J,q=B.child,B.tag){case 0:case 11:case 14:case 15:io(4,B,B.return);break;case 1:Hr(B,B.return);var ee=B.stateNode;if(typeof ee.componentWillUnmount=="function"){h=B,l=B.return;try{r=h,ee.props=r.memoizedProps,ee.state=r.memoizedState,ee.componentWillUnmount()}catch(ne){be(h,l,ne)}}break;case 5:Hr(B,B.return);break;case 22:if(B.memoizedState!==null){ig(K);continue}}q!==null?(q.return=B,J=q):ig(K)}V=V.sibling}e:for(V=null,K=n;;){if(K.tag===5){if(V===null){V=K;try{f=K.stateNode,F?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=K.stateNode,T=K.memoizedProps.style,v=T!=null&&T.hasOwnProperty("display")?T.display:null,w.style.display=Rr("display",v))}catch(ne){be(n,n.return,ne)}}}else if(K.tag===6){if(V===null)try{K.stateNode.nodeValue=F?"":K.memoizedProps}catch(ne){be(n,n.return,ne)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===n)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===n)break e;for(;K.sibling===null;){if(K.return===null||K.return===n)break e;V===K&&(V=null),K=K.return}V===K&&(V=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:wn(r,n),Fn(n),h&4&&Jf(n);break;case 21:break;default:wn(r,n),Fn(n)}}function Fn(n){var r=n.flags;if(r&2){try{e:{for(var l=n.return;l!==null;){if($f(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Qi(f,""),h.flags&=-33);var p=qf(n);oc(n,p,f);break;case 3:case 4:var v=h.stateNode.containerInfo,w=qf(n);sc(n,w,v);break;default:throw Error(t(161))}}catch(T){be(n,n.return,T)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function E0(n,r,l){J=n,tg(n)}function tg(n,r,l){for(var h=(n.mode&1)!==0;J!==null;){var f=J,p=f.child;if(f.tag===22&&h){var v=f.memoizedState!==null||Ml;if(!v){var w=f.alternate,T=w!==null&&w.memoizedState!==null||xt;w=Ml;var F=xt;if(Ml=v,(xt=T)&&!F)for(J=f;J!==null;)v=J,T=v.child,v.tag===22&&v.memoizedState!==null?rg(f):T!==null?(T.return=v,J=T):rg(f);for(;p!==null;)J=p,tg(p),p=p.sibling;J=f,Ml=w,xt=F}ng(n)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,J=p):ng(n)}}function ng(n){for(;J!==null;){var r=J;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:xt||Pl(5,r);break;case 1:var h=r.stateNode;if(r.flags&4&&!xt)if(l===null)h.componentDidMount();else{var f=r.elementType===r.type?l.memoizedProps:En(r.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&nf(r,p,h);break;case 3:var v=r.updateQueue;if(v!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}nf(r,v,l)}break;case 5:var w=r.stateNode;if(l===null&&r.flags&4){l=w;var T=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&l.focus();break;case"img":T.src&&(l.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var V=F.memoizedState;if(V!==null){var K=V.dehydrated;K!==null&&Fs(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xt||r.flags&512&&rc(r)}catch(B){be(r,r.return,B)}}if(r===n){J=null;break}if(l=r.sibling,l!==null){l.return=r.return,J=l;break}J=r.return}}function ig(n){for(;J!==null;){var r=J;if(r===n){J=null;break}var l=r.sibling;if(l!==null){l.return=r.return,J=l;break}J=r.return}}function rg(n){for(;J!==null;){var r=J;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{Pl(4,r)}catch(T){be(r,l,T)}break;case 1:var h=r.stateNode;if(typeof h.componentDidMount=="function"){var f=r.return;try{h.componentDidMount()}catch(T){be(r,f,T)}}var p=r.return;try{rc(r)}catch(T){be(r,p,T)}break;case 5:var v=r.return;try{rc(r)}catch(T){be(r,v,T)}}}catch(T){be(r,r.return,T)}if(r===n){J=null;break}var w=r.sibling;if(w!==null){w.return=r.return,J=w;break}J=r.return}}var x0=Math.ceil,Al=D.ReactCurrentDispatcher,lc=D.ReactCurrentOwner,ln=D.ReactCurrentBatchConfig,Te=0,lt=null,Je=null,ft=0,Zt=0,$r=Si(0),rt=0,ro=null,ur=0,Dl=0,ac=0,so=null,Ft=null,uc=0,qr=1/0,Jn=null,Ol=!1,cc=null,Mi=null,Fl=!1,Pi=null,Nl=0,oo=0,hc=null,zl=-1,Gl=0;function kt(){return(Te&6)!==0?$e():zl!==-1?zl:zl=$e()}function Ai(n){return(n.mode&1)===0?1:(Te&2)!==0&&ft!==0?ft&-ft:r0.transition!==null?(Gl===0&&(Gl=$h()),Gl):(n=Fe,n!==0||(n=window.event,n=n===void 0?16:sd(n.type)),n)}function Cn(n,r,l,h){if(50<oo)throw oo=0,hc=null,Error(t(185));Ms(n,l,h),((Te&2)===0||n!==lt)&&(n===lt&&((Te&2)===0&&(Dl|=l),rt===4&&Di(n,ft)),Nt(n,h),l===1&&Te===0&&(r.mode&1)===0&&(qr=$e()+500,dl&&Ri()))}function Nt(n,r){var l=n.callbackNode;r_(n,r);var h=Ko(n,n===lt?ft:0);if(h===0)l!==null&&Kh(l),n.callbackNode=null,n.callbackPriority=0;else if(r=h&-h,n.callbackPriority!==r){if(l!=null&&Kh(l),r===1)n.tag===0?i0(og.bind(null,n)):Bd(og.bind(null,n)),J_(function(){(Te&6)===0&&Ri()}),l=null;else{switch(qh(h)){case 1:l=Ba;break;case 4:l=Zh;break;case 16:l=jo;break;case 536870912:l=Hh;break;default:l=jo}l=gg(l,sg.bind(null,n))}n.callbackPriority=r,n.callbackNode=l}}function sg(n,r){if(zl=-1,Gl=0,(Te&6)!==0)throw Error(t(327));var l=n.callbackNode;if(Qr()&&n.callbackNode!==l)return null;var h=Ko(n,n===lt?ft:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||r)r=Wl(n,h);else{r=h;var f=Te;Te|=2;var p=ag();(lt!==n||ft!==r)&&(Jn=null,qr=$e()+500,hr(n,r));do try{S0();break}catch(w){lg(n,w)}while(!0);ku(),Al.current=p,Te=f,Je!==null?r=0:(lt=null,ft=0,r=rt)}if(r!==0){if(r===2&&(f=Va(n),f!==0&&(h=f,r=dc(n,f))),r===1)throw l=ro,hr(n,0),Di(n,h),Nt(n,$e()),l;if(r===6)Di(n,h);else{if(f=n.current.alternate,(h&30)===0&&!w0(f)&&(r=Wl(n,h),r===2&&(p=Va(n),p!==0&&(h=p,r=dc(n,p))),r===1))throw l=ro,hr(n,0),Di(n,h),Nt(n,$e()),l;switch(n.finishedWork=f,n.finishedLanes=h,r){case 0:case 1:throw Error(t(345));case 2:dr(n,Ft,Jn);break;case 3:if(Di(n,h),(h&130023424)===h&&(r=uc+500-$e(),10<r)){if(Ko(n,0)!==0)break;if(f=n.suspendedLanes,(f&h)!==h){kt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=yu(dr.bind(null,n,Ft,Jn),r);break}dr(n,Ft,Jn);break;case 4:if(Di(n,h),(h&4194240)===h)break;for(r=n.eventTimes,f=-1;0<h;){var v=31-_n(h);p=1<<v,v=r[v],v>f&&(f=v),h&=~p}if(h=f,h=$e()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*x0(h/1960))-h,10<h){n.timeoutHandle=yu(dr.bind(null,n,Ft,Jn),h);break}dr(n,Ft,Jn);break;case 5:dr(n,Ft,Jn);break;default:throw Error(t(329))}}}return Nt(n,$e()),n.callbackNode===l?sg.bind(null,n):null}function dc(n,r){var l=so;return n.current.memoizedState.isDehydrated&&(hr(n,r).flags|=256),n=Wl(n,r),n!==2&&(r=Ft,Ft=l,r!==null&&fc(r)),n}function fc(n){Ft===null?Ft=n:Ft.push.apply(Ft,n)}function w0(n){for(var r=n;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],p=f.getSnapshot;f=f.value;try{if(!yn(p(),f))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Di(n,r){for(r&=~ac,r&=~Dl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var l=31-_n(r),h=1<<l;n[l]=-1,r&=~h}}function og(n){if((Te&6)!==0)throw Error(t(327));Qr();var r=Ko(n,0);if((r&1)===0)return Nt(n,$e()),null;var l=Wl(n,r);if(n.tag!==0&&l===2){var h=Va(n);h!==0&&(r=h,l=dc(n,h))}if(l===1)throw l=ro,hr(n,0),Di(n,r),Nt(n,$e()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,dr(n,Ft,Jn),Nt(n,$e()),null}function gc(n,r){var l=Te;Te|=1;try{return n(r)}finally{Te=l,Te===0&&(qr=$e()+500,dl&&Ri())}}function cr(n){Pi!==null&&Pi.tag===0&&(Te&6)===0&&Qr();var r=Te;Te|=1;var l=ln.transition,h=Fe;try{if(ln.transition=null,Fe=1,n)return n()}finally{Fe=h,ln.transition=l,Te=r,(Te&6)===0&&Ri()}}function pc(){Zt=$r.current,Xe($r)}function hr(n,r){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Q_(l)),Je!==null)for(l=Je.return;l!==null;){var h=l;switch(Su(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cl();break;case 3:Kr(),Xe(At),Xe(yt),zu();break;case 5:Fu(h);break;case 4:Kr();break;case 13:Xe(Be);break;case 19:Xe(Be);break;case 10:Mu(h.type._context);break;case 22:case 23:pc()}l=l.return}if(lt=n,Je=n=Oi(n.current,null),ft=Zt=r,rt=0,ro=null,ac=Dl=ur=0,Ft=so=null,or!==null){for(r=0;r<or.length;r++)if(l=or[r],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,p=l.pending;if(p!==null){var v=p.next;p.next=f,h.next=v}l.pending=h}or=null}return n}function lg(n,r){do{var l=Je;try{if(ku(),wl.current=Rl,Cl){for(var h=Ve.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Cl=!1}if(ar=0,ot=it=Ve=null,Qs=!1,Js=0,lc.current=null,l===null||l.return===null){rt=1,ro=r,Je=null;break}e:{var p=n,v=l.return,w=l,T=r;if(r=ft,w.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var F=T,V=w,K=V.tag;if((V.mode&1)===0&&(K===0||K===11||K===15)){var B=V.alternate;B?(V.updateQueue=B.updateQueue,V.memoizedState=B.memoizedState,V.lanes=B.lanes):(V.updateQueue=null,V.memoizedState=null)}var q=Af(v);if(q!==null){q.flags&=-257,Df(q,v,w,p,r),q.mode&1&&Pf(p,F,r),r=q,T=F;var ee=r.updateQueue;if(ee===null){var ne=new Set;ne.add(T),r.updateQueue=ne}else ee.add(T);break e}else{if((r&1)===0){Pf(p,F,r),mc();break e}T=Error(t(426))}}else if(Ye&&w.mode&1){var qe=Af(v);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),Df(qe,v,w,p,r),Iu(Zr(T,w));break e}}p=T=Zr(T,w),rt!==4&&(rt=2),so===null?so=[p]:so.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var P=kf(p,T,r);tf(p,P);break e;case 1:w=T;var k=p.type,A=p.stateNode;if((p.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Mi===null||!Mi.has(A)))){p.flags|=65536,r&=-r,p.lanes|=r;var H=Mf(p,w,r);tf(p,H);break e}}p=p.return}while(p!==null)}cg(l)}catch(ie){r=ie,Je===l&&l!==null&&(Je=l=l.return);continue}break}while(!0)}function ag(){var n=Al.current;return Al.current=Rl,n===null?Rl:n}function mc(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||(ur&268435455)===0&&(Dl&268435455)===0||Di(lt,ft)}function Wl(n,r){var l=Te;Te|=2;var h=ag();(lt!==n||ft!==r)&&(Jn=null,hr(n,r));do try{C0();break}catch(f){lg(n,f)}while(!0);if(ku(),Te=l,Al.current=h,Je!==null)throw Error(t(261));return lt=null,ft=0,rt}function C0(){for(;Je!==null;)ug(Je)}function S0(){for(;Je!==null&&!Hm();)ug(Je)}function ug(n){var r=fg(n.alternate,n,Zt);n.memoizedProps=n.pendingProps,r===null?cg(n):Je=r,lc.current=null}function cg(n){var r=n;do{var l=r.alternate;if(n=r.return,(r.flags&32768)===0){if(l=m0(l,r,Zt),l!==null){Je=l;return}}else{if(l=_0(l,r),l!==null){l.flags&=32767,Je=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{rt=6,Je=null;return}}if(r=r.sibling,r!==null){Je=r;return}Je=r=n}while(r!==null);rt===0&&(rt=5)}function dr(n,r,l){var h=Fe,f=ln.transition;try{ln.transition=null,Fe=1,T0(n,r,l,h)}finally{ln.transition=f,Fe=h}return null}function T0(n,r,l,h){do Qr();while(Pi!==null);if((Te&6)!==0)throw Error(t(327));l=n.finishedWork;var f=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=l.lanes|l.childLanes;if(s_(n,p),n===lt&&(Je=lt=null,ft=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Fl||(Fl=!0,gg(jo,function(){return Qr(),null})),p=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||p){p=ln.transition,ln.transition=null;var v=Fe;Fe=1;var w=Te;Te|=4,lc.current=null,v0(n,l),eg(l,n),V_(mu),$o=!!pu,mu=pu=null,n.current=l,E0(l),$m(),Te=w,Fe=v,ln.transition=p}else n.current=l;if(Fl&&(Fl=!1,Pi=n,Nl=f),p=n.pendingLanes,p===0&&(Mi=null),Jm(l.stateNode),Nt(n,$e()),r!==null)for(h=n.onRecoverableError,l=0;l<r.length;l++)f=r[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Ol)throw Ol=!1,n=cc,cc=null,n;return(Nl&1)!==0&&n.tag!==0&&Qr(),p=n.pendingLanes,(p&1)!==0?n===hc?oo++:(oo=0,hc=n):oo=0,Ri(),null}function Qr(){if(Pi!==null){var n=qh(Nl),r=ln.transition,l=Fe;try{if(ln.transition=null,Fe=16>n?16:n,Pi===null)var h=!1;else{if(n=Pi,Pi=null,Nl=0,(Te&6)!==0)throw Error(t(331));var f=Te;for(Te|=4,J=n.current;J!==null;){var p=J,v=p.child;if((J.flags&16)!==0){var w=p.deletions;if(w!==null){for(var T=0;T<w.length;T++){var F=w[T];for(J=F;J!==null;){var V=J;switch(V.tag){case 0:case 11:case 15:io(8,V,p)}var K=V.child;if(K!==null)K.return=V,J=K;else for(;J!==null;){V=J;var B=V.sibling,q=V.return;if(Hf(V),V===F){J=null;break}if(B!==null){B.return=q,J=B;break}J=q}}}var ee=p.alternate;if(ee!==null){var ne=ee.child;if(ne!==null){ee.child=null;do{var qe=ne.sibling;ne.sibling=null,ne=qe}while(ne!==null)}}J=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,J=v;else e:for(;J!==null;){if(p=J,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:io(9,p,p.return)}var P=p.sibling;if(P!==null){P.return=p.return,J=P;break e}J=p.return}}var k=n.current;for(J=k;J!==null;){v=J;var A=v.child;if((v.subtreeFlags&2064)!==0&&A!==null)A.return=v,J=A;else e:for(v=k;J!==null;){if(w=J,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Pl(9,w)}}catch(ie){be(w,w.return,ie)}if(w===v){J=null;break e}var H=w.sibling;if(H!==null){H.return=w.return,J=H;break e}J=w.return}}if(Te=f,Ri(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Bo,n)}catch{}h=!0}return h}finally{Fe=l,ln.transition=r}}return!1}function hg(n,r,l){r=Zr(l,r),r=kf(n,r,1),n=Li(n,r,1),r=kt(),n!==null&&(Ms(n,1,r),Nt(n,r))}function be(n,r,l){if(n.tag===3)hg(n,n,l);else for(;r!==null;){if(r.tag===3){hg(r,n,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Mi===null||!Mi.has(h))){n=Zr(l,n),n=Mf(r,n,1),r=Li(r,n,1),n=kt(),r!==null&&(Ms(r,1,n),Nt(r,n));break}}r=r.return}}function R0(n,r,l){var h=n.pingCache;h!==null&&h.delete(r),r=kt(),n.pingedLanes|=n.suspendedLanes&l,lt===n&&(ft&l)===l&&(rt===4||rt===3&&(ft&130023424)===ft&&500>$e()-uc?hr(n,0):ac|=l),Nt(n,r)}function dg(n,r){r===0&&((n.mode&1)===0?r=1:(r=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var l=kt();n=$n(n,r),n!==null&&(Ms(n,r,l),Nt(n,l))}function I0(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),dg(n,l)}function L0(n,r){var l=0;switch(n.tag){case 13:var h=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(r),dg(n,l)}var fg;fg=function(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps||At.current)Ot=!0;else{if((n.lanes&l)===0&&(r.flags&128)===0)return Ot=!1,p0(n,r,l);Ot=(n.flags&131072)!==0}else Ot=!1,Ye&&(r.flags&1048576)!==0&&Vd(r,gl,r.index);switch(r.lanes=0,r.tag){case 2:var h=r.type;kl(n,r),n=r.pendingProps;var f=Xr(r,yt.current);br(r,l),f=Xu(null,r,h,n,f,l);var p=Uu();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Dt(h)?(p=!0,hl(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Du(r),f.updater=Il,r.stateNode=f,f._reactInternals=r,Ku(r,h,n,l),r=qu(null,r,h,!0,p,l)):(r.tag=0,Ye&&p&&Cu(r),Lt(null,r,f,l),r=r.child),r;case 16:h=r.elementType;e:{switch(kl(n,r),n=r.pendingProps,f=h._init,h=f(h._payload),r.type=h,f=r.tag=M0(h),n=En(h,n),f){case 0:r=$u(null,r,h,n,l);break e;case 1:r=Wf(null,r,h,n,l);break e;case 11:r=Of(null,r,h,n,l);break e;case 14:r=Ff(null,r,h,En(h.type,n),l);break e}throw Error(t(306,h,""))}return r;case 0:return h=r.type,f=r.pendingProps,f=r.elementType===h?f:En(h,f),$u(n,r,h,f,l);case 1:return h=r.type,f=r.pendingProps,f=r.elementType===h?f:En(h,f),Wf(n,r,h,f,l);case 3:e:{if(Xf(r),n===null)throw Error(t(387));h=r.pendingProps,p=r.memoizedState,f=p.element,ef(n,r),El(r,h,null,l);var v=r.memoizedState;if(h=v.element,p.isDehydrated)if(p={element:h,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Zr(Error(t(423)),r),r=Uf(n,r,h,l,f);break e}else if(h!==f){f=Zr(Error(t(424)),r),r=Uf(n,r,h,l,f);break e}else for(Kt=Ci(r.stateNode.containerInfo.firstChild),bt=r,Ye=!0,vn=null,l=Qd(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jr(),h===f){r=Qn(n,r,l);break e}Lt(n,r,h,l)}r=r.child}return r;case 5:return rf(r),n===null&&Ru(r),h=r.type,f=r.pendingProps,p=n!==null?n.memoizedProps:null,v=f.children,_u(h,f)?v=null:p!==null&&_u(h,p)&&(r.flags|=32),Gf(n,r),Lt(n,r,v,l),r.child;case 6:return n===null&&Ru(r),null;case 13:return Yf(n,r,l);case 4:return Ou(r,r.stateNode.containerInfo),h=r.pendingProps,n===null?r.child=Br(r,null,h,l):Lt(n,r,h,l),r.child;case 11:return h=r.type,f=r.pendingProps,f=r.elementType===h?f:En(h,f),Of(n,r,h,f,l);case 7:return Lt(n,r,r.pendingProps,l),r.child;case 8:return Lt(n,r,r.pendingProps.children,l),r.child;case 12:return Lt(n,r,r.pendingProps.children,l),r.child;case 10:e:{if(h=r.type._context,f=r.pendingProps,p=r.memoizedProps,v=f.value,Ge(_l,h._currentValue),h._currentValue=v,p!==null)if(yn(p.value,v)){if(p.children===f.children&&!At.current){r=Qn(n,r,l);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){v=p.child;for(var T=w.firstContext;T!==null;){if(T.context===h){if(p.tag===1){T=qn(-1,l&-l),T.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var V=F.pending;V===null?T.next=T:(T.next=V.next,V.next=T),F.pending=T}}p.lanes|=l,T=p.alternate,T!==null&&(T.lanes|=l),Pu(p.return,l,r),w.lanes|=l;break}T=T.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(t(341));v.lanes|=l,w=v.alternate,w!==null&&(w.lanes|=l),Pu(v,l,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Lt(n,r,f.children,l),r=r.child}return r;case 9:return f=r.type,h=r.pendingProps.children,br(r,l),f=sn(f),h=h(f),r.flags|=1,Lt(n,r,h,l),r.child;case 14:return h=r.type,f=En(h,r.pendingProps),f=En(h.type,f),Ff(n,r,h,f,l);case 15:return Nf(n,r,r.type,r.pendingProps,l);case 17:return h=r.type,f=r.pendingProps,f=r.elementType===h?f:En(h,f),kl(n,r),r.tag=1,Dt(h)?(n=!0,hl(r)):n=!1,br(r,l),If(r,h,f),Ku(r,h,f,l),qu(null,r,h,!0,n,l);case 19:return Bf(n,r,l);case 22:return zf(n,r,l)}throw Error(t(156,r.tag))};function gg(n,r){return bh(n,r)}function k0(n,r,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(n,r,l,h){return new k0(n,r,l,h)}function _c(n){return n=n.prototype,!(!n||!n.isReactComponent)}function M0(n){if(typeof n=="function")return _c(n)?1:0;if(n!=null){if(n=n.$$typeof,n===te)return 11;if(n===ce)return 14}return 2}function Oi(n,r){var l=n.alternate;return l===null?(l=an(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Xl(n,r,l,h,f,p){var v=2;if(h=n,typeof n=="function")_c(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case U:return fr(l.children,f,p,r);case j:v=8,f|=8;break;case b:return n=an(12,l,r,f|2),n.elementType=b,n.lanes=p,n;case se:return n=an(13,l,r,f),n.elementType=se,n.lanes=p,n;case oe:return n=an(19,l,r,f),n.elementType=oe,n.lanes=p,n;case ae:return Ul(l,f,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ue:v=10;break e;case re:v=9;break e;case te:v=11;break e;case ce:v=14;break e;case Z:v=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=an(v,l,r,f),r.elementType=n,r.type=h,r.lanes=p,r}function fr(n,r,l,h){return n=an(7,n,h,r),n.lanes=l,n}function Ul(n,r,l,h){return n=an(22,n,h,r),n.elementType=ae,n.lanes=l,n.stateNode={isHidden:!1},n}function yc(n,r,l){return n=an(6,n,null,r),n.lanes=l,n}function vc(n,r,l){return r=an(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function P0(n,r,l,h,f){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ec(n,r,l,h,f,p,v,w,T){return n=new P0(n,r,l,w,T),r===1?(r=1,p===!0&&(r|=8)):r=0,p=an(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Du(p),n}function A0(n,r,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:h==null?null:""+h,children:n,containerInfo:r,implementation:l}}function pg(n){if(!n)return Ti;n=n._reactInternals;e:{if(tr(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Dt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(Dt(l))return Yd(n,l,r)}return r}function mg(n,r,l,h,f,p,v,w,T){return n=Ec(l,h,!0,n,f,p,v,w,T),n.context=pg(null),l=n.current,h=kt(),f=Ai(l),p=qn(h,f),p.callback=r??null,Li(l,p,f),n.current.lanes=f,Ms(n,f,h),Nt(n,h),n}function Yl(n,r,l,h){var f=r.current,p=kt(),v=Ai(f);return l=pg(l),r.context===null?r.context=l:r.pendingContext=l,r=qn(p,v),r.payload={element:n},h=h===void 0?null:h,h!==null&&(r.callback=h),n=Li(f,r,v),n!==null&&(Cn(n,f,v,p),vl(n,f,v)),v}function jl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function _g(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function xc(n,r){_g(n,r),(n=n.alternate)&&_g(n,r)}function D0(){return null}var yg=typeof reportError=="function"?reportError:function(n){console.error(n)};function wc(n){this._internalRoot=n}Bl.prototype.render=wc.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));Yl(n,r,null,null)},Bl.prototype.unmount=wc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;cr(function(){Yl(null,n,null,null)}),r[bn]=null}};function Bl(n){this._internalRoot=n}Bl.prototype.unstable_scheduleHydration=function(n){if(n){var r=ed();n={blockedOn:null,target:n,priority:r};for(var l=0;l<Ei.length&&r!==0&&r<Ei[l].priority;l++);Ei.splice(l,0,n),l===0&&id(n)}};function Cc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Vl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function vg(){}function O0(n,r,l,h,f){if(f){if(typeof h=="function"){var p=h;h=function(){var F=jl(v);p.call(F)}}var v=mg(r,h,n,0,null,!1,!1,"",vg);return n._reactRootContainer=v,n[bn]=v.current,Bs(n.nodeType===8?n.parentNode:n),cr(),v}for(;f=n.lastChild;)n.removeChild(f);if(typeof h=="function"){var w=h;h=function(){var F=jl(T);w.call(F)}}var T=Ec(n,0,!1,null,null,!1,!1,"",vg);return n._reactRootContainer=T,n[bn]=T.current,Bs(n.nodeType===8?n.parentNode:n),cr(function(){Yl(r,T,l,h)}),T}function bl(n,r,l,h,f){var p=l._reactRootContainer;if(p){var v=p;if(typeof f=="function"){var w=f;f=function(){var T=jl(v);w.call(T)}}Yl(r,v,n,f)}else v=O0(l,r,n,f,h);return jl(v)}Qh=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var l=ks(r.pendingLanes);l!==0&&(Ka(r,l|1),Nt(r,$e()),(Te&6)===0&&(qr=$e()+500,Ri()))}break;case 13:cr(function(){var h=$n(n,1);if(h!==null){var f=kt();Cn(h,n,1,f)}}),xc(n,1)}},Za=function(n){if(n.tag===13){var r=$n(n,134217728);if(r!==null){var l=kt();Cn(r,n,134217728,l)}xc(n,134217728)}},Jh=function(n){if(n.tag===13){var r=Ai(n),l=$n(n,r);if(l!==null){var h=kt();Cn(l,n,r,h)}xc(n,r)}},ed=function(){return Fe},td=function(n,r){var l=Fe;try{return Fe=n,r()}finally{Fe=l}},er=function(n,r,l){switch(r){case"input":if(Vn(n,l),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==n&&h.form===n.form){var f=ul(h);if(!f)throw Error(t(90));di(h),Vn(h,f)}}}break;case"textarea":Ln(n,l);break;case"select":r=l.value,r!=null&&nt(n,!!l.multiple,r,!1)}},Rt=gc,Mn=cr;var F0={usingClientEntryPoint:!1,Events:[Ks,Gr,ul,Is,Ls,gc]},lo={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N0={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Bh(n),n===null?null:n.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||D0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Bo=Kl.inject(N0),Pn=Kl}catch{}}return zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0,zt.createPortal=function(n,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cc(r))throw Error(t(200));return A0(n,r,null,l)},zt.createRoot=function(n,r){if(!Cc(n))throw Error(t(299));var l=!1,h="",f=yg;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Ec(n,1,!1,null,null,l,!1,h,f),n[bn]=r.current,Bs(n.nodeType===8?n.parentNode:n),new wc(r)},zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Bh(r),n=n===null?null:n.stateNode,n},zt.flushSync=function(n){return cr(n)},zt.hydrate=function(n,r,l){if(!Vl(r))throw Error(t(200));return bl(null,n,r,!0,l)},zt.hydrateRoot=function(n,r,l){if(!Cc(n))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,p="",v=yg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),r=mg(r,null,n,1,l??null,f,!1,p,v),n[bn]=r.current,Bs(n),h)for(n=0;n<h.length;n++)l=h[n],f=l._getVersion,f=f(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,f]:r.mutableSourceEagerHydrationData.push(l,f);return new Bl(r)},zt.render=function(n,r,l){if(!Vl(r))throw Error(t(200));return bl(null,n,r,!1,l)},zt.unmountComponentAtNode=function(n){if(!Vl(n))throw Error(t(40));return n._reactRootContainer?(cr(function(){bl(null,null,n,!1,function(){n._reactRootContainer=null,n[bn]=null})}),!0):!1},zt.unstable_batchedUpdates=gc,zt.unstable_renderSubtreeIntoContainer=function(n,r,l,h){if(!Vl(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return bl(n,r,l,!1,h)},zt.version="18.3.1-next-f1338f8080-20240426",zt}var Rg;function B0(){if(Rg)return Tc.exports;Rg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tc.exports=j0(),Tc.exports}var Ig;function V0(){if(Ig)return Zl;Ig=1;var s=B0();return Zl.createRoot=s.createRoot,Zl.hydrateRoot=s.hydrateRoot,Zl}var b0=V0();const K0=Lp(b0);class ci{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const ms={PROPERTYCHANGE:"propertychange"};class lh{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Z0(s,e,t){let i,o;t=t||si;let a=0,u=s.length,c=!1;for(;a<u;)i=a+(u-a>>1),o=+t(s[i],e),o<0?a=i+1:(u=i,c=!o);return c?a:~a}function si(s,e){return s>e?1:s<e?-1:0}function ah(s,e,t){if(s[0]<=e)return 0;const i=s.length;if(e<=s[i-1])return i-1;if(typeof t=="function"){for(let o=1;o<i;++o){const a=s[o];if(a===e)return o;if(a<e)return t(e,s[o-1],a)>0?o-1:o}return i-1}if(t>0){for(let o=1;o<i;++o)if(s[o]<e)return o-1;return i-1}if(t<0){for(let o=1;o<i;++o)if(s[o]<=e)return o;return i-1}for(let o=1;o<i;++o){if(s[o]==e)return o;if(s[o]<e)return s[o-1]-e<e-s[o]?o-1:o}return i-1}function H0(s,e,t){for(;e<t;){const i=s[e];s[e]=s[t],s[t]=i,++e,--t}}function xa(s,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let o=0;o<i;o++)s[s.length]=t[o]}function Hi(s,e){const t=s.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(s[i]!==e[i])return!1;return!0}function $0(s,e,t){const i=e||si;return s.every(function(o,a){if(a===0)return!0;const u=i(s[a-1],o);return!(u>0||u===0)})}function Eo(){return!0}function wa(){return!1}function _s(){}function Mp(s){let e=!1,t,i,o;return function(){const a=Array.prototype.slice.call(arguments);return(!e||this!==o||!Hi(a,i))&&(e=!0,o=this,i=a,t=s.apply(this,arguments)),t}}function q0(s){function e(){let t;try{t=s()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Do(s){for(const e in s)delete s[e]}function ys(s){let e;for(e in s)return!1;return!e}class Ca extends lh{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),o=i[e]||(i[e]=[]);o.includes(t)||o.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,o=this.listeners_&&this.listeners_[i];if(!o)return;const a=t?new ci(e):e;a.target||(a.target=this.eventTarget_||this);const u=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});i in u||(u[i]=0,c[i]=0),++u[i];let d;for(let g=0,m=o.length;g<m;++g)if("handleEvent"in o[g]?d=o[g].handleEvent(a):d=o[g].call(this,a),d===!1||a.propagationStopped){d=!1;break}if(--u[i]===0){let g=c[i];for(delete c[i];g--;)this.removeEventListener(i,_s);delete u[i]}return d}disposeInternal(){this.listeners_&&Do(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const o=i.indexOf(t);o!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[o]=_s,++this.pendingRemovals_[e]):(i.splice(o,1),i.length===0&&delete this.listeners_[e]))}}const Ee={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Pe(s,e,t,i,o){if(i&&i!==s&&(t=t.bind(i)),o){const u=t;t=function(){s.removeEventListener(e,t),u.apply(this,arguments)}}const a={target:s,type:e,listener:t};return s.addEventListener(e,t),a}function la(s,e,t,i){return Pe(s,e,t,i,!0)}function je(s){s&&s.target&&(s.target.removeEventListener(s.type,s.listener),Do(s))}class Oo extends Ca{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ee.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,o=new Array(i);for(let a=0;a<i;++a)o[a]=Pe(this,e[a],t);return o}return Pe(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const o=e.length;i=new Array(o);for(let a=0;a<o;++a)i[a]=la(this,e[a],t)}else i=la(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)Q0(i);else if(Array.isArray(e))for(let o=0,a=e.length;o<a;++o)this.removeEventListener(e[o],t);else this.removeEventListener(e,t)}}Oo.prototype.on;Oo.prototype.once;Oo.prototype.un;function Q0(s){if(Array.isArray(s))for(let e=0,t=s.length;e<t;++e)je(s[e]);else je(s)}function Me(){throw new Error("Unimplemented abstract method.")}let J0=0;function De(s){return s.ol_uid||(s.ol_uid=String(++J0))}class Lg extends ci{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class jn extends Oo{constructor(e){super(),this.on,this.once,this.un,De(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Lg(i,e,t)),i=ms.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Lg(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const o=this.values_||(this.values_={});if(i)o[e]=t;else{const a=o[e];o[e]=t,a!==t&&this.notify(e,a)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],ys(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const Gt={ADD:"add",REMOVE:"remove"},kg={LENGTH:"length"};class Hl extends ci{constructor(e,t,i){super(e),this.element=t,this.index=i}}class Gn extends jn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,o=this.array_.length;i<o;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,o=t.length;i<o;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(kg.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Hl(Gt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,o=t.length;i<o;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Hl(Gt.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const o=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Hl(Gt.REMOVE,o,e)),this.dispatchEvent(new Hl(Gt.ADD,t,e))}updateLength_(){this.set(kg.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}}const Ne={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function Ie(s,e){if(!s)throw new Error(e)}function tt(s,e,t){return Math.min(Math.max(s,e),t)}function ey(s,e,t,i,o,a){const u=o-t,c=a-i;if(u!==0||c!==0){const d=((s-t)*u+(e-i)*c)/(u*u+c*c);d>1?(t=o,i=a):d>0&&(t+=u*d,i+=c*d)}return ds(s,e,t,i)}function ds(s,e,t,i){const o=t-s,a=i-e;return o*o+a*a}function ty(s){const e=s.length;for(let i=0;i<e;i++){let o=i,a=Math.abs(s[i][i]);for(let c=i+1;c<e;c++){const d=Math.abs(s[c][i]);d>a&&(a=d,o=c)}if(a===0)return null;const u=s[o];s[o]=s[i],s[i]=u;for(let c=i+1;c<e;c++){const d=-s[c][i]/s[i][i];for(let g=i;g<e+1;g++)i==g?s[c][g]=0:s[c][g]+=d*s[i][g]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=s[i][e]/s[i][i];for(let o=i-1;o>=0;o--)s[o][e]-=s[o][i]*t[i]}return t}function oa(s){return s*Math.PI/180}function fs(s,e){const t=s%e;return t*e<0?t+e:t}function Ht(s,e,t){return s+t*(e-s)}function uh(s,e){const t=Math.pow(10,e);return Math.round(s*t)/t}function $l(s,e){return Math.floor(uh(s,e))}function ql(s,e){return Math.ceil(uh(s,e))}class Pp extends jn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Ne.OPACITY]=e.opacity!==void 0?e.opacity:1,Ie(typeof t[Ne.OPACITY]=="number","Layer opacity must be a number"),t[Ne.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Ne.Z_INDEX]=e.zIndex,t[Ne.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Ne.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Ne.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Ne.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=tt(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Me()}getLayerStatesArray(e){return Me()}getExtent(){return this.get(Ne.EXTENT)}getMaxResolution(){return this.get(Ne.MAX_RESOLUTION)}getMinResolution(){return this.get(Ne.MIN_RESOLUTION)}getMinZoom(){return this.get(Ne.MIN_ZOOM)}getMaxZoom(){return this.get(Ne.MAX_ZOOM)}getOpacity(){return this.get(Ne.OPACITY)}getSourceState(){return Me()}getVisible(){return this.get(Ne.VISIBLE)}getZIndex(){return this.get(Ne.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Ne.EXTENT,e)}setMaxResolution(e){this.set(Ne.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Ne.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Ne.MAX_ZOOM,e)}setMinZoom(e){this.set(Ne.MIN_ZOOM,e)}setOpacity(e){Ie(typeof e=="number","Layer opacity must be a number"),this.set(Ne.OPACITY,e)}setVisible(e){this.set(Ne.VISIBLE,e)}setZIndex(e){this.set(Ne.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const hn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},St={ANIMATING:0,INTERACTING:1},Sn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},ny=42,ch=256,hh={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Ap{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||hh[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Fo=6378137,us=Math.PI*Fo,iy=[-us,-us,us,us],ry=[-180,-85,180,85],Ql=Fo*Math.log(Math.tan(Math.PI/2));class Jr extends Ap{constructor(e){super({code:e,units:"m",extent:iy,global:!0,worldExtent:ry,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Fo)}})}}const Mg=[new Jr("EPSG:3857"),new Jr("EPSG:102100"),new Jr("EPSG:102113"),new Jr("EPSG:900913"),new Jr("http://www.opengis.net/def/crs/EPSG/0/3857"),new Jr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function sy(s,e,t){const i=s.length;t=t>1?t:2,e===void 0&&(t>2?e=s.slice():e=new Array(i));for(let o=0;o<i;o+=t){e[o]=us*s[o]/180;let a=Fo*Math.log(Math.tan(Math.PI*(+s[o+1]+90)/360));a>Ql?a=Ql:a<-Ql&&(a=-Ql),e[o+1]=a}return e}function oy(s,e,t){const i=s.length;t=t>1?t:2,e===void 0&&(t>2?e=s.slice():e=new Array(i));for(let o=0;o<i;o+=t)e[o]=180*s[o]/us,e[o+1]=360*Math.atan(Math.exp(s[o+1]/Fo))/Math.PI-90;return e}const ly=6378137,Pg=[-180,-90,180,90],ay=Math.PI*ly/180;class gr extends Ap{constructor(e,t){super({code:e,units:"degrees",extent:Pg,axisOrientation:t,global:!0,metersPerUnit:ay,worldExtent:Pg})}}const Ag=[new gr("CRS:84"),new gr("EPSG:4326","neu"),new gr("urn:ogc:def:crs:OGC:1.3:CRS84"),new gr("urn:ogc:def:crs:OGC:2:84"),new gr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new gr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new gr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Vc={};function uy(s){return Vc[s]||Vc[s.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function cy(s,e){Vc[s]=e}let gs={};function aa(s,e,t){const i=s.getCode(),o=e.getCode();i in gs||(gs[i]={}),gs[i][o]=t}function hy(s,e){let t;return s in gs&&e in gs[s]&&(t=gs[s][e]),t}const ut={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Dg(s){const e=dn();for(let t=0,i=s.length;t<i;++t)_o(e,s[t]);return e}function dh(s,e,t){return t?(t[0]=s[0]-e,t[1]=s[1]-e,t[2]=s[2]+e,t[3]=s[3]+e,t):[s[0]-e,s[1]-e,s[2]+e,s[3]+e]}function Dp(s,e){return e?(e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e):s.slice()}function fh(s,e,t){let i,o;return e<s[0]?i=s[0]-e:s[2]<e?i=e-s[2]:i=0,t<s[1]?o=s[1]-t:s[3]<t?o=t-s[3]:o=0,i*i+o*o}function vs(s,e){return Op(s,e[0],e[1])}function cs(s,e){return s[0]<=e[0]&&e[2]<=s[2]&&s[1]<=e[1]&&e[3]<=s[3]}function Op(s,e,t){return s[0]<=e&&e<=s[2]&&s[1]<=t&&t<=s[3]}function bc(s,e){const t=s[0],i=s[1],o=s[2],a=s[3],u=e[0],c=e[1];let d=ut.UNKNOWN;return u<t?d=d|ut.LEFT:u>o&&(d=d|ut.RIGHT),c<i?d=d|ut.BELOW:c>a&&(d=d|ut.ABOVE),d===ut.UNKNOWN&&(d=ut.INTERSECTING),d}function dn(){return[1/0,1/0,-1/0,-1/0]}function Ki(s,e,t,i,o){return o?(o[0]=s,o[1]=e,o[2]=t,o[3]=i,o):[s,e,t,i]}function Sa(s){return Ki(1/0,1/0,-1/0,-1/0,s)}function Fp(s,e){const t=s[0],i=s[1];return Ki(t,i,t,i,e)}function gh(s,e,t,i,o){const a=Sa(o);return Np(a,s,e,t,i)}function xo(s,e){return s[0]==e[0]&&s[2]==e[2]&&s[1]==e[1]&&s[3]==e[3]}function dy(s,e){return e[0]<s[0]&&(s[0]=e[0]),e[2]>s[2]&&(s[2]=e[2]),e[1]<s[1]&&(s[1]=e[1]),e[3]>s[3]&&(s[3]=e[3]),s}function _o(s,e){e[0]<s[0]&&(s[0]=e[0]),e[0]>s[2]&&(s[2]=e[0]),e[1]<s[1]&&(s[1]=e[1]),e[1]>s[3]&&(s[3]=e[1])}function Np(s,e,t,i,o){for(;t<i;t+=o)fy(s,e[t],e[t+1]);return s}function fy(s,e,t){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}function zp(s,e){let t;return t=e(Ta(s)),t||(t=e(Ra(s)),t)||(t=e(Ia(s)),t)||(t=e(Sr(s)),t)?t:!1}function Kc(s){let e=0;return La(s)||(e=ze(s)*Mt(s)),e}function Ta(s){return[s[0],s[1]]}function Ra(s){return[s[2],s[1]]}function Cr(s){return[(s[0]+s[2])/2,(s[1]+s[3])/2]}function gy(s,e){let t;if(e==="bottom-left")t=Ta(s);else if(e==="bottom-right")t=Ra(s);else if(e==="top-left")t=Sr(s);else if(e==="top-right")t=Ia(s);else throw new Error("Invalid corner");return t}function Zc(s,e,t,i,o){const[a,u,c,d,g,m,_,y]=Hc(s,e,t,i);return Ki(Math.min(a,c,g,_),Math.min(u,d,m,y),Math.max(a,c,g,_),Math.max(u,d,m,y),o)}function Hc(s,e,t,i){const o=e*i[0]/2,a=e*i[1]/2,u=Math.cos(t),c=Math.sin(t),d=o*u,g=o*c,m=a*u,_=a*c,y=s[0],E=s[1];return[y-d+_,E-g-m,y-d-_,E-g+m,y+d-_,E+g+m,y+d+_,E+g-m,y-d+_,E-g-m]}function Mt(s){return s[3]-s[1]}function yo(s,e,t){const i=t||dn();return Xt(s,e)?(s[0]>e[0]?i[0]=s[0]:i[0]=e[0],s[1]>e[1]?i[1]=s[1]:i[1]=e[1],s[2]<e[2]?i[2]=s[2]:i[2]=e[2],s[3]<e[3]?i[3]=s[3]:i[3]=e[3]):Sa(i),i}function Sr(s){return[s[0],s[3]]}function Ia(s){return[s[2],s[3]]}function ze(s){return s[2]-s[0]}function Xt(s,e){return s[0]<=e[2]&&s[2]>=e[0]&&s[1]<=e[3]&&s[3]>=e[1]}function La(s){return s[2]<s[0]||s[3]<s[1]}function py(s,e){return e?(e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e):s}function my(s,e,t){let i=!1;const o=bc(s,e),a=bc(s,t);if(o===ut.INTERSECTING||a===ut.INTERSECTING)i=!0;else{const u=s[0],c=s[1],d=s[2],g=s[3],m=e[0],_=e[1],y=t[0],E=t[1],x=(E-_)/(y-m);let C,S;a&ut.ABOVE&&!(o&ut.ABOVE)&&(C=y-(E-g)/x,i=C>=u&&C<=d),!i&&a&ut.RIGHT&&!(o&ut.RIGHT)&&(S=E-(y-d)*x,i=S>=c&&S<=g),!i&&a&ut.BELOW&&!(o&ut.BELOW)&&(C=y-(E-c)/x,i=C>=u&&C<=d),!i&&a&ut.LEFT&&!(o&ut.LEFT)&&(S=E-(y-u)*x,i=S>=c&&S<=g)}return i}function Gp(s,e){const t=e.getExtent(),i=Cr(s);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const o=ze(t),u=Math.floor((i[0]-t[0])/o)*o;s[0]-=u,s[2]-=u}return s}function Wp(s,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(s[0])||!isFinite(s[2]))return[[i[0],s[1],i[2],s[3]]];Gp(s,e);const o=ze(i);if(ze(s)>o&&!t)return[[i[0],s[1],i[2],s[3]]];if(s[0]<i[0])return[[s[0]+o,s[1],i[2],s[3]],[i[0],s[1],s[2],s[3]]];if(s[2]>i[2])return[[s[0],s[1],i[2],s[3]],[i[0],s[1],s[2]-o,s[3]]]}return[s]}function _y(s,e){return s[0]+=+e[0],s[1]+=+e[1],s}function ua(s,e){let t=!0;for(let i=s.length-1;i>=0;--i)if(s[i]!=e[i]){t=!1;break}return t}function ph(s,e){const t=Math.cos(e),i=Math.sin(e),o=s[0]*t-s[1]*i,a=s[1]*t+s[0]*i;return s[0]=o,s[1]=a,s}function yy(s,e){return s[0]*=e,s[1]*=e,s}function Xp(s,e){if(e.canWrapX()){const t=ze(e.getExtent()),i=vy(s,e,t);i&&(s[0]-=i*t)}return s}function vy(s,e,t){const i=e.getExtent();let o=0;return e.canWrapX()&&(s[0]<i[0]||s[0]>i[2])&&(t=t||ze(i),o=Math.floor((s[0]-i[0])/t)),o}const Ey=63710088e-1;function Og(s,e,t){t=t||Ey;const i=oa(s[1]),o=oa(e[1]),a=(o-i)/2,u=oa(e[0]-s[0])/2,c=Math.sin(a)*Math.sin(a)+Math.sin(u)*Math.sin(u)*Math.cos(i)*Math.cos(o);return 2*t*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function Up(...s){console.warn(...s)}let $c=!0;function Yp(s){$c=!1}function mh(s,e){if(e!==void 0){for(let t=0,i=s.length;t<i;++t)e[t]=s[t];e=e}else e=s.slice();return e}function jp(s,e){if(e!==void 0&&s!==e){for(let t=0,i=s.length;t<i;++t)e[t]=s[t];s=e}return s}function xy(s){cy(s.getCode(),s),aa(s,s,mh)}function wy(s){s.forEach(xy)}function fn(s){return typeof s=="string"?uy(s):s||null}function Fg(s,e,t,i){s=fn(s);let o;const a=s.getPointResolutionFunc();if(a)o=a(e,t);else{const u=s.getUnits();if(u=="degrees"&&!i||i=="degrees")o=e;else{const c=yh(s,fn("EPSG:4326"));if(c===jp&&u!=="degrees")o=e*s.getMetersPerUnit();else{let g=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];g=c(g,g,2);const m=Og(g.slice(0,2),g.slice(2,4)),_=Og(g.slice(4,6),g.slice(6,8));o=(m+_)/2}const d=s.getMetersPerUnit();d!==void 0&&(o/=d)}}return o}function Ng(s){wy(s),s.forEach(function(e){s.forEach(function(t){e!==t&&aa(e,t,mh)})})}function Cy(s,e,t,i){s.forEach(function(o){e.forEach(function(a){aa(o,a,t),aa(a,o,i)})})}function _h(s,e){return s?typeof s=="string"?fn(s):s:fn(e)}function Lc(s,e){return Yp(),Bp(s,"EPSG:4326","EPSG:3857")}function rs(s,e){if(s===e)return!0;const t=s.getUnits()===e.getUnits();return(s.getCode()===e.getCode()||yh(s,e)===mh)&&t}function yh(s,e){const t=s.getCode(),i=e.getCode();let o=hy(t,i);return o||(o=jp),o}function ca(s,e){const t=fn(s),i=fn(e);return yh(t,i)}function Bp(s,e,t){return ca(e,t)(s,void 0,s.length)}function qc(s,e){return s}function ni(s,e){return $c&&!ua(s,[0,0])&&s[0]>=-180&&s[0]<=180&&s[1]>=-90&&s[1]<=90&&($c=!1,Up("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),s}function Vp(s,e){return s}function yr(s,e){return s}function Sy(){Ng(Mg),Ng(Ag),Cy(Ag,Mg,sy,oy)}Sy();function zg(s,e,t){return function(i,o,a,u,c){if(!i)return;if(!o&&!e)return i;const d=e?0:a[0]*o,g=e?0:a[1]*o,m=c?c[0]:0,_=c?c[1]:0;let y=s[0]+d/2+m,E=s[2]-d/2+m,x=s[1]+g/2+_,C=s[3]-g/2+_;y>E&&(y=(E+y)/2,E=y),x>C&&(x=(C+x)/2,C=x);let S=tt(i[0],y,E),I=tt(i[1],x,C);if(u&&t&&o){const L=30*o;S+=-L*Math.log(1+Math.max(0,y-i[0])/L)+L*Math.log(1+Math.max(0,i[0]-E)/L),I+=-L*Math.log(1+Math.max(0,x-i[1])/L)+L*Math.log(1+Math.max(0,i[1]-C)/L)}return[S,I]}}function Ty(s){return s}function vh(s,e,t,i){const o=ze(e)/t[0],a=Mt(e)/t[1];return i?Math.min(s,Math.max(o,a)):Math.min(s,Math.min(o,a))}function Eh(s,e,t){let i=Math.min(s,e);const o=50;return i*=Math.log(1+o*Math.max(0,s/e-1))/o+1,t&&(i=Math.max(i,t),i/=Math.log(1+o*Math.max(0,t/s-1))/o+1),tt(i,t/2,e*2)}function Ry(s,e,t,i){return e=e!==void 0?e:!0,function(o,a,u,c){if(o!==void 0){const d=s[0],g=s[s.length-1],m=t?vh(d,t,u,i):d;if(c)return e?Eh(o,m,g):tt(o,g,m);const _=Math.min(m,o),y=Math.floor(ah(s,_,a));return s[y]>m&&y<s.length-1?s[y+1]:s[y]}}}function Iy(s,e,t,i,o,a){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(u,c,d,g){if(u!==void 0){const m=o?vh(e,o,d,a):e;if(g)return i?Eh(u,m,t):tt(u,t,m);const _=1e-9,y=Math.ceil(Math.log(e/m)/Math.log(s)-_),E=-c*(.5-_)+.5,x=Math.min(m,u),C=Math.floor(Math.log(e/x)/Math.log(s)+E),S=Math.max(y,C),I=e/Math.pow(s,S);return tt(I,t,m)}}}function Gg(s,e,t,i,o){return t=t!==void 0?t:!0,function(a,u,c,d){if(a!==void 0){const g=i?vh(s,i,c,o):s;return!t||!d?tt(a,e,g):Eh(a,g,e)}}}function xh(s){if(s!==void 0)return 0}function Wg(s){if(s!==void 0)return s}function Ly(s){const e=2*Math.PI/s;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function ky(s){const e=oa(5);return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}function bp(s){return Math.pow(s,3)}function Cs(s){return 1-bp(1-s)}function My(s){return 3*s*s-2*s*s*s}function Py(s){return s}new Array(6);function Tn(){return[1,0,0,1,0,0]}function Ay(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5],s}function gt(s,e){const t=e[0],i=e[1];return e[0]=s[0]*t+s[2]*i+s[4],e[1]=s[1]*t+s[3]*i+s[5],e}function ui(s,e,t,i,o,a,u,c){const d=Math.sin(a),g=Math.cos(a);return s[0]=i*g,s[1]=o*d,s[2]=-i*d,s[3]=o*g,s[4]=u*i*g-c*i*d+e,s[5]=u*o*d+c*o*g+t,s}function Kp(s,e){const t=Dy(e);Ie(t!==0,"Transformation matrix cannot be inverted");const i=e[0],o=e[1],a=e[2],u=e[3],c=e[4],d=e[5];return s[0]=u/t,s[1]=-o/t,s[2]=-a/t,s[3]=i/t,s[4]=(a*d-u*c)/t,s[5]=-(i*d-o*c)/t,s}function Dy(s){return s[0]*s[3]-s[1]*s[2]}const Xg=[1e6,1e6,1e6,1e6,2,2];function Oy(s){return"matrix("+s.map((t,i)=>Math.round(t*Xg[i])/Xg[i]).join(", ")+")"}function bi(s,e,t,i,o,a){a=a||[];let u=0;for(let c=e;c<t;c+=i){const d=s[c],g=s[c+1];a[u++]=o[0]*d+o[2]*g+o[4],a[u++]=o[1]*d+o[3]*g+o[5]}return a&&a.length!=u&&(a.length=u),a}function Zp(s,e,t,i,o,a,u){u=u||[];const c=Math.cos(o),d=Math.sin(o),g=a[0],m=a[1];let _=0;for(let y=e;y<t;y+=i){const E=s[y]-g,x=s[y+1]-m;u[_++]=g+E*c-x*d,u[_++]=m+E*d+x*c;for(let C=y+2;C<y+i;++C)u[_++]=s[C]}return u&&u.length!=_&&(u.length=_),u}function Fy(s,e,t,i,o,a,u,c){c=c||[];const d=u[0],g=u[1];let m=0;for(let _=e;_<t;_+=i){const y=s[_]-d,E=s[_+1]-g;c[m++]=d+o*y,c[m++]=g+a*E;for(let x=_+2;x<_+i;++x)c[m++]=s[x]}return c&&c.length!=m&&(c.length=m),c}function Ny(s,e,t,i,o,a,u){u=u||[];let c=0;for(let d=e;d<t;d+=i){u[c++]=s[d]+o,u[c++]=s[d+1]+a;for(let g=d+2;g<d+i;++g)u[c++]=s[g]}return u&&u.length!=c&&(u.length=c),u}const Ug=Tn();class zy extends jn{constructor(){super(),this.extent_=dn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Mp((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const o=this.clone();return o.applyTransform(i),o.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Me()}closestPointXY(e,t,i,o){return Me()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Me()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Sa(t),this.extentRevision_=this.getRevision()}return py(this.extent_,e)}rotate(e,t){Me()}scale(e,t,i){Me()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Me()}getType(){return Me()}applyTransform(e){Me()}intersectsExtent(e){return Me()}translate(e,t){Me()}transform(e,t){const i=fn(e),o=i.getUnits()=="tile-pixels"?function(a,u,c){const d=i.getExtent(),g=i.getWorldExtent(),m=Mt(g)/Mt(d);return ui(Ug,g[0],g[3],m,-m,0,0,0),bi(a,0,a.length,c,Ug,u),ca(i,t)(a,u,c)}:ca(i,t);return this.applyTransform(o),this}}class ka extends zy{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return gh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Me()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=Yg(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Me()}setLayout(e,t,i){let o;if(e)o=Yg(e);else{for(let a=0;a<i;++a){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}o=t.length,e=Gy(o)}this.layout=e,this.stride=o}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const o=this.getStride();Zp(i,0,i.length,o,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=Cr(this.getExtent()));const o=this.getFlatCoordinates();if(o){const a=this.getStride();Fy(o,0,o.length,a,e,t,i,o),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const o=this.getStride();Ny(i,0,i.length,o,e,t,i),this.changed()}}}function Gy(s){let e;return s==2?e="XY":s==3?e="XYZ":s==4&&(e="XYZM"),e}function Yg(s){let e;return s=="XY"?e=2:s=="XYZ"||s=="XYM"?e=3:s=="XYZM"&&(e=4),e}function Wy(s,e,t){const i=s.getFlatCoordinates();if(!i)return null;const o=s.getStride();return bi(i,0,i.length,o,e,t)}function jg(s,e,t,i,o,a,u){const c=s[e],d=s[e+1],g=s[t]-c,m=s[t+1]-d;let _;if(g===0&&m===0)_=e;else{const y=((o-c)*g+(a-d)*m)/(g*g+m*m);if(y>1)_=t;else if(y>0){for(let E=0;E<i;++E)u[E]=Ht(s[e+E],s[t+E],y);u.length=i;return}else _=e}for(let y=0;y<i;++y)u[y]=s[_+y];u.length=i}function wh(s,e,t,i,o){let a=s[e],u=s[e+1];for(e+=i;e<t;e+=i){const c=s[e],d=s[e+1],g=ds(a,u,c,d);g>o&&(o=g),a=c,u=d}return o}function Xy(s,e,t,i,o){for(let a=0,u=t.length;a<u;++a){const c=t[a];o=wh(s,e,c,i,o),e=c}return o}function Ch(s,e,t,i,o,a,u,c,d,g,m){if(e==t)return g;let _,y;if(o===0){if(y=ds(u,c,s[e],s[e+1]),y<g){for(_=0;_<i;++_)d[_]=s[e+_];return d.length=i,y}return g}m=m||[NaN,NaN];let E=e+i;for(;E<t;)if(jg(s,E-i,E,i,u,c,m),y=ds(u,c,m[0],m[1]),y<g){for(g=y,_=0;_<i;++_)d[_]=m[_];d.length=i,E+=i}else E+=i*Math.max((Math.sqrt(y)-Math.sqrt(g))/o|0,1);if(a&&(jg(s,t-i,e,i,u,c,m),y=ds(u,c,m[0],m[1]),y<g)){for(g=y,_=0;_<i;++_)d[_]=m[_];d.length=i}return g}function Uy(s,e,t,i,o,a,u,c,d,g,m){m=m||[NaN,NaN];for(let _=0,y=t.length;_<y;++_){const E=t[_];g=Ch(s,e,E,i,o,a,u,c,d,g,m),e=E}return g}function Yy(s,e,t,i){for(let o=0,a=t.length;o<a;++o)s[e++]=t[o];return e}function Sh(s,e,t,i){for(let o=0,a=t.length;o<a;++o){const u=t[o];for(let c=0;c<i;++c)s[e++]=u[c]}return e}function jy(s,e,t,i,o){o=o||[];let a=0;for(let u=0,c=t.length;u<c;++u){const d=Sh(s,e,t[u],i);o[a++]=d,e=d}return o.length=a,o}function Ma(s,e,t,i,o,a,u){const c=(t-e)/i;if(c<3){for(;e<t;e+=i)a[u++]=s[e],a[u++]=s[e+1];return u}const d=new Array(c);d[0]=1,d[c-1]=1;const g=[e,t-i];let m=0;for(;g.length>0;){const _=g.pop(),y=g.pop();let E=0;const x=s[y],C=s[y+1],S=s[_],I=s[_+1];for(let L=y+i;L<_;L+=i){const O=s[L],D=s[L+1],M=ey(O,D,x,C,S,I);M>E&&(m=L,E=M)}E>o&&(d[(m-e)/i]=1,y+i<m&&g.push(y,m),m+i<_&&g.push(m,_))}for(let _=0;_<c;++_)d[_]&&(a[u++]=s[e+_*i],a[u++]=s[e+_*i+1]);return u}function By(s,e,t,i,o,a,u,c){for(let d=0,g=t.length;d<g;++d){const m=t[d];u=Ma(s,e,m,i,o,a,u),c.push(u),e=m}return u}function _r(s,e){return e*Math.round(s/e)}function Vy(s,e,t,i,o,a,u){if(e==t)return u;let c=_r(s[e],o),d=_r(s[e+1],o);e+=i,a[u++]=c,a[u++]=d;let g,m;do if(g=_r(s[e],o),m=_r(s[e+1],o),e+=i,e==t)return a[u++]=g,a[u++]=m,u;while(g==c&&m==d);for(;e<t;){const _=_r(s[e],o),y=_r(s[e+1],o);if(e+=i,_==g&&y==m)continue;const E=g-c,x=m-d,C=_-c,S=y-d;if(E*S==x*C&&(E<0&&C<E||E==C||E>0&&C>E)&&(x<0&&S<x||x==S||x>0&&S>x)){g=_,m=y;continue}a[u++]=g,a[u++]=m,c=g,d=m,g=_,m=y}return a[u++]=g,a[u++]=m,u}function Hp(s,e,t,i,o,a,u,c){for(let d=0,g=t.length;d<g;++d){const m=t[d];u=Vy(s,e,m,i,o,a,u),c.push(u),e=m}return u}function vr(s,e,t,i,o){o=o!==void 0?o:[];let a=0;for(let u=e;u<t;u+=i)o[a++]=s.slice(u,u+i);return o.length=a,o}function ha(s,e,t,i,o){o=o!==void 0?o:[];let a=0;for(let u=0,c=t.length;u<c;++u){const d=t[u];o[a++]=vr(s,e,d,i,o[a]),e=d}return o.length=a,o}function Bg(s,e,t,i,o){o=o!==void 0?o:[];let a=0;for(let u=0,c=t.length;u<c;++u){const d=t[u];o[a++]=d.length===1&&d[0]===e?[]:ha(s,e,d,i,o[a]),e=d[d.length-1]}return o.length=a,o}function $p(s,e,t,i){let o=0,a=s[t-i],u=s[t-i+1];for(;e<t;e+=i){const c=s[e],d=s[e+1];o+=u*c-a*d,a=c,u=d}return o/2}function by(s,e,t,i){let o=0;for(let a=0,u=t.length;a<u;++a){const c=t[a];o+=$p(s,e,c,i),e=c}return o}class wo extends ka{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new wo(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,o){return o<fh(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ch(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,o))}getArea(){return $p(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return vr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Ma(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new wo(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Sh(this.flatCoordinates,0,e,this.stride),this.changed()}}class Pa extends ka{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Pa(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,o){const a=this.flatCoordinates,u=ds(e,t,a[0],a[1]);if(u<o){const c=this.stride;for(let d=0;d<c;++d)i[d]=a[d];return i.length=c,u}return o}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Fp(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Op(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Yy(this.flatCoordinates,0,e,this.stride),this.changed()}}function Ky(s,e,t,i,o){return!zp(o,function(u){return!Er(s,e,t,i,u[0],u[1])})}function Er(s,e,t,i,o,a){let u=0,c=s[t-i],d=s[t-i+1];for(;e<t;e+=i){const g=s[e],m=s[e+1];d<=a?m>a&&(g-c)*(a-d)-(o-c)*(m-d)>0&&u++:m<=a&&(g-c)*(a-d)-(o-c)*(m-d)<0&&u--,c=g,d=m}return u!==0}function qp(s,e,t,i,o,a){if(t.length===0||!Er(s,e,t[0],i,o,a))return!1;for(let u=1,c=t.length;u<c;++u)if(Er(s,t[u-1],t[u],i,o,a))return!1;return!0}function Th(s,e,t,i,o,a,u){let c,d,g,m,_,y,E;const x=o[a+1],C=[];for(let L=0,O=t.length;L<O;++L){const D=t[L];for(m=s[D-i],y=s[D-i+1],c=e;c<D;c+=i)_=s[c],E=s[c+1],(x<=y&&E<=x||y<=x&&x<=E)&&(g=(x-y)/(E-y)*(_-m)+m,C.push(g)),m=_,y=E}let S=NaN,I=-1/0;for(C.sort(si),m=C[0],c=1,d=C.length;c<d;++c){_=C[c];const L=Math.abs(_-m);L>I&&(g=(m+_)/2,qp(s,e,t,i,g,x)&&(S=g,I=L)),m=_}return isNaN(S)&&(S=o[a]),u?(u.push(S,x,I),u):[S,x,I]}function Zy(s,e,t,i,o){let a=[];for(let u=0,c=t.length;u<c;++u){const d=t[u];a=Th(s,e,d,i,o,2*u,a),e=d[d.length-1]}return a}function Qp(s,e,t,i,o){let a;for(e+=i;e<t;e+=i)if(a=o(s.slice(e-i,e),s.slice(e,e+i)),a)return a;return!1}function Rh(s,e,t,i,o){const a=Np(dn(),s,e,t,i);return Xt(o,a)?cs(o,a)||a[0]>=o[0]&&a[2]<=o[2]||a[1]>=o[1]&&a[3]<=o[3]?!0:Qp(s,e,t,i,function(u,c){return my(o,u,c)}):!1}function Jp(s,e,t,i,o){return!!(Rh(s,e,t,i,o)||Er(s,e,t,i,o[0],o[1])||Er(s,e,t,i,o[0],o[3])||Er(s,e,t,i,o[2],o[1])||Er(s,e,t,i,o[2],o[3]))}function Hy(s,e,t,i,o){if(!Jp(s,e,t[0],i,o))return!1;if(t.length===1)return!0;for(let a=1,u=t.length;a<u;++a)if(Ky(s,t[a-1],t[a],i,o)&&!Rh(s,t[a-1],t[a],i,o))return!1;return!0}function $y(s,e,t,i){for(;e<t-i;){for(let o=0;o<i;++o){const a=s[e+o];s[e+o]=s[t-i+o],s[t-i+o]=a}e+=i,t-=i}}function Ih(s,e,t,i){let o=0,a=s[t-i],u=s[t-i+1];for(;e<t;e+=i){const c=s[e],d=s[e+1];o+=(c-a)*(d+u),a=c,u=d}return o===0?void 0:o>0}function qy(s,e,t,i,o){o=o!==void 0?o:!1;for(let a=0,u=t.length;a<u;++a){const c=t[a],d=Ih(s,e,c,i);if(a===0){if(o&&d||!o&&!d)return!1}else if(o&&!d||!o&&d)return!1;e=c}return!0}function Vg(s,e,t,i,o){o=o!==void 0?o:!1;for(let a=0,u=t.length;a<u;++a){const c=t[a],d=Ih(s,e,c,i);(a===0?o&&d||!o&&!d:o&&!d||!o&&d)&&$y(s,e,c,i),e=c}return e}function Qy(s,e){const t=[];let i=0,o=0,a;for(let u=0,c=e.length;u<c;++u){const d=e[u],g=Ih(s,i,d,2);if(a===void 0&&(a=g),g===a)t.push(e.slice(o,u+1));else{if(t.length===0)continue;t[t.length-1].push(e[o])}o=u+1,i=d}return t}class Co extends ka{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?xa(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Co(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,o){return o<fh(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uy(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,o))}containsXY(e,t){return qp(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return by(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Vg(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,ha(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Cr(this.getExtent());this.flatInteriorPoint_=Th(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Pa(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new wo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,o=[];let a=0;for(let u=0,c=i.length;u<c;++u){const d=i[u],g=new wo(t.slice(a,d),e);o.push(g),a=d}return o}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;qy(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Vg(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Hp(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new Co(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Hy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=jy(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function bg(s){if(La(s))throw new Error("Cannot create polygon from empty extent");const e=s[0],t=s[1],i=s[2],o=s[3],a=[e,t,e,o,i,o,i,t,e,t];return new Co(a,"XY",[a.length])}const kc=0;class Nn extends jn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=_h(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Yp(),e.center&&(e.center=ni(e.center,this.projection_)),e.extent&&(e.extent=yr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const c in Sn)delete t[c];this.setProperties(t,!0);const i=ev(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const o=Jy(e),a=i.constraint,u=tv(e);this.constraints_={center:o,resolution:a,rotation:u},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const o=e||[0,0,0,0];t=t||[0,0,0,0];const a=this.getResolution(),u=a/2*(o[3]-t[3]+t[1]-o[1]),c=a/2*(o[0]-t[0]+t[2]-o[2]);this.setCenterInternal([i[0]+u,i[1]-c])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let o=arguments[i];o.center&&(o=Object.assign({},o),o.center=ni(o.center,this.getProjection())),o.anchor&&(o=Object.assign({},o),o.anchor=ni(o.anchor,this.getProjection())),t[i]=o}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let o=0;for(;o<t&&!this.isDef();++o){const m=arguments[o];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(o===t){i&&Jl(i,!0);return}let a=Date.now(),u=this.targetCenter_.slice(),c=this.targetResolution_,d=this.targetRotation_;const g=[];for(;o<t;++o){const m=arguments[o],_={start:a,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||My,callback:i};if(m.center&&(_.sourceCenter=u,_.targetCenter=m.center.slice(),u=_.targetCenter),m.zoom!==void 0?(_.sourceResolution=c,_.targetResolution=this.getResolutionForZoom(m.zoom),c=_.targetResolution):m.resolution&&(_.sourceResolution=c,_.targetResolution=m.resolution,c=_.targetResolution),m.rotation!==void 0){_.sourceRotation=d;const y=fs(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;_.targetRotation=d+y,d=_.targetRotation}nv(_)?_.complete=!0:a+=_.duration,g.push(_)}this.animations_.push(g),this.setHint(St.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[St.ANIMATING]>0}getInteracting(){return this.hints_[St.INTERACTING]>0}cancelAnimations(){this.setHint(St.ANIMATING,-this.hints_[St.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const o=this.animations_[t];if(o[0].callback&&Jl(o[0].callback,!1),!e)for(let a=0,u=o.length;a<u;++a){const c=o[a];if(!c.complete){e=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const o=this.animations_[i];let a=!0;for(let u=0,c=o.length;u<c;++u){const d=o[u];if(d.complete)continue;const g=e-d.start;let m=d.duration>0?g/d.duration:1;m>=1?(d.complete=!0,m=1):a=!1;const _=d.easing(m);if(d.sourceCenter){const y=d.sourceCenter[0],E=d.sourceCenter[1],x=d.targetCenter[0],C=d.targetCenter[1];this.nextCenter_=d.targetCenter;const S=y+_*(x-y),I=E+_*(C-E);this.targetCenter_=[S,I]}if(d.sourceResolution&&d.targetResolution){const y=_===1?d.targetResolution:d.sourceResolution+_*(d.targetResolution-d.sourceResolution);if(d.anchor){const E=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(y,0,E,!0);this.targetCenter_=this.calculateCenterZoom(x,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const y=_===1?fs(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+_*(d.targetRotation-d.sourceRotation);if(d.anchor){const E=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(E,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=y}if(this.applyTargetState_(!0),t=!0,!d.complete)break}if(a){this.animations_[i]=null,this.setHint(St.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const u=o[0].callback;u&&Jl(u,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-t[0],o[1]-t[1]],ph(i,e-this.getRotation()),_y(i,t)),i}calculateCenterZoom(e,t){let i;const o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){const u=t[0]-e*(t[0]-o[0])/a,c=t[1]-e*(t[1]-o[1])/a;i=[u,c]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],o=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(o*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(o*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&qc(e,this.getProjection())}getCenterInternal(){return this.get(Sn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return Vp(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Ie(t,"The view center is not defined");const i=this.getResolution();Ie(i!==void 0,"The view resolution is not defined");const o=this.getRotation();return Ie(o!==void 0,"The view rotation is not defined"),Zc(t,i,o,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Sn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(yr(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=ze(e)/t[0],o=Mt(e)/t[1];return Math.max(i,o)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(t/i)/Math.log(e);return function(a){return t/Math.pow(e,a*o)}}getRotation(){return this.get(Sn.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/t;return function(u){return Math.log(i/u)/t/a}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let o=this.getCenterInternal();const a=this.padding_;if(a){const u=this.getViewportSizeMinusPadding_();o=Mc(o,this.getViewportSize_(),[u[0]/2+a[3],u[1]/2+a[0]],t,i)}return{center:o.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,o;if(this.resolutions_){const a=ah(this.resolutions_,e,1);t=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return t+Math.log(i/e)/Math.log(o)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=tt(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,tt(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Ie(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ie(!La(e),"Cannot fit empty extent provided as `geometry`");const o=yr(e,this.getProjection());i=bg(o)}else if(e.getType()==="Circle"){const o=yr(e.getExtent(),this.getProjection());i=bg(o),i.rotate(this.getRotation(),Cr(o))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),o=Math.sin(-t),a=e.getFlatCoordinates(),u=e.getStride();let c=1/0,d=1/0,g=-1/0,m=-1/0;for(let _=0,y=a.length;_<y;_+=u){const E=a[_]*i-a[_+1]*o,x=a[_]*o+a[_+1]*i;c=Math.min(c,E),d=Math.min(d,x),g=Math.max(g,E),m=Math.max(m,x)}return[c,d,g,m]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const o=t.padding!==void 0?t.padding:[0,0,0,0],a=t.nearest!==void 0?t.nearest:!1;let u;t.minResolution!==void 0?u=t.minResolution:t.maxZoom!==void 0?u=this.getResolutionForZoom(t.maxZoom):u=0;const c=this.rotatedExtentForGeometry(e);let d=this.getResolutionForExtentInternal(c,[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);d=isNaN(d)?u:Math.max(d,u),d=this.getConstrainedResolution(d,a?0:1);const g=this.getRotation(),m=Math.sin(g),_=Math.cos(g),y=Cr(c);y[0]+=(o[1]-o[3])/2*d,y[1]+=(o[0]-o[2])/2*d;const E=y[0]*_-y[1]*m,x=y[1]*_+y[0]*m,C=this.getConstrainedCenter([E,x],d),S=t.callback?t.callback:_s;t.duration!==void 0?this.animateInternal({resolution:d,center:C,duration:t.duration,easing:t.easing},S):(this.targetResolution_=d,this.targetCenter_=C,this.applyTargetState_(!1,!0),Jl(S,!0))}centerOn(e,t,i){this.centerOnInternal(ni(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Mc(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,o){let a;const u=this.padding_;if(u&&e){const c=this.getViewportSizeMinusPadding_(-i),d=Mc(e,o,[c[0]/2+u[3],c[1]/2+u[0]],t,i);a=[e[0]-d[0],e[1]-d[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=qc(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&ni(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,o,i);t&&(this.targetCenter_=this.calculateCenterZoom(a,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=ni(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(o,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&ni(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),u=this.constraints_.resolution(this.targetResolution_,0,a,i),c=this.constraints_.center(this.targetCenter_,u,a,i,this.calculateCenterShift(this.targetCenter_,u,o,a));this.get(Sn.ROTATION)!==o&&this.set(Sn.ROTATION,o),this.get(Sn.RESOLUTION)!==u&&(this.set(Sn.RESOLUTION,u),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(Sn.CENTER)||!ua(this.get(Sn.CENTER),c))&&this.set(Sn.CENTER,c),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const o=t||0,a=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(a),c=this.constraints_.resolution(this.targetResolution_,o,u),d=this.constraints_.center(this.targetCenter_,c,u,!1,this.calculateCenterShift(this.targetCenter_,c,a,u));if(e===0&&!this.cancelAnchor_){this.targetResolution_=c,this.targetRotation_=a,this.targetCenter_=d,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==c||this.getRotation()!==a||!this.getCenterInternal()||!ua(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:d,resolution:c,duration:e,easing:Cs,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(St.INTERACTING,1)}endInteraction(e,t,i){i=i&&ni(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(St.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Jl(s,e){setTimeout(function(){s(e)},0)}function Jy(s){if(s.extent!==void 0){const t=s.smoothExtentConstraint!==void 0?s.smoothExtentConstraint:!0;return zg(s.extent,s.constrainOnlyCenter,t)}const e=_h(s.projection,"EPSG:3857");if(s.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,zg(t,!1,!1)}return Ty}function ev(s){let e,t,i,u=s.minZoom!==void 0?s.minZoom:kc,c=s.maxZoom!==void 0?s.maxZoom:28;const d=s.zoomFactor!==void 0?s.zoomFactor:2,g=s.multiWorld!==void 0?s.multiWorld:!1,m=s.smoothResolutionConstraint!==void 0?s.smoothResolutionConstraint:!0,_=s.showFullExtent!==void 0?s.showFullExtent:!1,y=_h(s.projection,"EPSG:3857"),E=y.getExtent();let x=s.constrainOnlyCenter,C=s.extent;if(!g&&!C&&y.isGlobal()&&(x=!1,C=E),s.resolutions!==void 0){const S=s.resolutions;t=S[u],i=S[c]!==void 0?S[c]:S[S.length-1],s.constrainResolution?e=Ry(S,m,!x&&C,_):e=Gg(t,i,m,!x&&C,_)}else{const I=(E?Math.max(ze(E),Mt(E)):360*hh.degrees/y.getMetersPerUnit())/ch/Math.pow(2,kc),L=I/Math.pow(2,28-kc);t=s.maxResolution,t!==void 0?u=0:t=I/Math.pow(d,u),i=s.minResolution,i===void 0&&(s.maxZoom!==void 0?s.maxResolution!==void 0?i=t/Math.pow(d,c):i=I/Math.pow(d,c):i=L),c=u+Math.floor(Math.log(t/i)/Math.log(d)),i=t/Math.pow(d,c-u),s.constrainResolution?e=Iy(d,t,i,m,!x&&C,_):e=Gg(t,i,m,!x&&C,_)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:u,zoomFactor:d}}function tv(s){if(s.enableRotation!==void 0?s.enableRotation:!0){const t=s.constrainRotation;return t===void 0||t===!0?ky():t===!1?Wg:typeof t=="number"?Ly(t):Wg}return xh}function nv(s){return!(s.sourceCenter&&s.targetCenter&&!ua(s.sourceCenter,s.targetCenter)||s.sourceResolution!==s.targetResolution||s.sourceRotation!==s.targetRotation)}function Mc(s,e,t,i,o){const a=Math.cos(-o);let u=Math.sin(-o),c=s[0]*a-s[1]*u,d=s[1]*a+s[0]*u;c+=(e[0]/2-t[0])*i,d+=(t[1]-e[1]/2)*i,u=-u;const g=c*a-d*u,m=d*a+c*u;return[g,m]}class Aa extends Pp{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Ne.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Ne.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(je(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Pe(e,Ee.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Nn?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let o;t.layerStatesArray?o=t.layerStatesArray.find(u=>u.layer===this):o=this.getLayerState();const a=this.getExtent();return Lh(o,t.viewState)&&(!a||Xt(a,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];const o=e instanceof Nn?e.getViewStateAndExtent():e;let a=t(o);return Array.isArray(a)||(a=[a]),a}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Ne.MAP,e)}getMapInternal(){return this.get(Ne.MAP)}setMap(e){this.mapPrecomposeKey_&&(je(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(je(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Pe(e,hn.PRECOMPOSE,function(t){const o=t.frameState.layerStatesArray,a=this.getLayerState(!1);Ie(!o.some(function(u){return u.layer===a.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),o.push(a)},this),this.mapRenderKey_=Pe(this,Ee.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Ne.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Lh(s,e){if(!s.visible)return!1;const t=e.resolution;if(t<s.minResolution||t>=s.maxResolution)return!1;const i=e.zoom;return i>s.minZoom&&i<=s.maxZoom}function iv(s,e,t,i,o){em(s,e,t||0,i||s.length-1,o||rv)}function em(s,e,t,i,o){for(;i>t;){if(i-t>600){var a=i-t+1,u=e-t+1,c=Math.log(a),d=.5*Math.exp(2*c/3),g=.5*Math.sqrt(c*d*(a-d)/a)*(u-a/2<0?-1:1),m=Math.max(t,Math.floor(e-u*d/a+g)),_=Math.min(i,Math.floor(e+(a-u)*d/a+g));em(s,e,m,_,o)}var y=s[e],E=t,x=i;for(ao(s,t,e),o(s[i],y)>0&&ao(s,t,i);E<x;){for(ao(s,E,x),E++,x--;o(s[E],y)<0;)E++;for(;o(s[x],y)>0;)x--}o(s[t],y)===0?ao(s,t,x):(x++,ao(s,x,i)),x<=e&&(t=x+1),e<=x&&(i=x-1)}}function ao(s,e,t){var i=s[e];s[e]=s[t],s[t]=i}function rv(s,e){return s<e?-1:s>e?1:0}let tm=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!ta(e,t))return i;const o=this.toBBox,a=[];for(;t;){for(let u=0;u<t.children.length;u++){const c=t.children[u],d=t.leaf?o(c):c;ta(e,d)&&(t.leaf?i.push(c):Ac(e,d)?this._all(c,i):a.push(c))}t=a.pop()}return i}collides(e){let t=this.data;if(!ta(e,t))return!1;const i=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],u=t.leaf?this.toBBox(a):a;if(ta(e,u)){if(t.leaf||Ac(e,u))return!0;i.push(a)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ss([]),this}remove(e,t){if(!e)return this;let i=this.data;const o=this.toBBox(e),a=[],u=[];let c,d,g;for(;i||a.length;){if(i||(i=a.pop(),d=a[a.length-1],c=u.pop(),g=!0),i.leaf){const m=sv(e,i.children,t);if(m!==-1)return i.children.splice(m,1),a.push(i),this._condense(a),this}!g&&!i.leaf&&Ac(i,o)?(a.push(i),u.push(c),c=0,d=i,i=i.children[0]):d?(c++,i=d.children[c],g=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,o){const a=i-t+1;let u=this._maxEntries,c;if(a<=u)return c=ss(e.slice(t,i+1)),es(c,this.toBBox),c;o||(o=Math.ceil(Math.log(a)/Math.log(u)),u=Math.ceil(a/Math.pow(u,o-1))),c=ss([]),c.leaf=!1,c.height=o;const d=Math.ceil(a/u),g=d*Math.ceil(Math.sqrt(u));Kg(e,t,i,g,this.compareMinX);for(let m=t;m<=i;m+=g){const _=Math.min(m+g-1,i);Kg(e,m,_,d,this.compareMinY);for(let y=m;y<=_;y+=d){const E=Math.min(y+d-1,_);c.children.push(this._build(e,y,E,o-1))}}return es(c,this.toBBox),c}_chooseSubtree(e,t,i,o){for(;o.push(t),!(t.leaf||o.length-1===i);){let a=1/0,u=1/0,c;for(let d=0;d<t.children.length;d++){const g=t.children[d],m=Pc(g),_=av(e,g)-m;_<u?(u=_,a=m<a?m:a,c=g):_===u&&m<a&&(a=m,c=g)}t=c||t.children[0]}return t}_insert(e,t,i){const o=i?e:this.toBBox(e),a=[],u=this._chooseSubtree(o,this.data,t,a);for(u.children.push(e),po(u,o);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(o,a,t)}_split(e,t){const i=e[t],o=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,o);const u=this._chooseSplitIndex(i,a,o),c=ss(i.children.splice(u,i.children.length-u));c.height=i.height,c.leaf=i.leaf,es(i,this.toBBox),es(c,this.toBBox),t?e[t-1].children.push(c):this._splitRoot(i,c)}_splitRoot(e,t){this.data=ss([e,t]),this.data.height=e.height+1,this.data.leaf=!1,es(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let o,a=1/0,u=1/0;for(let c=t;c<=i-t;c++){const d=go(e,0,c,this.toBBox),g=go(e,c,i,this.toBBox),m=uv(d,g),_=Pc(d)+Pc(g);m<a?(a=m,o=c,u=_<u?_:u):m===a&&_<u&&(u=_,o=c)}return o||i-t}_chooseSplitAxis(e,t,i){const o=e.leaf?this.compareMinX:ov,a=e.leaf?this.compareMinY:lv,u=this._allDistMargin(e,t,i,o),c=this._allDistMargin(e,t,i,a);u<c&&e.children.sort(o)}_allDistMargin(e,t,i,o){e.children.sort(o);const a=this.toBBox,u=go(e,0,t,a),c=go(e,i-t,i,a);let d=ea(u)+ea(c);for(let g=t;g<i-t;g++){const m=e.children[g];po(u,e.leaf?a(m):m),d+=ea(u)}for(let g=i-t-1;g>=t;g--){const m=e.children[g];po(c,e.leaf?a(m):m),d+=ea(c)}return d}_adjustParentBBoxes(e,t,i){for(let o=i;o>=0;o--)po(t[o],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():es(e[t],this.toBBox)}};function sv(s,e,t){if(!t)return e.indexOf(s);for(let i=0;i<e.length;i++)if(t(s,e[i]))return i;return-1}function es(s,e){go(s,0,s.children.length,e,s)}function go(s,e,t,i,o){o||(o=ss(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let a=e;a<t;a++){const u=s.children[a];po(o,s.leaf?i(u):u)}return o}function po(s,e){return s.minX=Math.min(s.minX,e.minX),s.minY=Math.min(s.minY,e.minY),s.maxX=Math.max(s.maxX,e.maxX),s.maxY=Math.max(s.maxY,e.maxY),s}function ov(s,e){return s.minX-e.minX}function lv(s,e){return s.minY-e.minY}function Pc(s){return(s.maxX-s.minX)*(s.maxY-s.minY)}function ea(s){return s.maxX-s.minX+(s.maxY-s.minY)}function av(s,e){return(Math.max(e.maxX,s.maxX)-Math.min(e.minX,s.minX))*(Math.max(e.maxY,s.maxY)-Math.min(e.minY,s.minY))}function uv(s,e){const t=Math.max(s.minX,e.minX),i=Math.max(s.minY,e.minY),o=Math.min(s.maxX,e.maxX),a=Math.min(s.maxY,e.maxY);return Math.max(0,o-t)*Math.max(0,a-i)}function Ac(s,e){return s.minX<=e.minX&&s.minY<=e.minY&&e.maxX<=s.maxX&&e.maxY<=s.maxY}function ta(s,e){return e.minX<=s.maxX&&e.minY<=s.maxY&&e.maxX>=s.minX&&e.maxY>=s.minY}function ss(s){return{children:s,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Kg(s,e,t,i,o){const a=[e,t];for(;a.length;){if(t=a.pop(),e=a.pop(),t-e<=i)continue;const u=e+Math.ceil((t-e)/i/2)*i;iv(s,u,e,t,o),a.push(e,u,u,t)}}const Ce={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function Zg(s){return s[0]>0&&s[1]>0}function cv(s,e,t){return t===void 0&&(t=[0,0]),t[0]=s[0]*e+.5|0,t[1]=s[1]*e+.5|0,t}function qt(s,e){return Array.isArray(s)?s:(e===void 0?e=[s,s]:(e[0]=s,e[1]=s),e)}class Da{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=qt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Da({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Me()}getImage(e){return Me()}getHitDetectionImage(){return Me()}getPixelRatio(e){return 1}getImageState(){return Me()}getImageSize(){return Me()}getOrigin(){return Me()}getSize(){return Me()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=qt(e)}listenImageChange(e){Me()}load(){Me()}unlistenImageChange(e){Me()}ready(){return Promise.resolve()}}const So={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var pt={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};pt.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};pt.max=pt.whitepoint[2].D65;pt.rgb=function(s,e){e=e||pt.whitepoint[2].E;var t=s[0]/e[0],i=s[1]/e[1],o=s[2]/e[2],a,u,c;return a=t*3.240969941904521+i*-1.537383177570093+o*-.498610760293,u=t*-.96924363628087+i*1.87596750150772+o*.041555057407175,c=t*.055630079696993+i*-.20397695888897+o*1.056971514242878,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u=u*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,a=Math.min(Math.max(0,a),1),u=Math.min(Math.max(0,u),1),c=Math.min(Math.max(0,c),1),[a*255,u*255,c*255]};So.xyz=function(s,e){var t=s[0]/255,i=s[1]/255,o=s[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var a=t*.41239079926595+i*.35758433938387+o*.18048078840183,u=t*.21263900587151+i*.71516867876775+o*.072192315360733,c=t*.019330818715591+i*.11919477979462+o*.95053215224966;return e=e||pt.whitepoint[2].E,[a*e[0],u*e[1],c*e[2]]};const kh={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(s,e,t){var i,o,a,u,c,d,g,m,_,y,E,x,C;if(a=s[0],u=s[1],c=s[2],a===0)return[0,0,0];var S=.0011070564598794539;return e=e||"D65",t=t||2,_=pt.whitepoint[t][e][0],y=pt.whitepoint[t][e][1],E=pt.whitepoint[t][e][2],x=4*_/(_+15*y+3*E),C=9*y/(_+15*y+3*E),i=u/(13*a)+x||0,o=c/(13*a)+C||0,g=a>8?y*Math.pow((a+16)/116,3):y*a*S,d=g*9*i/(4*o)||0,m=g*(12-3*i-20*o)/(4*o)||0,[d,g,m]}};pt.luv=function(s,e,t){var i,o,a,u,c,d,g,m,_,y,E,x,C,S=.008856451679035631,I=903.2962962962961;e=e||"D65",t=t||2,_=pt.whitepoint[t][e][0],y=pt.whitepoint[t][e][1],E=pt.whitepoint[t][e][2],x=4*_/(_+15*y+3*E),C=9*y/(_+15*y+3*E),d=s[0],g=s[1],m=s[2],i=4*d/(d+15*g+3*m)||0,o=9*g/(d+15*g+3*m)||0;var L=g/y;return a=L<=S?I*L:116*Math.pow(L,1/3)-16,u=13*a*(i-x),c=13*a*(o-C),[a,u,c]};var nm={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(s){var e=s[0],t=s[1],i=s[2],o,a,u;return u=i/360*2*Math.PI,o=t*Math.cos(u),a=t*Math.sin(u),[e,o,a]},xyz:function(s){return kh.xyz(nm.luv(s))}};kh.lchuv=function(s){var e=s[0],t=s[1],i=s[2],o=Math.sqrt(t*t+i*i),a=Math.atan2(i,t),u=a*360/2/Math.PI;return u<0&&(u+=360),[e,o,u]};pt.lchuv=function(s){return kh.lchuv(pt.luv(s))};const Hg={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var $g={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function hv(s){var m,_;var e,t=[],i=1,o;if(typeof s=="number")return{space:"rgb",values:[s>>>16,(s&65280)>>>8,s&255],alpha:1};if(typeof s=="number")return{space:"rgb",values:[s>>>16,(s&65280)>>>8,s&255],alpha:1};if(s=String(s).toLowerCase(),Hg[s])t=Hg[s].slice(),o="rgb";else if(s==="transparent")i=0,o="rgb",t=[0,0,0];else if(s[0]==="#"){var a=s.slice(1),u=a.length,c=u<=4;i=1,c?(t=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],u===4&&(i=parseInt(a[3]+a[3],16)/255)):(t=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],u===8&&(i=parseInt(a[6]+a[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),o="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(s)){var d=e[1];o=d.replace(/a$/,"");var g=o==="cmyk"?4:o==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),o==="color"&&(o=t.shift()),t=t.map(function(y,E){if(y[y.length-1]==="%")return y=parseFloat(y)/100,E===3?y:o==="rgb"?y*255:o[0]==="h"||o[0]==="l"&&!E?y*100:o==="lab"?y*125:o==="lch"?E<2?y*150:y*360:o[0]==="o"&&!E?y:o==="oklab"?y*.4:o==="oklch"?E<2?y*.4:y*360:y;if(o[E]==="h"||E===2&&o[o.length-1]==="h"){if($g[y]!==void 0)return $g[y];if(y.endsWith("deg"))return parseFloat(y);if(y.endsWith("turn"))return parseFloat(y)*360;if(y.endsWith("grad"))return parseFloat(y)*360/400;if(y.endsWith("rad"))return parseFloat(y)*180/Math.PI}return y==="none"?0:parseFloat(y)}),i=t.length>g?t.pop():1}else/[0-9](?:\s|\/|,)/.test(s)&&(t=s.match(/([0-9]+)/g).map(function(y){return parseFloat(y)}),o=((_=(m=s.match(/([a-z])/ig))==null?void 0:m.join(""))==null?void 0:_.toLowerCase())||"rgb");return{space:o,values:t,alpha:i}}const Dc={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(s){var e=s[0]/360,t=s[1]/100,i=s[2]/100,o,a,u,c,d,g=0;if(t===0)return d=i*255,[d,d,d];for(a=i<.5?i*(1+t):i+t-i*t,o=2*i-a,c=[0,0,0];g<3;)u=e+1/3*-(g-1),u<0?u++:u>1&&u--,d=6*u<1?o+(a-o)*6*u:2*u<1?a:3*u<2?o+(a-o)*(2/3-u)*6:o,c[g++]=d*255;return c}};So.hsl=function(s){var e=s[0]/255,t=s[1]/255,i=s[2]/255,o=Math.min(e,t,i),a=Math.max(e,t,i),u=a-o,c,d,g;return a===o?c=0:e===a?c=(t-i)/u:t===a?c=2+(i-e)/u:i===a&&(c=4+(e-t)/u),c=Math.min(c*60,360),c<0&&(c+=360),g=(o+a)/2,a===o?d=0:g<=.5?d=u/(a+o):d=u/(2-a-o),[c,d*100,g*100]};function dv(s){Array.isArray(s)&&s.raw&&(s=String.raw(...arguments)),s instanceof Number&&(s=+s);var e,t=hv(s);if(!t.space)return[];const i=t.space[0]==="h"?Dc.min:So.min,o=t.space[0]==="h"?Dc.max:So.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],i[0]),o[0]),e[1]=Math.min(Math.max(t.values[1],i[1]),o[1]),e[2]=Math.min(Math.max(t.values[2],i[2]),o[2]),t.space[0]==="h"&&(e=Dc.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}function fv(s){return typeof s=="string"?s:Ph(s)}const gv=1024,uo={};let Oc=0;function pv(s){if(s.length===4)return s;const e=s.slice();return e[3]=1,e}function qg(s){const e=pt.lchuv(So.xyz(s));return e[3]=s[3],e}function mv(s){const e=pt.rgb(nm.xyz(s));return e[3]=s[3],e}function Mh(s){if(uo.hasOwnProperty(s))return uo[s];if(Oc>=gv){let t=0;for(const i in uo)(t++&3)===0&&(delete uo[i],--Oc)}const e=dv(s);if(e.length!==4)throw new Error('Failed to parse "'+s+'" as color');for(const t of e)if(isNaN(t))throw new Error('Failed to parse "'+s+'" as color');return im(e),uo[s]=e,++Oc,e}function To(s){return Array.isArray(s)?s:Mh(s)}function im(s){return s[0]=tt(s[0]+.5|0,0,255),s[1]=tt(s[1]+.5|0,0,255),s[2]=tt(s[2]+.5|0,0,255),s[3]=tt(s[3],0,1),s}function Ph(s){let e=s[0];e!=(e|0)&&(e=e+.5|0);let t=s[1];t!=(t|0)&&(t=t+.5|0);let i=s[2];i!=(i|0)&&(i=i+.5|0);const o=s[3]===void 0?1:Math.round(s[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+o+")"}function _v(s){try{return Mh(s),!0}catch{return!1}}const Zi=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",yv=Zi.includes("firefox"),vv=Zi.includes("safari")&&!Zi.includes("chrom");vv&&(Zi.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Zi));const Ev=Zi.includes("webkit")&&!Zi.includes("edge"),rm=Zi.includes("macintosh"),sm=typeof devicePixelRatio<"u"?devicePixelRatio:1,om=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,lm=typeof Image<"u"&&Image.prototype.decode,am=function(){let s=!1;try{const e=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return s}();function mt(s,e,t,i){let o;return t&&t.length?o=t.shift():om?o=new OffscreenCanvas(s||300,e||300):o=document.createElement("canvas"),s&&(o.width=s),e&&(o.height=e),o.getContext("2d",i)}let Fc;function da(){return Fc||(Fc=mt(1,1)),Fc}function Oa(s){const e=s.canvas;e.width=1,e.height=1,s.clearRect(0,0,1,1)}function Qg(s,e){const t=e.parentNode;t&&t.replaceChild(s,e)}function Qc(s){return s&&s.parentNode?s.parentNode.removeChild(s):null}function xv(s){for(;s.lastChild;)s.removeChild(s.lastChild)}function wv(s,e){const t=s.childNodes;for(let i=0;;++i){const o=t[i],a=e[i];if(!o&&!a)break;if(o!==a){if(!o){s.appendChild(a);continue}if(!a){s.removeChild(o),--i;continue}s.insertBefore(a,o)}}}function Cv(s,e,t){const i=s;let o=!0,a=!1,u=!1;const c=[la(i,Ee.LOAD,function(){u=!0,a||e()})];return i.src&&lm?(a=!0,i.decode().then(function(){o&&e()}).catch(function(d){o&&(u?e():t())})):c.push(la(i,Ee.ERROR,t)),function(){o=!1,c.forEach(je)}}function Sv(s,e){return new Promise((t,i)=>{function o(){u(),t(s)}function a(){u(),i(new Error("Image load error"))}function u(){s.removeEventListener("load",o),s.removeEventListener("error",a)}s.addEventListener("load",o),s.addEventListener("error",a)})}function Tv(s,e){return e&&(s.src=e),s.src&&lm?new Promise((t,i)=>s.decode().then(()=>t(s)).catch(o=>s.complete&&s.width?t(s):i(o))):Sv(s)}class Rv{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const o=Nc(e,t,i);return o in this.cache_?this.cache_[o]:null}getPattern(e,t,i){const o=Nc(e,t,i);return o in this.patternCache_?this.patternCache_[o]:null}set(e,t,i,o,a){const u=Nc(e,t,i),c=u in this.cache_;this.cache_[u]=o,a&&(o.getImageState()===Ce.IDLE&&o.load(),o.getImageState()===Ce.LOADING?o.ready().then(()=>{this.patternCache_[u]=da().createPattern(o.getImage(1),"repeat")}):this.patternCache_[u]=da().createPattern(o.getImage(1),"repeat")),c||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Nc(s,e,t){const i=t?To(t):"null";return e+":"+s+":"+i}const Wn=new Rv;let co=null;class Iv extends Ca{constructor(e,t,i,o,a){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=a,this.imageState_=o===void 0?Ce.IDLE:o,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Ce.LOADED){co||(co=mt(1,1,void 0,{willReadFrequently:!0})),co.drawImage(this.image_,0,0);try{co.getImageData(0,0,1,1),this.tainted_=!1}catch{co=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ee.CHANGE)}handleImageError_(){this.imageState_=Ce.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ce.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=mt(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ce.IDLE){this.image_||this.initializeImage_(),this.imageState_=Ce.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Tv(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Ce.LOADED)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const o=i.getContext("2d");o.scale(e,e),o.drawImage(t,0,0),o.globalCompositeOperation="multiply",o.fillStyle=fv(this.color_),o.fillRect(0,0,i.width/e,i.height/e),o.globalCompositeOperation="destination-in",o.drawImage(t,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{this.imageState_===Ce.LOADED||this.imageState_===Ce.ERROR?e():this.addEventListener(Ee.CHANGE,function t(){(this.imageState_===Ce.LOADED||this.imageState_===Ce.ERROR)&&(this.removeEventListener(Ee.CHANGE,t),e())})})),this.ready_}}function Ah(s,e,t,i,o,a){let u=e===void 0?void 0:Wn.get(e,t,o);return u||(u=new Iv(s,s&&"src"in s?s.src||void 0:e,t,i,o),Wn.set(e,t,o,u,a)),a&&u&&!Wn.getPattern(e,t,o)&&Wn.set(e,t,o,u,a),u}function Xn(s){return s?Array.isArray(s)?Ph(s):typeof s=="object"&&"src"in s?Lv(s):s:null}function Lv(s){if(!s.offset||!s.size)return Wn.getPattern(s.src,"anonymous",s.color);const e=s.src+":"+s.offset,t=Wn.getPattern(e,void 0,s.color);if(t)return t;const i=Wn.get(s.src,"anonymous",null);if(i.getImageState()!==Ce.LOADED)return null;const o=mt(s.size[0],s.size[1]);return o.drawImage(i.getImage(1),s.offset[0],s.offset[1],s.size[0],s.size[1],0,0,s.size[0],s.size[1]),Ah(o.canvas,e,void 0,Ce.LOADED,s.color,!0),Wn.getPattern(e,void 0,s.color)}const na="ol-hidden",Fa="ol-unselectable",Dh="ol-control",Jg="ol-collapsed",kv=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),ep=["style","variant","weight","size","lineHeight","family"],um=function(s){const e=s.match(kv);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,o=ep.length;i<o;++i){const a=e[i+1];a!==void 0&&(t[ep[i]]=a)}return t.families=t.family.split(/,\s?/),t},cm="10px sans-serif",Wt="#000",Es="round",oi=[],li=0,xs="round",Ro=10,Io="#000",Lo="center",fa="middle",xr=[0,0,0,0],ko=1,ii=new jn;let os=null,Jc;const eh={},Mv=function(){const e="32px ",t=["monospace","serif"],i=t.length,o="wmytzilWMYTZIL@#/&?$%10";let a,u;function c(g,m,_){let y=!0;for(let E=0;E<i;++E){const x=t[E];if(u=ga(g+" "+m+" "+e+x,o),_!=x){const C=ga(g+" "+m+" "+e+_+","+x,o);y=y&&C!=u}}return!!y}function d(){let g=!0;const m=ii.getKeys();for(let _=0,y=m.length;_<y;++_){const E=m[_];ii.get(E)<100&&(c.apply(this,E.split(`
`))?(Do(eh),os=null,Jc=void 0,ii.set(E,100)):(ii.set(E,ii.get(E)+1,!0),g=!1))}g&&(clearInterval(a),a=void 0)}return function(g){const m=um(g);if(!m)return;const _=m.families;for(let y=0,E=_.length;y<E;++y){const x=_[y],C=m.style+`
`+m.weight+`
`+x;ii.get(C)===void 0&&(ii.set(C,100,!0),c(m.style,m.weight,x)||(ii.set(C,0,!0),a===void 0&&(a=setInterval(d,32))))}}}(),Pv=function(){let s;return function(e){let t=eh[e];if(t==null){if(om){const i=um(e),o=hm(e,"Žg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else s||(s=document.createElement("div"),s.innerHTML="M",s.style.minHeight="0",s.style.maxHeight="none",s.style.height="auto",s.style.padding="0",s.style.border="none",s.style.position="absolute",s.style.display="block",s.style.left="-99999px"),s.style.font=e,document.body.appendChild(s),t=s.offsetHeight,document.body.removeChild(s);eh[e]=t}return t}}();function hm(s,e){return os||(os=mt(1,1)),s!=Jc&&(os.font=s,Jc=os.font),os.measureText(e)}function ga(s,e){return hm(s,e).width}function tp(s,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((o,a)=>Math.max(o,ga(s,a)),0);return t[e]=i,i}function Av(s,e){const t=[],i=[],o=[];let a=0,u=0,c=0,d=0;for(let g=0,m=e.length;g<=m;g+=2){const _=e[g];if(_===`
`||g===m){a=Math.max(a,u),o.push(u),u=0,c+=d,d=0;continue}const y=e[g+1]||s.font,E=ga(y,_);t.push(E),u+=E;const x=Pv(y);i.push(x),d=Math.max(d,x)}return{width:a,height:c,widths:t,heights:i,lineWidths:o}}function Dv(s,e,t,i,o,a,u,c,d,g,m){s.save(),t!==1&&(s.globalAlpha===void 0?s.globalAlpha=_=>_.globalAlpha*=t:s.globalAlpha*=t),e&&s.transform.apply(s,e),i.contextInstructions?(s.translate(d,g),s.scale(m[0],m[1]),Ov(i,s)):m[0]<0||m[1]<0?(s.translate(d,g),s.scale(m[0],m[1]),s.drawImage(i,o,a,u,c,0,0,u,c)):s.drawImage(i,o,a,u,c,d,g,u*m[0],c*m[1]),s.restore()}function Ov(s,e){const t=s.contextInstructions;for(let i=0,o=t.length;i<o;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class Na extends Da{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Ce.LOADING:Ce.LOADED,this.imageState_===Ce.LOADING&&this.ready().then(()=>this.imageState_=Ce.LOADED),this.render()}clone(){const e=this.getScale(),t=new Na({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){const i=this.renderOptions_,o=mt(i.size*e,i.size*e);this.draw_(i,o,e),t=o.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){const X=o;o=a,a=X}const u=this.radius2_===void 0?this.points_:this.points_*2,c=2*Math.PI/u,d=a*Math.sin(c),g=Math.sqrt(a*a-d*d),m=o-g,_=Math.sqrt(d*d+m*m),y=_/d;if(e==="miter"&&y<=i)return y*t;const E=t/2/y,x=t/2*(m/_),S=Math.sqrt((o+E)*(o+E)+x*x)-o;if(this.radius2_===void 0||e==="bevel")return S*2;const I=o*Math.sin(c),L=Math.sqrt(o*o-I*I),O=a-L,M=Math.sqrt(I*I+O*O)/I;if(M<=i){const X=M*t/2-a-o;return 2*Math.max(S,X)}return S*2}createRenderOptions(){let e=Es,t=xs,i=0,o=null,a=0,u,c=0;this.stroke_&&(u=Xn(this.stroke_.getColor()??Io),c=this.stroke_.getWidth()??ko,o=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??xs,e=this.stroke_.getLineCap()??Es,i=this.stroke_.getMiterLimit()??Ro);const d=this.calculateLineJoinSize_(t,c,i),g=Math.max(this.radius_,this.radius2_||0),m=Math.ceil(2*g+d);return{strokeStyle:u,strokeWidth:c,size:m,lineCap:e,lineDash:o,lineDashOffset:a,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let o=this.fill_.getColor();o===null&&(o=Wt),t.fillStyle=Xn(o),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),o=0;typeof i=="string"&&(i=To(i)),i===null?o=1:Array.isArray(i)&&(o=i.length===4?i[3]:1),o===0&&(t=mt(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const a=this.angle_-Math.PI/2,u=2*Math.PI/t;for(let c=0;c<t;c++){const d=a+c*u,g=c%2===0?i:o;e.lineTo(g*Math.cos(d),g*Math.sin(d))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Wt,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class No extends Na{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new No({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}class Ss{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Ss({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=Ah(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Ce.IDLE&&t.load(),t.getImageState()===Ce.LOADING&&(this.patternImage_=t)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class ws{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new ws({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class ai{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=np,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new ai({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=np,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function Fv(s){let e;if(typeof s=="function")e=s;else{let t;Array.isArray(s)?t=s:(Ie(typeof s.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[s]),e=function(){return t}}return e}let zc=null;function dm(s,e){if(!zc){const t=new Ss({color:"rgba(255,255,255,0.4)"}),i=new ws({color:"#3399CC",width:1.25});zc=[new ai({image:new No({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return zc}function np(s){return s.getGeometry()}function ip(s,e,t,i){return t!==void 0&&i!==void 0?[t/s,i/e]:t!==void 0?t/s:i!==void 0?i/e:1}class za extends Da{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,o=e.scale!==void 0?e.scale:1,a=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:o,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:a,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const u=e.img!==void 0?e.img:null;let c=e.src;Ie(!(c!==void 0&&u),"`image` and `src` cannot be provided at the same time"),(c===void 0||c.length===0)&&u&&(c=u.src||De(u)),Ie(c!==void 0&&c.length>0,"A defined and non-empty `src` or `image` must be provided"),Ie(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(e.src!==void 0?d=Ce.IDLE:u!==void 0&&("complete"in u?u.complete?d=u.src?Ce.LOADED:Ce.IDLE:d=Ce.LOADING:d=Ce.LOADED),this.color_=e.color!==void 0?To(e.color):null,this.iconImage_=Ah(u,c,this.crossOrigin_,d,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let g,m;if(e.size)[g,m]=e.size;else{const _=this.getImage(1);if(_.width&&_.height)g=_.width,m=_.height;else if(_ instanceof HTMLImageElement){this.initialOptions_=e;const y=()=>{if(this.unlistenImageChange(y),!this.initialOptions_)return;const E=this.iconImage_.getSize();this.setScale(ip(E[0],E[1],e.width,e.height))};this.listenImageChange(y);return}}g!==void 0&&this.setScale(ip(g,m,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new za({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const o=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!o)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=o[0]),this.anchorYUnits_=="fraction"&&(e[1]*=o[1])}if(this.anchorOrigin_!="top-left"){if(!o)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+o[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+o[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Ce.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Ce.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ee.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ee.CHANGE,e)}ready(){return this.iconImage_.ready()}}const Nv="#333";class Oh{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=qt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Ss({color:Nv}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Oh({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=qt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let Tr=0;const Ts=0,Ke=1<<Tr++,le=1<<Tr++,$t=1<<Tr++,ct=1<<Tr++,Un=1<<Tr++,vo=1<<Tr++,wt=Math.pow(2,Tr)-1,fm={[Ke]:"boolean",[le]:"number",[$t]:"string",[ct]:"color",[Un]:"number[]",[vo]:"size"},zv=Object.keys(fm).map(Number).sort(si);function Tt(s){const e=[];for(const t of zv)Gv(s,t)&&e.push(fm[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Gv(s,e){return(s&e)===e}function Yn(s,e){return!!(s&e)}function Ga(s,e){return s===e}class Bi{constructor(e,t){this.type=e,this.value=t}}class Wv{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function gm(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function Xv(s){switch(s){case"string":return $t;case"color":return ct;case"number":return le;case"boolean":return Ke;case"number[]":return Un;default:throw new Error(`Unrecognized type hint: ${s}`)}}function Ae(s,e,t){switch(typeof s){case"boolean":return new Bi(Ke,s);case"number":return new Bi(t===vo?vo:le,s);case"string":{let o=$t;return _v(s)&&(o|=ct),Ga(o&t,Ts)||(o&=t),new Bi(o,s)}}if(!Array.isArray(s))throw new Error("Expression must be an array or a primitive value");if(s.length===0)throw new Error("Empty expression");if(typeof s[0]=="string")return Qv(s,e,t);for(const o of s)if(typeof o!="number")throw new Error("Expected an array of numbers");let i=Un;return s.length===2?i|=vo:(s.length===3||s.length===4)&&(i|=ct),t&&(i&=t),new Bi(i,s)}const G={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},Uv={[G.Get]:ve(([s,e])=>e!==void 0?Xv(e.value):wt,we(1,2),Yv),[G.Var]:ve(([s])=>s.type,we(1,1),jv),[G.Id]:ve(le|$t,ho,Bv),[G.Concat]:ve($t,we(2,1/0),Re(wt)),[G.GeometryType]:ve($t,ho,Vv),[G.Resolution]:ve(le,ho),[G.Zoom]:ve(le,ho),[G.Time]:ve(le,ho),[G.Any]:ve(Ke,we(2,1/0),Re(Ke)),[G.All]:ve(Ke,we(2,1/0),Re(Ke)),[G.Not]:ve(Ke,we(1,1),Re(Ke)),[G.Equal]:ve(Ke,we(2,2),Re(wt),Ni),[G.NotEqual]:ve(Ke,we(2,2),Re(wt),Ni),[G.GreaterThan]:ve(Ke,we(2,2),Re(wt),Ni),[G.GreaterThanOrEqualTo]:ve(Ke,we(2,2),Re(wt),Ni),[G.LessThan]:ve(Ke,we(2,2),Re(wt),Ni),[G.LessThanOrEqualTo]:ve(Ke,we(2,2),Re(wt),Ni),[G.Multiply]:ve(s=>{let e=le|ct;for(let t=0;t<s.length;t++)e&=s[t].type;return e},we(2,1/0),Re(le|ct),Ni),[G.Coalesce]:ve(s=>{let e=wt;for(let t=1;t<s.length;t+=2)e&=s[t].type;return e&=s[s.length-1].type,e},we(2,1/0),Re(wt),Ni),[G.Divide]:ve(le,we(2,2),Re(le)),[G.Add]:ve(le,we(2,1/0),Re(le)),[G.Subtract]:ve(le,we(2,2),Re(le)),[G.Clamp]:ve(le,we(3,3),Re(le)),[G.Mod]:ve(le,we(2,2),Re(le)),[G.Pow]:ve(le,we(2,2),Re(le)),[G.Abs]:ve(le,we(1,1),Re(le)),[G.Floor]:ve(le,we(1,1),Re(le)),[G.Ceil]:ve(le,we(1,1),Re(le)),[G.Round]:ve(le,we(1,1),Re(le)),[G.Sin]:ve(le,we(1,1),Re(le)),[G.Cos]:ve(le,we(1,1),Re(le)),[G.Atan]:ve(le,we(1,2),Re(le)),[G.Sqrt]:ve(le,we(1,1),Re(le)),[G.Match]:ve(s=>{let e=wt;for(let t=2;t<s.length;t+=2)e&=s[t].type;return e&=s[s.length-1].type,e},we(4,1/0),rp,Kv),[G.Between]:ve(Ke,we(3,3),Re(le)),[G.Interpolate]:ve(s=>{let e=ct|le;for(let t=3;t<s.length;t+=2)e&=s[t].type;return e},we(6,1/0),rp,Zv),[G.Case]:ve(s=>{let e=wt;for(let t=1;t<s.length;t+=2)e&=s[t].type;return e&=s[s.length-1].type,e},we(3,1/0),bv,Hv),[G.In]:ve(Ke,we(2,2),$v),[G.Number]:ve(le,we(1,1/0),Re(wt)),[G.String]:ve($t,we(1,1/0),Re(wt)),[G.Array]:ve(s=>s.length===2?Un|vo:s.length===3||s.length===4?Un|ct:Un,we(1,1/0),Re(le)),[G.Color]:ve(ct,we(1,4),Re(le)),[G.Band]:ve(le,we(1,3),Re(le)),[G.Palette]:ve(ct,we(2,2),qv),[G.ToString]:ve($t,we(1,1),Re(Ke|le|$t|ct))};function Yv(s,e){const t=Ae(s[1],e);if(!(t instanceof Bi))throw new Error("Expected a literal argument for get operation");if(typeof t.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(t.value),s.length===3){const i=Ae(s[2],e);return[t,i]}return[t]}function jv(s,e,t,i){const o=s[1];if(typeof o!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(o),!("variables"in e.style)||e.style.variables[o]===void 0)return[new Bi(wt,o)];const a=e.style.variables[o],u=Ae(a,e);if(u.value=o,i&&!Yn(i,u.type))throw new Error(`The variable ${o} has type ${Tt(u.type)} but the following type was expected: ${Tt(i)}`);return[u]}function Bv(s,e){e.featureId=!0}function Vv(s,e){e.geometryType=!0}function ho(s,e){const t=s[0];if(s.length!==1)throw new Error(`Expected no arguments for ${t} operation`);return[]}function we(s,e){return function(t,i){const o=t[0],a=t.length-1;if(s===e){if(a!==s){const u=s===1?"":"s";throw new Error(`Expected ${s} argument${u} for ${o}, got ${a}`)}}else if(a<s||a>e){const u=e===1/0?`${s} or more`:`${s} to ${e}`;throw new Error(`Expected ${u} arguments for ${o}, got ${a}`)}}}function Re(s){return function(e,t){const i=e[0],o=e.length-1,a=new Array(o);for(let u=0;u<o;++u){const c=Ae(e[u+1],t);if(!Yn(s,c.type)){const d=Tt(s),g=Tt(c.type);throw new Error(`Unexpected type for argument ${u} of ${i} operation, got ${d} but expected ${g}`)}c.type&=s,a[u]=c}return a}}function Ni(s,e,t){const i=s[0],o=s.length-1;let a=wt;for(let c=0;c<t.length;++c)a&=t[c].type;if(a===Ts)throw new Error(`No common type could be found for arguments of ${i} operation`);const u=new Array(o);for(let c=0;c<o;++c)u[c]=Ae(s[c+1],e,a);return u}function bv(s,e){const t=s[0],i=s.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${t}, got ${JSON.stringify(i)} instead`)}function rp(s,e){const t=s[0],i=s.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${t}, got ${JSON.stringify(i)} instead`)}function Kv(s,e,t,i){const o=s.length-1;let u=Ae(s[1],e).type;const c=Ae(s[s.length-1],e);let d=i!==void 0?i&c.type:c.type;const g=new Array(o-2);for(let _=0;_<o-2;_+=2){const y=Ae(s[_+2],e),E=Ae(s[_+3],e);u&=y.type,d&=E.type,g[_]=y,g[_+1]=E}const m=$t|le|Ke;if(!Yn(m,u))throw new Error(`Expected an input of type ${Tt(m)} for the interpolate operation, got ${Tt(u)} instead`);if(u&=m,Ga(d,Ts))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(s));for(let _=0;_<o-2;_+=2){const y=Ae(s[_+2],e,u),E=Ae(s[_+3],e,d);g[_]=y,g[_+1]=E}return[Ae(s[1],e,u),...g,Ae(s[s.length-1],e,d)]}function Zv(s,e,t,i){const o=s[1];let a;switch(o[0]){case"linear":a=1;break;case"exponential":if(a=o[1],typeof a!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(a)} instead`);break;default:a=null}if(!a)throw new Error(`Invalid interpolation type: ${JSON.stringify(o)}`);a=Ae(a,e);let u=Ae(s[2],e);if(!Yn(le,u.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${Tt(u.type)} instead`);u=Ae(s[2],e,le);const c=new Array(s.length-3);for(let d=0;d<c.length;d+=2){let g=Ae(s[d+3],e);if(!Yn(le,g.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${Tt(g.type)} at position ${d+2} instead`);let m=Ae(s[d+4],e);if(!Yn(le|ct,m.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${Tt(m.type)} at position ${d+3} instead`);g=Ae(s[d+3],e,le),m=Ae(s[d+4],e,le|ct),c[d]=g,c[d+1]=m}return[a,u,...c]}function Hv(s,e,t,i){const o=Ae(s[s.length-1],e);let a=i!==void 0?i&o.type:o.type;const u=new Array(s.length-1);for(let c=0;c<u.length-1;c+=2){const d=Ae(s[c+1],e),g=Ae(s[c+2],e);if(!Yn(Ke,d.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${Tt(d.type)} at position ${c} instead`);a&=g.type,u[c]=d,u[c+1]=g}if(Ga(a,Ts))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(s));for(let c=0;c<u.length-1;c+=2)u[c+1]=Ae(s[c+2],e,a);return u[u.length-1]=Ae(s[s.length-1],e,a),u}function $v(s,e){let t=s[2];if(!Array.isArray(t))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof t[0]=="string"){if(t[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(t[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');t=t[1]}let i=$t|le;const o=new Array(t.length);for(let u=0;u<o.length;u++){const c=Ae(t[u],e);i&=c.type,o[u]=c}if(Ga(i,Ts))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(s));return[Ae(s[1],e,i),...o]}function qv(s,e){const t=Ae(s[1],e,le);if(t.type!==le)throw new Error(`The first argument of palette must be an number, got ${Tt(t.type)} instead`);const i=s[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const o=new Array(i.length);for(let a=0;a<o.length;a++){const u=Ae(i[a],e,ct);if(!(u instanceof Bi))throw new Error(`The palette color at index ${a} must be a literal value`);if(!Yn(u.type,ct))throw new Error(`The palette color at index ${a} should be of type color, got ${Tt(u.type)} instead`);o[a]=u}return[t,...o]}function ve(s,...e){return function(t,i,o){const a=t[0];let u=[];for(let d=0;d<e.length;d++)u=e[d](t,i,u,o)||u;let c=typeof s=="function"?s(u):s;if(o!==void 0){if(!Yn(c,o))throw new Error(`The following expression was expected to return ${Tt(o)}, but returns ${Tt(c)} instead: ${JSON.stringify(t)}`);c&=o}if(c===Ts)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(t)}`);return new Wv(c,a,...u)}}function Qv(s,e,t){const i=s[0],o=Uv[i];if(!o)throw new Error(`Unknown operator: ${i}`);return o(s,e,t)}function pm(s){if(!s)return"";const e=s.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return pm(s.getGeometries()[0]);default:return""}}function mm(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function hi(s,e,t){const i=Ae(s,t);if(!Yn(e,i.type)){const o=Tt(e),a=Tt(i.type);throw new Error(`Expected expression to be of type ${o}, got ${a}`)}return Rn(i)}function Rn(s,e){if(s instanceof Bi){if(s.type===ct&&typeof s.value=="string"){const i=Mh(s.value);return function(){return i}}return function(){return s.value}}const t=s.operator;switch(t){case G.Number:case G.String:case G.Coalesce:return Jv(s);case G.Get:case G.Var:return e1(s);case G.Id:return i=>i.featureId;case G.GeometryType:return i=>i.geometryType;case G.Concat:{const i=s.args.map(o=>Rn(o));return o=>"".concat(...i.map(a=>a(o).toString()))}case G.Resolution:return i=>i.resolution;case G.Any:case G.All:case G.Between:case G.In:case G.Not:return n1(s);case G.Equal:case G.NotEqual:case G.LessThan:case G.LessThanOrEqualTo:case G.GreaterThan:case G.GreaterThanOrEqualTo:return t1(s);case G.Multiply:case G.Divide:case G.Add:case G.Subtract:case G.Clamp:case G.Mod:case G.Pow:case G.Abs:case G.Floor:case G.Ceil:case G.Round:case G.Sin:case G.Cos:case G.Atan:case G.Sqrt:return i1(s);case G.Case:return r1(s);case G.Match:return s1(s);case G.Interpolate:return o1(s);case G.ToString:return l1(s);default:throw new Error(`Unsupported operator ${t}`)}}function Jv(s,e){const t=s.operator,i=s.args.length,o=new Array(i);for(let a=0;a<i;++a)o[a]=Rn(s.args[a]);switch(t){case G.Coalesce:return a=>{for(let u=0;u<i;++u){const c=o[u](a);if(typeof c<"u"&&c!==null)return c}throw new Error("Expected one of the values to be non-null")};case G.Number:case G.String:return a=>{for(let u=0;u<i;++u){const c=o[u](a);if(typeof c===t)return c}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function e1(s,e){const i=s.args[0].value;switch(s.operator){case G.Get:return o=>o.properties[i];case G.Var:return o=>o.variables[i];default:throw new Error(`Unsupported accessor operator ${s.operator}`)}}function t1(s,e){const t=s.operator,i=Rn(s.args[0]),o=Rn(s.args[1]);switch(t){case G.Equal:return a=>i(a)===o(a);case G.NotEqual:return a=>i(a)!==o(a);case G.LessThan:return a=>i(a)<o(a);case G.LessThanOrEqualTo:return a=>i(a)<=o(a);case G.GreaterThan:return a=>i(a)>o(a);case G.GreaterThanOrEqualTo:return a=>i(a)>=o(a);default:throw new Error(`Unsupported comparison operator ${t}`)}}function n1(s,e){const t=s.operator,i=s.args.length,o=new Array(i);for(let a=0;a<i;++a)o[a]=Rn(s.args[a]);switch(t){case G.Any:return a=>{for(let u=0;u<i;++u)if(o[u](a))return!0;return!1};case G.All:return a=>{for(let u=0;u<i;++u)if(!o[u](a))return!1;return!0};case G.Between:return a=>{const u=o[0](a),c=o[1](a),d=o[2](a);return u>=c&&u<=d};case G.In:return a=>{const u=o[0](a);for(let c=1;c<i;++c)if(u===o[c](a))return!0;return!1};case G.Not:return a=>!o[0](a);default:throw new Error(`Unsupported logical operator ${t}`)}}function i1(s,e){const t=s.operator,i=s.args.length,o=new Array(i);for(let a=0;a<i;++a)o[a]=Rn(s.args[a]);switch(t){case G.Multiply:return a=>{let u=1;for(let c=0;c<i;++c)u*=o[c](a);return u};case G.Divide:return a=>o[0](a)/o[1](a);case G.Add:return a=>{let u=0;for(let c=0;c<i;++c)u+=o[c](a);return u};case G.Subtract:return a=>o[0](a)-o[1](a);case G.Clamp:return a=>{const u=o[0](a),c=o[1](a);if(u<c)return c;const d=o[2](a);return u>d?d:u};case G.Mod:return a=>o[0](a)%o[1](a);case G.Pow:return a=>Math.pow(o[0](a),o[1](a));case G.Abs:return a=>Math.abs(o[0](a));case G.Floor:return a=>Math.floor(o[0](a));case G.Ceil:return a=>Math.ceil(o[0](a));case G.Round:return a=>Math.round(o[0](a));case G.Sin:return a=>Math.sin(o[0](a));case G.Cos:return a=>Math.cos(o[0](a));case G.Atan:return i===2?a=>Math.atan2(o[0](a),o[1](a)):a=>Math.atan(o[0](a));case G.Sqrt:return a=>Math.sqrt(o[0](a));default:throw new Error(`Unsupported numeric operator ${t}`)}}function r1(s,e){const t=s.args.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=Rn(s.args[o]);return o=>{for(let a=0;a<t-1;a+=2)if(i[a](o))return i[a+1](o);return i[t-1](o)}}function s1(s,e){const t=s.args.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=Rn(s.args[o]);return o=>{const a=i[0](o);for(let u=1;u<t;u+=2)if(a===i[u](o))return i[u+1](o);return i[t-1](o)}}function o1(s,e){const t=s.args.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=Rn(s.args[o]);return o=>{const a=i[0](o),u=i[1](o);let c,d;for(let g=2;g<t;g+=2){const m=i[g](o);let _=i[g+1](o);const y=Array.isArray(_);if(y&&(_=pv(_)),m>=u)return g===2?_:y?a1(a,u,c,d,m,_):mo(a,u,c,d,m,_);c=m,d=_}return d}}function l1(s,e){const t=s.operator,i=s.args.length,o=new Array(i);for(let a=0;a<i;++a)o[a]=Rn(s.args[a]);switch(t){case G.ToString:return a=>{const u=o[0](a);return s.args[0].type===ct?Ph(u):u.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function mo(s,e,t,i,o,a){const u=o-t;if(u===0)return i;const c=e-t,d=s===1?c/u:(Math.pow(s,c)-1)/(Math.pow(s,u)-1);return i+d*(a-i)}function a1(s,e,t,i,o,a){if(o-t===0)return i;const c=qg(i),d=qg(a);let g=d[2]-c[2];g>180?g-=360:g<-180&&(g+=360);const m=[mo(s,e,t,c[0],o,d[0]),mo(s,e,t,c[1],o,d[1]),c[2]+mo(s,e,t,0,o,g),mo(s,e,t,i[3],o,a[3])];return im(mv(m))}function u1(s){return!0}function c1(s){const e=gm(),t=h1(s,e),i=mm();return function(o,a){if(i.properties=o.getPropertiesInternal(),i.resolution=a,e.featureId){const u=o.getId();u!==void 0?i.featureId=u:i.featureId=null}return e.geometryType&&(i.geometryType=pm(o.getGeometry())),t(i)}}function sp(s){const e=gm(),t=s.length,i=new Array(t);for(let u=0;u<t;++u)i[u]=th(s[u],e);const o=mm(),a=new Array(t);return function(u,c){if(o.properties=u.getPropertiesInternal(),o.resolution=c,e.featureId){const g=u.getId();g!==void 0?o.featureId=g:o.featureId=null}let d=0;for(let g=0;g<t;++g){const m=i[g](o);m&&(a[d]=m,d+=1)}return a.length=d,a}}function h1(s,e){const t=s.length,i=new Array(t);for(let o=0;o<t;++o){const a=s[o],u="filter"in a?hi(a.filter,Ke,e):u1;let c;if(Array.isArray(a.style)){const d=a.style.length;c=new Array(d);for(let g=0;g<d;++g)c[g]=th(a.style[g],e)}else c=[th(a.style,e)];i[o]={filter:u,styles:c}}return function(o){const a=[];let u=!1;for(let c=0;c<t;++c){const d=i[c].filter;if(d(o)&&!(s[c].else&&u)){u=!0;for(const g of i[c].styles){const m=g(o);m&&a.push(m)}}}return a}}function th(s,e){const t=Mo(s,"",e),i=Po(s,"",e),o=d1(s,e),a=f1(s,e),u=Ut(s,"z-index",e);if(!t&&!i&&!o&&!a&&!ys(s))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(s));const c=new ai;return function(d){let g=!0;if(t){const m=t(d);m&&(g=!1),c.setFill(m)}if(i){const m=i(d);m&&(g=!1),c.setStroke(m)}if(o){const m=o(d);m&&(g=!1),c.setText(m)}if(a){const m=a(d);m&&(g=!1),c.setImage(m)}return u&&c.setZIndex(u(d)),g?null:c}}function Mo(s,e,t){let i;if(e+"fill-pattern-src"in s?i=_1(s,e+"fill-",t):i=Fh(s,e+"fill-color",t),!i)return null;const o=new Ss;return function(a){const u=i(a);return u==="none"?null:(o.setColor(u),o)}}function Po(s,e,t){const i=Ut(s,e+"stroke-width",t),o=Fh(s,e+"stroke-color",t);if(!i&&!o)return null;const a=ri(s,e+"stroke-line-cap",t),u=ri(s,e+"stroke-line-join",t),c=_m(s,e+"stroke-line-dash",t),d=Ut(s,e+"stroke-line-dash-offset",t),g=Ut(s,e+"stroke-miter-limit",t),m=new ws;return function(_){if(o){const y=o(_);if(y==="none")return null;m.setColor(y)}if(i&&m.setWidth(i(_)),a){const y=a(_);if(y!=="butt"&&y!=="round"&&y!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(y)}if(u){const y=u(_);if(y!=="bevel"&&y!=="round"&&y!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(y)}return c&&m.setLineDash(c(_)),d&&m.setLineDashOffset(d(_)),g&&m.setMiterLimit(g(_)),m}}function d1(s,e){const t="text-",i=ri(s,t+"value",e);if(!i)return null;const o=Mo(s,t,e),a=Mo(s,t+"background-",e),u=Po(s,t,e),c=Po(s,t+"background-",e),d=ri(s,t+"font",e),g=Ut(s,t+"max-angle",e),m=Ut(s,t+"offset-x",e),_=Ut(s,t+"offset-y",e),y=Ao(s,t+"overflow",e),E=ri(s,t+"placement",e),x=Ut(s,t+"repeat",e),C=Wa(s,t+"scale",e),S=Ao(s,t+"rotate-with-view",e),I=Ut(s,t+"rotation",e),L=ri(s,t+"align",e),O=ri(s,t+"justify",e),D=ri(s,t+"baseline",e),M=_m(s,t+"padding",e),X=Xa(s,t+"declutter-mode"),U=new Oh({declutterMode:X});return function(j){if(U.setText(i(j)),o&&U.setFill(o(j)),a&&U.setBackgroundFill(a(j)),u&&U.setStroke(u(j)),c&&U.setBackgroundStroke(c(j)),d&&U.setFont(d(j)),g&&U.setMaxAngle(g(j)),m&&U.setOffsetX(m(j)),_&&U.setOffsetY(_(j)),y&&U.setOverflow(y(j)),E){const b=E(j);if(b!=="point"&&b!=="line")throw new Error("Expected point or line for text-placement");U.setPlacement(b)}if(x&&U.setRepeat(x(j)),C&&U.setScale(C(j)),S&&U.setRotateWithView(S(j)),I&&U.setRotation(I(j)),L){const b=L(j);if(b!=="left"&&b!=="center"&&b!=="right"&&b!=="end"&&b!=="start")throw new Error("Expected left, right, center, start, or end for text-align");U.setTextAlign(b)}if(O){const b=O(j);if(b!=="left"&&b!=="right"&&b!=="center")throw new Error("Expected left, right, or center for text-justify");U.setJustify(b)}if(D){const b=D(j);if(b!=="bottom"&&b!=="top"&&b!=="middle"&&b!=="alphabetic"&&b!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");U.setTextBaseline(b)}return M&&U.setPadding(M(j)),U}}function f1(s,e){return"icon-src"in s?g1(s,e):"shape-points"in s?p1(s,e):"circle-radius"in s?m1(s,e):null}function g1(s,e){const t="icon-",i=t+"src",o=ym(s[i],i),a=pa(s,t+"anchor",e),u=Wa(s,t+"scale",e),c=Ut(s,t+"opacity",e),d=pa(s,t+"displacement",e),g=Ut(s,t+"rotation",e),m=Ao(s,t+"rotate-with-view",e),_=lp(s,t+"anchor-origin"),y=ap(s,t+"anchor-x-units"),E=ap(s,t+"anchor-y-units"),x=x1(s,t+"color"),C=v1(s,t+"cross-origin"),S=E1(s,t+"offset"),I=lp(s,t+"offset-origin"),L=ma(s,t+"width"),O=ma(s,t+"height"),D=y1(s,t+"size"),M=Xa(s,t+"declutter-mode"),X=new za({src:o,anchorOrigin:_,anchorXUnits:y,anchorYUnits:E,color:x,crossOrigin:C,offset:S,offsetOrigin:I,height:O,width:L,size:D,declutterMode:M});return function(U){return c&&X.setOpacity(c(U)),d&&X.setDisplacement(d(U)),g&&X.setRotation(g(U)),m&&X.setRotateWithView(m(U)),u&&X.setScale(u(U)),a&&X.setAnchor(a(U)),X}}function p1(s,e){const t="shape-",i=t+"points",o=t+"radius",a=nh(s[i],i),u=nh(s[o],o),c=Mo(s,t,e),d=Po(s,t,e),g=Wa(s,t+"scale",e),m=pa(s,t+"displacement",e),_=Ut(s,t+"rotation",e),y=Ao(s,t+"rotate-with-view",e),E=ma(s,t+"radius2"),x=ma(s,t+"angle"),C=Xa(s,t+"declutter-mode"),S=new Na({points:a,radius:u,radius2:E,angle:x,declutterMode:C});return function(I){return c&&S.setFill(c(I)),d&&S.setStroke(d(I)),m&&S.setDisplacement(m(I)),_&&S.setRotation(_(I)),y&&S.setRotateWithView(y(I)),g&&S.setScale(g(I)),S}}function m1(s,e){const t="circle-",i=Mo(s,t,e),o=Po(s,t,e),a=Ut(s,t+"radius",e),u=Wa(s,t+"scale",e),c=pa(s,t+"displacement",e),d=Ut(s,t+"rotation",e),g=Ao(s,t+"rotate-with-view",e),m=Xa(s,t+"declutter-mode"),_=new No({radius:5,declutterMode:m});return function(y){return a&&_.setRadius(a(y)),i&&_.setFill(i(y)),o&&_.setStroke(o(y)),c&&_.setDisplacement(c(y)),d&&_.setRotation(d(y)),g&&_.setRotateWithView(g(y)),u&&_.setScale(u(y)),_}}function Ut(s,e,t){if(!(e in s))return;const i=hi(s[e],le,t);return function(o){return nh(i(o),e)}}function ri(s,e,t){if(!(e in s))return null;const i=hi(s[e],$t,t);return function(o){return ym(i(o),e)}}function _1(s,e,t){const i=ri(s,e+"pattern-src",t),o=op(s,e+"pattern-offset",t),a=op(s,e+"pattern-size",t),u=Fh(s,e+"color",t);return function(c){return{src:i(c),offset:o&&o(c),size:a&&a(c),color:u&&u(c)}}}function Ao(s,e,t){if(!(e in s))return null;const i=hi(s[e],Ke,t);return function(o){const a=i(o);if(typeof a!="boolean")throw new Error(`Expected a boolean for ${e}`);return a}}function Fh(s,e,t){if(!(e in s))return null;const i=hi(s[e],ct|$t,t);return function(o){return vm(i(o),e)}}function _m(s,e,t){if(!(e in s))return null;const i=hi(s[e],Un,t);return function(o){return zo(i(o),e)}}function pa(s,e,t){if(!(e in s))return null;const i=hi(s[e],Un,t);return function(o){const a=zo(i(o),e);if(a.length!==2)throw new Error(`Expected two numbers for ${e}`);return a}}function op(s,e,t){if(!(e in s))return null;const i=hi(s[e],Un,t);return function(o){return Em(i(o),e)}}function Wa(s,e,t){if(!(e in s))return null;const i=hi(s[e],Un|le,t);return function(o){return w1(i(o),e)}}function ma(s,e){const t=s[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function y1(s,e){const t=s[e];if(t!==void 0){if(typeof t=="number")return qt(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function v1(s,e){const t=s[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function lp(s,e){const t=s[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function ap(s,e){const t=s[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function E1(s,e){const t=s[e];if(t!==void 0)return zo(t,e)}function Xa(s,e){const t=s[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function x1(s,e){const t=s[e];if(t!==void 0)return vm(t,e)}function zo(s,e){if(!Array.isArray(s))throw new Error(`Expected an array for ${e}`);const t=s.length;for(let i=0;i<t;++i)if(typeof s[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return s}function ym(s,e){if(typeof s!="string")throw new Error(`Expected a string for ${e}`);return s}function nh(s,e){if(typeof s!="number")throw new Error(`Expected a number for ${e}`);return s}function vm(s,e){if(typeof s=="string")return s;const t=zo(s,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function Em(s,e){const t=zo(s,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function w1(s,e){return typeof s=="number"?s:Em(s,e)}const up={RENDER_ORDER:"renderOrder"};class xm extends Aa{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(up.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new tm(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(up.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?dm:e;const t=C1(e);this.styleFunction_=e===null?void 0:Fv(t),this.changed()}}function C1(s){if(s===void 0)return dm;if(!s)return null;if(typeof s=="function"||s instanceof ai)return s;if(!Array.isArray(s))return sp([s]);if(s.length===0)return[];const e=s.length,t=s[0];if(t instanceof ai){const o=new Array(e);for(let a=0;a<e;++a){const u=s[a];if(!(u instanceof ai))throw new Error("Expected a list of style instances");o[a]=u}return o}if("style"in t){const o=new Array(e);for(let a=0;a<e;++a){const u=s[a];if(!("style"in u))throw new Error("Expected a list of rules with a style property");o[a]=u}return c1(o)}return sp(s)}class S1 extends lh{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Me()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;ui(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Kp(o,i)}forEachFeatureAtCoordinate(e,t,i,o,a,u,c,d){let g;const m=t.viewState;function _(D,M,X,U){return a.call(u,M,D?X:null,U)}const y=m.projection,E=Xp(e.slice(),y),x=[[0,0]];if(y.canWrapX()&&o){const D=y.getExtent(),M=ze(D);x.push([-M,0],[M,0])}const C=t.layerStatesArray,S=C.length,I=[],L=[];for(let D=0;D<x.length;D++)for(let M=S-1;M>=0;--M){const X=C[M],U=X.layer;if(U.hasRenderer()&&Lh(X,m)&&c.call(d,U)){const j=U.getRenderer(),b=U.getSource();if(j&&b){const ue=b.getWrapX()?E:e,re=_.bind(null,X.managed);L[0]=ue[0]+x[D][0],L[1]=ue[1]+x[D][1],g=j.forEachFeatureAtCoordinate(L,t,i,re,I)}if(g)return g}}if(I.length===0)return;const O=1/I.length;return I.forEach((D,M)=>D.distanceSq+=M*O),I.sort((D,M)=>D.distanceSq-M.distanceSq),I.some(D=>g=D.callback(D.feature,D.layer,D.geometry)),g}hasFeatureAtCoordinate(e,t,i,o,a,u){return this.forEachFeatureAtCoordinate(e,t,i,o,Eo,this,a,u)!==void 0}getMap(){return this.map_}renderFrame(e){Me()}scheduleExpireIconCache(e){Wn.canExpireCache()&&e.postRenderFunctions.push(T1)}}function T1(s,e){Wn.expire()}class wm extends ci{constructor(e,t,i,o){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=o}}class R1 extends S1{constructor(e){super(e),this.fontChangeListenerKey_=Pe(ii,ms.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Fa+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const o=new wm(e,void 0,t);i.dispatchEvent(o)}}disposeInternal(){je(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(hn.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(c,d){return c.zIndex-d.zIndex});t.some(c=>c.layer instanceof xm&&c.layer.getDeclutter())&&(e.declutter={});const o=e.viewState;this.children_.length=0;const a=[];let u=null;for(let c=0,d=t.length;c<d;++c){const g=t[c];e.layerIndex=c;const m=g.layer,_=m.getSourceState();if(!Lh(g,o)||_!="ready"&&_!="undefined"){m.unrender();continue}const y=m.render(e,u);y&&(y!==u&&(this.children_.push(y),u=y),a.push(g))}this.declutter(e,a),wv(this.element_,this.children_),this.dispatchRenderEvent(hn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const o=t[i],a=o.layer;a.getDeclutter()&&a.renderDeclutter(e,o)}t.forEach(i=>i.layer.renderDeferred(e))}}}class ji extends ci{constructor(e,t){super(e),this.layer=t}}const Gc={LAYERS:"layers"};class Rs extends Pp{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Gc.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Gn(i.slice(),{unique:!0}):Ie(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Gn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(je),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Pe(e,Gt.ADD,this.handleLayersAdd_,this),Pe(e,Gt.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(je);Do(this.listenerKeys_);const t=e.getArray();for(let i=0,o=t.length;i<o;i++){const a=t[i];this.registerLayerListeners_(a),this.dispatchEvent(new ji("addlayer",a))}this.changed()}registerLayerListeners_(e){const t=[Pe(e,ms.PROPERTYCHANGE,this.handleLayerChange_,this),Pe(e,Ee.CHANGE,this.handleLayerChange_,this)];e instanceof Rs&&t.push(Pe(e,"addlayer",this.handleLayerGroupAdd_,this),Pe(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[De(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new ji("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ji("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new ji("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=De(t);this.listenerKeys_[i].forEach(je),delete this.listenerKeys_[i],this.dispatchEvent(new ji("removelayer",t)),this.changed()}getLayers(){return this.get(Gc.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let o=0,a=i.length;o<a;++o)this.dispatchEvent(new ji("removelayer",i[o]))}this.set(Gc.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(u){u.getLayerStatesArray(t)});const o=this.getLayerState();let a=o.zIndex;!e&&o.zIndex===void 0&&(a=0);for(let u=i,c=t.length;u<c;u++){const d=t[u];d.opacity*=o.opacity,d.visible=d.visible&&o.visible,d.maxResolution=Math.min(d.maxResolution,o.maxResolution),d.minResolution=Math.max(d.minResolution,o.minResolution),d.minZoom=Math.max(d.minZoom,o.minZoom),d.maxZoom=Math.min(d.maxZoom,o.maxZoom),o.extent!==void 0&&(d.extent!==void 0?d.extent=yo(d.extent,o.extent):d.extent=o.extent),d.zIndex===void 0&&(d.zIndex=a)}return t}getSourceState(){return"ready"}}class ls extends ci{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class Ui extends ls{constructor(e,t,i,o,a,u){super(e,t,a),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=o!==void 0?o:!1,this.activePointers=u}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Ze={SINGLECLICK:"singleclick",CLICK:Ee.CLICK,DBLCLICK:Ee.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ih={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class I1 extends Ca{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Pe(i,ih.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Pe(i,ih.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ee.TOUCHMOVE,this.boundHandleTouchMove_,am?{passive:!1}:!1)}emulateClick_(e){let t=new Ui(Ze.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Ui(Ze.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Ui(Ze.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Ze.POINTERUP||t.type==Ze.POINTERCANCEL){delete this.trackedTouches_[i];for(const o in this.trackedTouches_)if(this.trackedTouches_[o].target!==t.target){delete this.trackedTouches_[o];break}}else(t.type==Ze.POINTERDOWN||t.type==Ze.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Ui(Ze.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(je),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new Ui(Ze.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Pe(i,Ze.POINTERMOVE,this.handlePointerMove_,this),Pe(i,Ze.POINTERUP,this.handlePointerUp_,this),Pe(this.element_,Ze.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Pe(this.element_.getRootNode(),Ze.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Ui(Ze.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Ui(Ze.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(je(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ee.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(je(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(je),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Yi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ct={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},_a=1/0;class L1{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Do(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const o=this.keyFunction_(i);return delete this.queuedElements_[o],i}enqueue(e){Ie(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=_a?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,o=t.length,a=t[e],u=i[e],c=e;for(;e<o>>1;){const d=this.getLeftChildIndex_(e),g=this.getRightChildIndex_(e),m=g<o&&i[g]<i[d]?g:d;t[e]=t[m],i[e]=i[m],e=m}t[e]=a,i[e]=u,this.siftDown_(c,e)}siftDown_(e,t){const i=this.elements_,o=this.priorities_,a=i[t],u=o[t];for(;t>e;){const c=this.getParentIndex_(t);if(o[c]>u)i[t]=i[c],o[t]=o[c],t=c;else break}i[t]=a,o[t]=u}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let o=0;const a=t.length;let u,c,d;for(c=0;c<a;++c)u=t[c],d=e(u),d==_a?delete this.queuedElements_[this.keyFunction_(u)]:(i[o]=d,t[o++]=u);t.length=o,i.length=o,this.heapify_()}}const ge={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class k1 extends L1{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Ee.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===ge.LOADED||i===ge.ERROR||i===ge.EMPTY){i!==ge.ERROR&&t.removeEventListener(Ee.CHANGE,this.boundHandleTileChange_);const o=t.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0,o,a,u;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)a=this.dequeue()[0],u=a.getKey(),o=a.getState(),o===ge.IDLE&&!(u in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[u]=!0,++this.tilesLoading_,++i,a.load())}}function M1(s,e,t,i,o){if(!s||!(t in s.wantedTiles)||!s.wantedTiles[t][e.getKey()])return _a;const a=s.viewState.center,u=i[0]-a[0],c=i[1]-a[1];return 65536*Math.log(o)+Math.sqrt(u*u+c*c)/o}class Nh extends jn{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Qc(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Qc(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)je(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==_s&&this.listenerKeys.push(Pe(e,Yi.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class P1 extends Nh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",o=e.expandClassName!==void 0?e.expandClassName:t+"-expand",a=e.collapseLabel!==void 0?e.collapseLabel:"›",u=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=u):this.collapseLabel_=a;const c=e.label!==void 0?e.label:"i";typeof c=="string"?(this.label_=document.createElement("span"),this.label_.textContent=c,this.label_.className=o):this.label_=c;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(Ee.CLICK,this.handleClick_.bind(this),!1);const g=t+" "+Fa+" "+Dh+(this.collapsed_&&this.collapsible_?" "+Jg:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=g,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(o=>o.getAttributions(e)))),i=!this.getMap().getAllLayers().some(o=>o.getSource()&&o.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),t}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(o=>q0(()=>o))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Hi(t,this.renderedAttributions_)){xv(this.ulElement_);for(let o=0,a=t.length;o<a;++o){const u=document.createElement("li");u.innerHTML=t[o],this.ulElement_.appendChild(u)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Jg),this.collapsed_?Qg(this.collapseLabel_,this.label_):Qg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class A1 extends Nh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"⇧",o=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=o,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(o));const a=e.tipLabel?e.tipLabel:"Reset rotation",u=document.createElement("button");u.className=t+"-reset",u.setAttribute("type","button"),u.title=a,u.appendChild(this.label_),u.addEventListener(Ee.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+Fa+" "+Dh,d=this.element;d.className=c,d.appendChild(u),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(na)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Cs}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const o="rotate("+i+"rad)";if(this.autoHide_){const a=this.element.classList.contains(na);!a&&i===0?this.element.classList.add(na):a&&i!==0&&this.element.classList.remove(na)}this.label_.style.transform=o}this.rotation_=i}}class D1 extends Nh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,o=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",a=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",u=e.zoomInLabel!==void 0?e.zoomInLabel:"+",c=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",d=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",g=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=o,m.setAttribute("type","button"),m.title=d,m.appendChild(typeof u=="string"?document.createTextNode(u):u),m.addEventListener(Ee.CLICK,this.handleClick_.bind(this,i),!1);const _=document.createElement("button");_.className=a,_.setAttribute("type","button"),_.title=g,_.appendChild(typeof c=="string"?document.createTextNode(c):c),_.addEventListener(Ee.CLICK,this.handleClick_.bind(this,-i),!1);const y=t+" "+Fa+" "+Dh,E=this.element;E.className=y,E.appendChild(m),E.appendChild(_),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const o=i.getZoom();if(o!==void 0){const a=i.getConstrainedZoom(o+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Cs})):i.setZoom(a)}}}function O1(s){s=s||{};const e=new Gn;return(s.zoom!==void 0?s.zoom:!0)&&e.push(new D1(s.zoomOptions)),(s.rotate!==void 0?s.rotate:!0)&&e.push(new A1(s.rotateOptions)),(s.attribution!==void 0?s.attribution:!0)&&e.push(new P1(s.attributionOptions)),e}const cp={ACTIVE:"active"};class Go extends jn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(cp.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(cp.ACTIVE,e)}setMap(e){this.map_=e}}function F1(s,e,t){const i=s.getCenterInternal();if(i){const o=[i[0]+e[0],i[1]+e[1]];s.animateInternal({duration:t!==void 0?t:250,easing:Py,center:s.getConstrainedCenter(o)})}}function zh(s,e,t,i){const o=s.getZoom();if(o===void 0)return;const a=s.getConstrainedZoom(o+e),u=s.getResolutionForZoom(a);s.getAnimating()&&s.cancelAnimations(),s.animate({resolution:u,anchor:t,duration:i!==void 0?i:250,easing:Cs})}class N1 extends Go{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Ze.DBLCLICK){const i=e.originalEvent,o=e.map,a=e.coordinate,u=i.shiftKey?-this.delta_:this.delta_,c=o.getView();zh(c,u,a,this.duration_),i.preventDefault(),t=!0}return!t}}class Wo extends Go{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ze.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ze.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Ze.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Ze.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Gh(s){const e=s.length;let t=0,i=0;for(let o=0;o<e;o++)t+=s[o].clientX,i+=s[o].clientY;return{clientX:t/e,clientY:i/e}}function rh(s){const e=arguments;return function(t){let i=!0;for(let o=0,a=e.length;o<a&&(i=i&&e[o](t),!!i);++o);return i}}const z1=function(s){const e=s.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},G1=function(s){const e=s.map.getTargetElement(),t=s.map.getOwnerDocument().activeElement;return e.contains(t)},Cm=function(s){return s.map.getTargetElement().hasAttribute("tabindex")?G1(s):!0},W1=Eo,Sm=function(s){const e=s.originalEvent;return e.button==0&&!(Ev&&rm&&e.ctrlKey)},Tm=function(s){const e=s.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},X1=function(s){const e=s.originalEvent;return rm?e.metaKey:e.ctrlKey},U1=function(s){const e=s.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Rm=function(s){const e=s.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Wc=function(s){const e=s.originalEvent;return Ie(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},Y1=function(s){const e=s.originalEvent;return Ie(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class j1 extends Wo{constructor(e){super({stopDown:wa}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:rh(Tm,Y1);this.condition_=e.onFocusOnly?rh(Cm,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,o=t.getEventPixel(Gh(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){const a=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],c=e.map.getView();yy(a,c.getResolution()),ph(a,c.getRotation()),c.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),u=i.getCenterInternal(),c=t.getPixelFromCoordinateInternal(u),d=t.getCoordinateFromPixelInternal([c[0]-o*Math.cos(a),c[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(d),duration:500,easing:Cs})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class B1 extends Wo{constructor(e){e=e||{},super({stopDown:wa}),this.condition_=e.condition?e.condition:z1,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Wc(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===xh)return;const o=t.getSize(),a=e.pixel,u=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){const c=u-this.lastAngle_;i.adjustRotationInternal(-c)}this.lastAngle_=u}handleUpEvent(e){return Wc(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Wc(e)&&Sm(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class V1 extends lh{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(e[0],t[0])+i,o.top=Math.min(e[1],t[1])+i,o.width=Math.abs(t[0]-e[0])+i,o.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,o=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new Co([o])}getGeometry(){return this.geometry_}}const fo={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ia extends ci{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class b1 extends Wo{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new V1(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Sm,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const o=i[0]-t[0],a=i[1]-t[1];return o*o+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ia(fo.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new ia(t?fo.BOXEND:fo.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ia(fo.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ia(fo.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}}class K1 extends b1{constructor(e){e=e||{};const t=e.condition?e.condition:U1;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let o=this.getGeometry();if(this.out_){const a=i.rotatedExtentForGeometry(o),u=i.getResolutionForExtentInternal(a),c=i.getResolution()/u;o=o.clone(),o.scale(c*c)}i.fitInternal(o,{duration:this.duration_,easing:Cs})}}const pr={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Z1 extends Go{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Tm(t)&&Rm(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Ee.KEYDOWN){const i=e.originalEvent,o=i.key;if(this.condition_(e)&&(o==pr.DOWN||o==pr.LEFT||o==pr.RIGHT||o==pr.UP)){const u=e.map.getView(),c=u.getResolution()*this.pixelDelta_;let d=0,g=0;o==pr.DOWN?g=-c:o==pr.LEFT?d=-c:o==pr.RIGHT?d=c:g=c;const m=[d,g];ph(m,u.getRotation()),F1(u,m,this.duration_),i.preventDefault(),t=!0}}return!t}}class H1 extends Go{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!X1(t)&&Rm(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Ee.KEYDOWN||e.type==Ee.KEYPRESS){const i=e.originalEvent,o=i.key;if(this.condition_(e)&&(o==="+"||o==="-")){const a=e.map,u=o==="+"?this.delta_:-this.delta_,c=a.getView();zh(c,u,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}class $1{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const o=this.points_[t+2]-this.points_[i+2];if(o<1e3/60)return!1;const a=this.points_[t]-this.points_[i],u=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(u,a),this.initialVelocity_=Math.sqrt(a*a+u*u)/o,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class q1 extends Go{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:W1;this.condition_=e.onFocusOnly?rh(Cm,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Ee.WHEEL)return!0;const i=e.map,o=e.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let a;if(e.type==Ee.WHEEL&&(a=o.deltaY,yv&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=sm),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;const u=Date.now();this.startTime_===void 0&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const c=i.getView();if(this.mode_==="trackpad"&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=u,!1;this.totalDelta_+=a;const d=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-tt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),zh(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class Q1 extends Wo{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=wa),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){const d=a-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=d}this.lastAngle_=a;const u=e.map,c=u.getView();c.getConstraints().rotation!==xh&&(this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(Gh(this.targetPointers))),this.rotating_&&(u.render(),c.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class J1 extends Wo{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=wa),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,u=i.clientY-o.clientY,c=Math.sqrt(a*a+u*u);this.lastDistance_!==void 0&&(t=this.lastDistance_/c),this.lastDistance_=c;const d=e.map,g=d.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Gh(this.targetPointers))),d.render(),g.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function eE(s){s=s||{};const e=new Gn,t=new $1(-.005,.05,100);return(s.altShiftDragRotate!==void 0?s.altShiftDragRotate:!0)&&e.push(new B1),(s.doubleClickZoom!==void 0?s.doubleClickZoom:!0)&&e.push(new N1({delta:s.zoomDelta,duration:s.zoomDuration})),(s.dragPan!==void 0?s.dragPan:!0)&&e.push(new j1({onFocusOnly:s.onFocusOnly,kinetic:t})),(s.pinchRotate!==void 0?s.pinchRotate:!0)&&e.push(new Q1),(s.pinchZoom!==void 0?s.pinchZoom:!0)&&e.push(new J1({duration:s.zoomDuration})),(s.keyboard!==void 0?s.keyboard:!0)&&(e.push(new Z1),e.push(new H1({delta:s.zoomDelta,duration:s.zoomDuration}))),(s.mouseWheelZoom!==void 0?s.mouseWheelZoom:!0)&&e.push(new q1({onFocusOnly:s.onFocusOnly,duration:s.zoomDuration})),(s.shiftDragZoom!==void 0?s.shiftDragZoom:!0)&&e.push(new K1({duration:s.zoomDuration})),e}function Im(s){if(s instanceof Aa){s.setMapInternal(null);return}s instanceof Rs&&s.getLayers().forEach(Im)}function Lm(s,e){if(s instanceof Aa){s.setMapInternal(e);return}if(s instanceof Rs){const t=s.getLayers().getArray();for(let i=0,o=t.length;i<o;++i)Lm(t[i],e)}}let tE=class extends jn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=nE(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:sm,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Tn(),this.pixelToCoordinateTransform_=Tn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||O1(),this.interactions=t.interactions||eE({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new k1(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ct.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ct.VIEW,this.handleViewChanged_),this.addChangeListener(Ct.SIZE,this.handleSizeChanged_),this.addChangeListener(Ct.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Nn)&&e.view.then(function(o){i.setView(new Nn(o))}),this.controls.addEventListener(Gt.ADD,o=>{o.element.setMap(this)}),this.controls.addEventListener(Gt.REMOVE,o=>{o.element.setMap(null)}),this.interactions.addEventListener(Gt.ADD,o=>{o.element.setMap(this)}),this.interactions.addEventListener(Gt.REMOVE,o=>{o.element.setMap(null)}),this.overlays_.addEventListener(Gt.ADD,o=>{this.addOverlayInternal_(o.element)}),this.overlays_.addEventListener(Gt.REMOVE,o=>{const a=o.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],o.element.setMap(null)}),this.controls.forEach(o=>{o.setMap(this)}),this.interactions.forEach(o=>{o.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Lm(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const o=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const a=i.hitTolerance!==void 0?i.hitTolerance:0,u=i.layerFilter!==void 0?i.layerFilter:Eo,c=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,c,t,null,u,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(o){i.push(o)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(o){o instanceof Rs?t(o.getLayers()):e.push(o)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const o=t.layerFilter!==void 0?t.layerFilter:Eo,a=t.hitTolerance!==void 0?t.hitTolerance:0,u=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,u,o,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),o=this.getSize(),a=i.width/o[0],u=i.height/o[1],c="changedTouches"in e?e.changedTouches[0]:e;return[(c.clientX-i.left)/a,(c.clientY-i.top)/u]}getTarget(){return this.get(Ct.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return qc(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?gt(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ct.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Gn){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const o=e[t];if(!o.visible)continue;const a=o.layer.getRenderer();if(a&&!a.ready)return!0;const u=o.layer.getSource();if(u&&u.loading)return!0}return!1}getPixelFromCoordinate(e){const t=ni(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?gt(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ct.SIZE)}getView(){return this.get(Ct.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,o){return M1(this.frameState_,e,t,i,o)}handleBrowserEvent(e,t){t=t||e.type;const i=new Ui(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===ih.POINTERDOWN||i===Ee.WHEEL||i===Ee.KEYDOWN){const o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,u=t.target;if(this.overlayContainerStopEvent_.contains(u)||!(a===o?o.documentElement:a).contains(u))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const o=this.getInteractions().getArray().slice();for(let a=o.length-1;a>=0;a--){const u=o[a];if(u.getMap()!==this||!u.getActive()||!this.getTargetElement())continue;if(!u.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let o=this.maxTilesLoading_,a=o;if(e){const u=e.viewHints;if(u[St.ANIMATING]||u[St.INTERACTING]){const c=Date.now()-e.time>8;o=c?0:8,a=c?0:2}}t.getTilesLoading()<o&&(t.reprioritize(),t.loadMoreTiles(o,a))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(hn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(hn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ls(Yi.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ls(Yi.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let o=0,a=i.length;o<a;++o)i[o](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,o=this.targetChangeHandlerKeys_.length;i<o;++i)je(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ee.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ee.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Qc(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new R1(this)),this.mapBrowserEventHandler_=new I1(this,this.moveTolerance_);for(const a in Ze)this.mapBrowserEventHandler_.addEventListener(Ze[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ee.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ee.WHEEL,this.boundHandleBrowserEvent_,am?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[Pe(i,Ee.KEYDOWN,this.handleBrowserEvent,this),Pe(i,Ee.KEYPRESS,this.handleBrowserEvent,this)];const o=t.getRootNode();o instanceof ShadowRoot&&this.resizeObserver_.observe(o.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(je(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(je(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Pe(e,ms.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Pe(e,Ee.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(je),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new ji("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Pe(e,ms.PROPERTYCHANGE,this.render,this),Pe(e,Ee.CHANGE,this.render,this),Pe(e,"addlayer",this.handleLayerAdd_,this),Pe(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const o=e[t].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Im(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),o=this.frameState_;let a=null;if(t!==void 0&&Zg(t)&&i&&i.isDef()){const u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=i.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Zc(c.center,c.resolution,c.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:c,viewHints:u,wantedTiles:{},mapId:De(this),renderTargets:{}},c.nextCenter&&c.nextResolution){const d=isNaN(c.nextRotation)?c.rotation:c.nextRotation;a.nextExtent=Zc(c.nextCenter,c.nextResolution,d,t)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),o&&(!this.previousExtent_||!La(this.previousExtent_)&&!xo(a.extent,this.previousExtent_))&&(this.dispatchEvent(new ls(Yi.MOVESTART,this,o)),this.previousExtent_=Sa(this.previousExtent_)),this.previousExtent_&&!a.viewHints[St.ANIMATING]&&!a.viewHints[St.INTERACTING]&&!xo(a.extent,this.previousExtent_)&&(this.dispatchEvent(new ls(Yi.MOVEEND,this,a)),Dp(a.extent,this.previousExtent_))),this.dispatchEvent(new ls(Yi.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(Yi.LOADSTART)||this.hasListener(Yi.LOADEND)||this.hasListener(hn.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new ji("removelayer",t)),this.set(Ct.LAYERGROUP,e)}setSize(e){this.set(Ct.SIZE,e)}setTarget(e){this.set(Ct.TARGET,e)}setView(e){if(!e||e instanceof Nn){this.set(Ct.VIEW,e);return}this.set(Ct.VIEW,new Nn);const t=this;e.then(function(i){t.setView(new Nn(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const o=getComputedStyle(e),a=e.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),u=e.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(a)&&!isNaN(u)&&(t=[a,u],!Zg(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Up("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!Hi(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function nE(s){let e=null;s.keyboardEventTarget!==void 0&&(e=typeof s.keyboardEventTarget=="string"?document.getElementById(s.keyboardEventTarget):s.keyboardEventTarget);const t={},i=s.layers&&typeof s.layers.getLayers=="function"?s.layers:new Rs({layers:s.layers});t[Ct.LAYERGROUP]=i,t[Ct.TARGET]=s.target,t[Ct.VIEW]=s.view instanceof Nn?s.view:new Nn;let o;s.controls!==void 0&&(Array.isArray(s.controls)?o=new Gn(s.controls.slice()):(Ie(typeof s.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),o=s.controls));let a;s.interactions!==void 0&&(Array.isArray(s.interactions)?a=new Gn(s.interactions.slice()):(Ie(typeof s.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),a=s.interactions));let u;return s.overlays!==void 0?Array.isArray(s.overlays)?u=new Gn(s.overlays.slice()):(Ie(typeof s.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),u=s.overlays):u=new Gn,{controls:o,interactions:a,keyboardEventTarget:e,overlays:u,values:t}}const ra={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class iE extends Aa{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(ra.PRELOAD)}setPreload(e){this.set(ra.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ra.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ra.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class rE extends Oo{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e}getFeatures(e){return Me()}getData(e){return null}prepareFrame(e){return Me()}renderFrame(e,t){return Me()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(o,a)=>{const u=this.loadedTileCallback.bind(this,i,o);return e.forEachLoadedTile(t,o,a,u)}}forEachFeatureAtCoordinate(e,t,i,o,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Ce.LOADED||t.getState()===Ce.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ce.LOADED&&t!=Ce.ERROR&&e.addEventListener(Ee.CHANGE,this.boundHandleImageChange_),t==Ce.IDLE&&(e.load(),t=e.getState()),t==Ce.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class km{constructor(){Eg(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(da(),{get:(e,t)=>{if(typeof da()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,o=t.length;i<o;++i){const a=t[i];if(typeof a=="function"){a(e);continue}const u=t[++i];if(typeof e[a]=="function")e[a](...u);else{if(typeof u=="function"){e[a]=u(e);continue}e[a]=u}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const hp=[];let as=null;function sE(){as=mt(1,1,void 0,{willReadFrequently:!0})}class Mm extends rE{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Tn(),this.pixelTransform=Tn(),this.inversePixelTransform=Tn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){as||sE(),as.clearRect(0,0,1,1);let o;try{as.drawImage(e,t,i,1,1,0,0,1,1),o=as.getImageData(0,0,1,1).data}catch{return as=null,null}return o}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const o=this.getLayer().getClassName();let a,u;if(e&&e.className===o&&(!i||e&&e.style.backgroundColor&&Hi(To(e.style.backgroundColor),To(i)))){const c=e.firstElementChild;c instanceof HTMLCanvasElement&&(u=c.getContext("2d"))}if(u&&u.canvas.style.transform===t?(this.container=e,this.context=u,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=o;let c=a.style;c.position="absolute",c.width="100%",c.height="100%",u=mt();const d=u.canvas;a.appendChild(d),c=d.style,c.position="absolute",c.left="0",c.transformOrigin="top left",this.container=a,this.context=u}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const o=Sr(i),a=Ia(i),u=Ra(i),c=Ta(i);gt(t.coordinateToPixelTransform,o),gt(t.coordinateToPixelTransform,a),gt(t.coordinateToPixelTransform,u),gt(t.coordinateToPixelTransform,c);const d=this.inversePixelTransform;gt(d,o),gt(d,a),gt(d,u),gt(d,c),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.lineTo(Math.round(c[0]),Math.round(c[1])),e.clip()}prepareContainer(e,t){const i=e.extent,o=e.viewState.resolution,a=e.viewState.rotation,u=e.pixelRatio,c=Math.round(ze(i)/o*u),d=Math.round(Mt(i)/o*u);ui(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,a,-c/2,-d/2),Kp(this.inversePixelTransform,this.pixelTransform);const g=Oy(this.pixelTransform);if(this.useContainer(t,g,this.getBackground(e)),!this.containerReused){const m=this.context.canvas;m.width!=c||m.height!=d?(m.width=c,m.height=d):this.context.clearRect(0,0,c,d),g!==m.style.transform&&(m.style.transform=g)}}dispatchRenderEvent_(e,t,i){const o=this.getLayer();if(o.hasListener(e)){const a=new wm(e,this.inversePixelTransform,i,t);o.dispatchEvent(a)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(hn.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(hn.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new km),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(hn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(hn.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,o,a,u,c){const d=a/2,g=u/2,m=o/t,_=-m,y=-e[0]+c,E=-e[1];return ui(this.tempTransform,d,g,m,_,-i,y,E)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Pm extends Ca{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Ee.CHANGE)}release(){this.state===ge.ERROR&&this.setState(ge.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==ge.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let t=this;do{if(e.getState()==ge.LOADED){e.interimTile=null;break}e.getState()==ge.LOADING?t=e:e.getState()==ge.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ge.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Me()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const o=t-i+1e3/60;return o>=this.transition_?1:bp(o/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class Am extends Pm{constructor(e,t,i,o,a,u){super(e,t,u),this.crossOrigin_=o,this.src_=i,this.key=i,this.image_=new Image,o!==null&&(this.image_.crossOrigin=o),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ge.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ge.ERROR,this.unlistenImage_(),this.image_=oE(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ge.LOADED:this.state=ge.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ge.ERROR&&(this.state=ge.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ge.IDLE&&(this.state=ge.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Cv(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function oE(){const s=mt(1,1);return s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1),s.canvas}const lE=.5,aE=10,dp=.25;class uE{constructor(e,t,i,o,a,u){this.sourceProj_=e,this.targetProj_=t;let c={};const d=ca(this.targetProj_,this.sourceProj_);this.transformInv_=function(L){const O=L[0]+"/"+L[1];return c[O]||(c[O]=d(L)),c[O]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&ze(o)>=ze(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ze(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ze(this.targetProj_.getExtent()):null;const g=Sr(i),m=Ia(i),_=Ra(i),y=Ta(i),E=this.transformInv_(g),x=this.transformInv_(m),C=this.transformInv_(_),S=this.transformInv_(y),I=aE+(u?Math.max(0,Math.ceil(Math.log2(Kc(i)/(u*u*256*256)))):0);if(this.addQuad_(g,m,_,y,E,x,C,S,I),this.wrapsXInSource_){let L=1/0;this.triangles_.forEach(function(O,D,M){L=Math.min(L,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(O=>{if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-L>this.sourceWorldWidth_/2){const D=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];D[0][0]-L>this.sourceWorldWidth_/2&&(D[0][0]-=this.sourceWorldWidth_),D[1][0]-L>this.sourceWorldWidth_/2&&(D[1][0]-=this.sourceWorldWidth_),D[2][0]-L>this.sourceWorldWidth_/2&&(D[2][0]-=this.sourceWorldWidth_);const M=Math.min(D[0][0],D[1][0],D[2][0]);Math.max(D[0][0],D[1][0],D[2][0])-M<this.sourceWorldWidth_/2&&(O.source=D)}})}c={}}addTriangle_(e,t,i,o,a,u){this.triangles_.push({source:[o,a,u],target:[e,t,i]})}addQuad_(e,t,i,o,a,u,c,d,g){const m=Dg([a,u,c,d]),_=this.sourceWorldWidth_?ze(m)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,E=this.sourceProj_.canWrapX()&&_>.5&&_<1;let x=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const S=Dg([e,t,i,o]);x=ze(S)/this.targetWorldWidth_>dp||x}!E&&this.sourceProj_.isGlobal()&&_&&(x=_>dp||x)}if(!x&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Xt(m,this.maxSourceExtent_))return;let C=0;if(!x&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(d[0])||!isFinite(d[1]))){if(g>0)x=!0;else if(C=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(u[0])||!isFinite(u[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(g>0){if(!x){const S=[(e[0]+i[0])/2,(e[1]+i[1])/2],I=this.transformInv_(S);let L;E?L=(fs(a[0],y)+fs(c[0],y))/2-fs(I[0],y):L=(a[0]+c[0])/2-I[0];const O=(a[1]+c[1])/2-I[1];x=L*L+O*O>this.errorThresholdSquared_}if(x){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const S=[(t[0]+i[0])/2,(t[1]+i[1])/2],I=this.transformInv_(S),L=[(o[0]+e[0])/2,(o[1]+e[1])/2],O=this.transformInv_(L);this.addQuad_(e,t,S,L,a,u,I,O,g-1),this.addQuad_(L,S,i,o,O,I,c,d,g-1)}else{const S=[(e[0]+t[0])/2,(e[1]+t[1])/2],I=this.transformInv_(S),L=[(i[0]+o[0])/2,(i[1]+o[1])/2],O=this.transformInv_(L);this.addQuad_(e,S,L,o,a,I,O,d,g-1),this.addQuad_(S,t,i,L,I,u,c,O,g-1)}return}}if(E){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(C&11)==0&&this.addTriangle_(e,i,o,a,c,d),(C&14)==0&&this.addTriangle_(e,i,t,a,c,u),C&&((C&13)==0&&this.addTriangle_(t,o,e,u,d,a),(C&7)==0&&this.addTriangle_(t,o,i,u,d,c))}calculateSourceExtent(){const e=dn();return this.triangles_.forEach(function(t,i,o){const a=t.source;_o(e,a[0]),_o(e,a[1]),_o(e,a[2])}),e}getTriangles(){return this.triangles_}}let Xc;const ps=[];function fp(s,e,t,i,o){s.beginPath(),s.moveTo(0,0),s.lineTo(e,t),s.lineTo(i,o),s.closePath(),s.save(),s.clip(),s.fillRect(0,0,Math.max(e,i)+1,Math.max(t,o)),s.restore()}function Uc(s,e){return Math.abs(s[e*4]-210)>2||Math.abs(s[e*4+3]-.75*255)>2}function cE(){if(Xc===void 0){const s=mt(6,6,ps);s.globalCompositeOperation="lighter",s.fillStyle="rgba(210, 0, 0, 0.75)",fp(s,4,5,4,0),fp(s,4,5,0,5);const e=s.getImageData(0,0,3,3).data;Xc=Uc(e,0)||Uc(e,4)||Uc(e,8),Oa(s),ps.push(s.canvas)}return Xc}function gp(s,e,t,i){const o=Bp(t,e,s);let a=Fg(e,i,t);const u=e.getMetersPerUnit();u!==void 0&&(a*=u);const c=s.getMetersPerUnit();c!==void 0&&(a/=c);const d=s.getExtent();if(!d||vs(d,o)){const g=Fg(s,a,o)/a;isFinite(g)&&g>0&&(a/=g)}return a}function hE(s,e,t,i){const o=Cr(t);let a=gp(s,e,o,i);return(!isFinite(a)||a<=0)&&zp(t,function(u){return a=gp(s,e,u,i),isFinite(a)&&a>0}),a}function dE(s,e,t,i,o,a,u,c,d,g,m,_,y,E){const x=mt(Math.round(t*s),Math.round(t*e),ps);if(_||(x.imageSmoothingEnabled=!1),d.length===0)return x.canvas;x.scale(t,t);function C(M){return Math.round(M*t)/t}x.globalCompositeOperation="lighter";const S=dn();d.forEach(function(M,X,U){dy(S,M.extent)});let I;const L=t/i,O=(_?1:1+Math.pow(2,-24))/L;I=mt(Math.round(ze(S)*L),Math.round(Mt(S)*L),ps),_||(I.imageSmoothingEnabled=!1),d.forEach(function(M,X,U){if(M.image.width>0&&M.image.height>0){if(M.clipExtent){I.save();const te=(M.clipExtent[0]-S[0])*L,se=-(M.clipExtent[3]-S[3])*L,oe=ze(M.clipExtent)*L,ce=Mt(M.clipExtent)*L;I.rect(_?te:Math.round(te),_?se:Math.round(se),_?oe:Math.round(te+oe)-Math.round(te),_?ce:Math.round(se+ce)-Math.round(se)),I.clip()}const j=(M.extent[0]-S[0])*L,b=-(M.extent[3]-S[3])*L,ue=ze(M.extent)*L,re=Mt(M.extent)*L;I.drawImage(M.image,g,g,M.image.width-2*g,M.image.height-2*g,_?j:Math.round(j),_?b:Math.round(b),_?ue:Math.round(j+ue)-Math.round(j),_?re:Math.round(b+re)-Math.round(b)),M.clipExtent&&I.restore()}});const D=Sr(u);return c.getTriangles().forEach(function(M,X,U){const j=M.source,b=M.target;let ue=j[0][0],re=j[0][1],te=j[1][0],se=j[1][1],oe=j[2][0],ce=j[2][1];const Z=C((b[0][0]-D[0])/a),ae=C(-(b[0][1]-D[1])/a),W=C((b[1][0]-D[0])/a),$=C(-(b[1][1]-D[1])/a),Y=C((b[2][0]-D[0])/a),R=C(-(b[2][1]-D[1])/a),N=ue,Q=re;ue=0,re=0,te-=N,se-=Q,oe-=N,ce-=Q;const z=[[te,se,0,0,W-Z],[oe,ce,0,0,Y-Z],[0,0,te,se,$-ae],[0,0,oe,ce,R-ae]],me=ty(z);if(!me)return;if(x.save(),x.beginPath(),cE()||!_){x.moveTo(W,$);const _e=4,xe=Z-W,Le=ae-$;for(let Oe=0;Oe<_e;Oe++)x.lineTo(W+C((Oe+1)*xe/_e),$+C(Oe*Le/(_e-1))),Oe!=_e-1&&x.lineTo(W+C((Oe+1)*xe/_e),$+C((Oe+1)*Le/(_e-1)));x.lineTo(Y,R)}else x.moveTo(W,$),x.lineTo(Z,ae),x.lineTo(Y,R);x.clip(),x.transform(me[0],me[2],me[1],me[3],Z,ae),x.translate(S[0]-N,S[3]-Q);let pe;if(I)pe=I.canvas,x.scale(O,-O);else{const _e=d[0],xe=_e.extent;pe=_e.image,x.scale(ze(xe)/pe.width,-Mt(xe)/pe.height)}x.drawImage(pe,0,0),x.restore()}),I&&(Oa(I),ps.push(I.canvas)),m&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,c.getTriangles().forEach(function(M,X,U){const j=M.target,b=(j[0][0]-D[0])/a,ue=-(j[0][1]-D[1])/a,re=(j[1][0]-D[0])/a,te=-(j[1][1]-D[1])/a,se=(j[2][0]-D[0])/a,oe=-(j[2][1]-D[1])/a;x.beginPath(),x.moveTo(re,te),x.lineTo(b,ue),x.lineTo(se,oe),x.closePath(),x.stroke()}),x.restore()),x.canvas}class sh extends Pm{constructor(e,t,i,o,a,u,c,d,g,m,_,y){super(a,ge.IDLE,y),this.renderEdges_=_!==void 0?_:!1,this.pixelRatio_=c,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=o,this.wrappedTileCoord_=u||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const E=o.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const S=x?yo(E,x):E;if(Kc(S)===0){this.state=ge.EMPTY;return}const I=e.getExtent();I&&(C?C=yo(C,I):C=I);const L=o.getResolution(this.wrappedTileCoord_[0]),O=hE(e,i,S,L);if(!isFinite(O)||O<=0){this.state=ge.EMPTY;return}const D=m!==void 0?m:lE;if(this.triangulation_=new uE(e,i,S,C,O*D,L),this.triangulation_.getTriangles().length===0){this.state=ge.EMPTY;return}this.sourceZ_=t.getZForResolution(O);let M=this.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(M[1]=tt(M[1],C[1],C[3]),M[3]=tt(M[3],C[1],C[3])):M=yo(M,C)),!Kc(M))this.state=ge.EMPTY;else{let X=0,U=0;e.canWrapX()&&(X=ze(I),U=Math.floor((M[0]-I[0])/X)),Wp(M.slice(),e,!0).forEach(b=>{const ue=t.getTileRangeForExtentAndZ(b,this.sourceZ_);for(let re=ue.minX;re<=ue.maxX;re++)for(let te=ue.minY;te<=ue.maxY;te++){const se=g(this.sourceZ_,re,te,c);if(se){const oe=U*X;this.sourceTiles_.push({tile:se,offset:oe})}}++U}),this.sourceTiles_.length===0&&(this.state=ge.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{var o;const i=t.tile;if(i&&i.getState()==ge.LOADED){const a=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);a[0]+=t.offset,a[2]+=t.offset;const u=(o=this.clipExtent_)==null?void 0:o.slice();u&&(u[0]+=t.offset,u[2]+=t.offset),e.push({extent:a,clipExtent:u,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ge.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],u=this.targetTileGrid_.getResolution(t),c=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=dE(o,a,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),u,d,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ge.LOADED}this.changed()}load(){if(this.state==ge.IDLE){this.state=ge.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const i=t.getState();if(i==ge.IDLE||i==ge.LOADING){e++;const o=Pe(t,Ee.CHANGE,function(a){const u=t.getState();(u==ge.LOADED||u==ge.ERROR||u==ge.EMPTY)&&(je(o),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,o){t.getState()==ge.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(je),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Oa(this.canvas_.getContext("2d")),ps.push(this.canvas_),this.canvas_=null),super.release()}}class Wh{constructor(e,t,i,o){this.minX=e,this.maxX=t,this.minY=i,this.maxY=o}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function ts(s,e,t,i,o){return o!==void 0?(o.minX=s,o.maxX=e,o.minY=t,o.maxY=i,o):new Wh(s,e,t,i)}class fE extends Mm{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=dn(),this.tmpTileRange_=new Wh(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),o=t.getUseInterimTilesOnError();return i==ge.LOADED||i==ge.EMPTY||i==ge.ERROR&&!o}getTile(e,t,i,o){const a=o.pixelRatio,u=o.viewState.projection,c=this.getLayer();let g=c.getSource().getTile(e,t,i,a,u);return g.getState()==ge.ERROR&&c.getUseInterimTilesOnError()&&c.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(g)||(g=g.getInterimTile()),g}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),o=gt(t.pixelToCoordinateTransform,e.slice()),a=i.getExtent();if(a&&!vs(a,o))return null;const u=t.pixelRatio,c=t.viewState.projection,d=t.viewState,g=i.getRenderSource(),m=g.getTileGridForProjection(d.projection),_=g.getTilePixelRatio(t.pixelRatio);for(let y=m.getZForResolution(d.resolution);y>=m.getMinZoom();--y){const E=m.getTileCoordForCoordAndZ(o,y),x=g.getTile(y,E[1],E[2],u,c);if(!(x instanceof Am||x instanceof sh)||x instanceof sh&&x.getState()===ge.EMPTY)return null;if(x.getState()!==ge.LOADED)continue;const C=m.getOrigin(y),S=qt(m.getTileSize(y)),I=m.getResolution(y),L=Math.floor(_*((o[0]-C[0])/I-E[1]*S[0])),O=Math.floor(_*((C[1]-o[1])/I-E[2]*S[1])),D=Math.round(_*g.getGutterForProjection(d.projection));return this.getImageData(x.getImage(),L+D,O+D)}return null}loadedTileCallback(e,t,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,t,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],o=e.viewState,a=o.projection,u=o.resolution,c=o.center,d=o.rotation,g=e.pixelRatio,m=this.getLayer(),_=m.getSource(),y=_.getRevision(),E=_.getTileGridForProjection(a),x=E.getZForResolution(u,_.zDirection),C=E.getResolution(x);let S=e.extent;const I=e.viewState.resolution,L=_.getTilePixelRatio(g);this.prepareContainer(e,t);const O=this.context.canvas.width,D=this.context.canvas.height,M=i.extent&&yr(i.extent);M&&(S=yo(S,yr(i.extent)));const X=C*O/2/L,U=C*D/2/L,j=[c[0]-X,c[1]-U,c[0]+X,c[1]+U],b=E.getTileRangeForExtentAndZ(S,x),ue={};ue[x]={};const re=this.createLoadedTileFinder(_,a,ue),te=this.tmpExtent,se=this.tmpTileRange_;this.newTiles_=!1;const oe=d?Hc(o.center,I,d,e.size):void 0;for(let R=b.minX;R<=b.maxX;++R)for(let N=b.minY;N<=b.maxY;++N){if(d&&!E.tileCoordIntersectsViewport([x,R,N],oe))continue;const Q=this.getTile(x,R,N,e);if(this.isDrawableTile(Q)){const pe=De(this);if(Q.getState()==ge.LOADED){ue[x][Q.tileCoord.toString()]=Q;let _e=Q.inTransition(pe);_e&&i.opacity!==1&&(Q.endTransition(pe),_e=!1),!this.newTiles_&&(_e||!this.renderedTiles.includes(Q))&&(this.newTiles_=!0)}if(Q.getAlpha(pe,e.time)===1)continue}const z=E.getTileCoordChildTileRange(Q.tileCoord,se,te);let me=!1;z&&(me=re(x+1,z)),me||E.forEachTileCoordParentTileRange(Q.tileCoord,re,se,te)}const ce=C/u*g/L,Z=this.getRenderContext(e);ui(this.tempTransform,O/2,D/2,ce,ce,0,-O/2,-D/2),M&&this.clipUnrotated(Z,e,M),_.getInterpolate()||(Z.imageSmoothingEnabled=!1),this.preRender(Z,e),this.renderedTiles.length=0;let ae=Object.keys(ue).map(Number);ae.sort(si);let W,$,Y;i.opacity===1&&(!this.containerReused||_.getOpaque(e.viewState.projection))?ae=ae.reverse():(W=[],$=[]);for(let R=ae.length-1;R>=0;--R){const N=ae[R],Q=_.getTilePixelSize(N,g,a),me=E.getResolution(N)/C,pe=Q[0]*me*ce,_e=Q[1]*me*ce,xe=E.getTileCoordForCoordAndZ(Sr(j),N),Le=E.getTileCoordExtent(xe),Oe=gt(this.tempTransform,[L*(Le[0]-j[0])/C,L*(j[3]-Le[3])/C]),Bn=L*_.getGutterForProjection(a),di=ue[N];for(const fi in di){const Qt=di[fi],gi=Qt.tileCoord,gn=xe[1]-gi[1],Vn=Math.round(Oe[0]-(gn-1)*pe),$i=xe[2]-gi[2],qi=Math.round(Oe[1]-($i-1)*_e),ht=Math.round(Oe[0]-gn*pe),nt=Math.round(Oe[1]-$i*_e),Yt=Vn-ht,In=qi-nt,Ln=x===N,pn=Ln&&Qt.getAlpha(De(this),e.time)!==1;let kn=!1;if(!pn)if(W){Y=[ht,nt,ht+Yt,nt,ht+Yt,nt+In,ht,nt+In];for(let Jt=0,mn=W.length;Jt<mn;++Jt)if(x!==N&&N<$[Jt]){const Qe=W[Jt];Xt([ht,nt,ht+Yt,nt+In],[Qe[0],Qe[3],Qe[4],Qe[7]])&&(kn||(Z.save(),kn=!0),Z.beginPath(),Z.moveTo(Y[0],Y[1]),Z.lineTo(Y[2],Y[3]),Z.lineTo(Y[4],Y[5]),Z.lineTo(Y[6],Y[7]),Z.moveTo(Qe[6],Qe[7]),Z.lineTo(Qe[4],Qe[5]),Z.lineTo(Qe[2],Qe[3]),Z.lineTo(Qe[0],Qe[1]),Z.clip())}W.push(Y),$.push(N)}else Z.clearRect(ht,nt,Yt,In);this.drawTileImage(Qt,e,ht,nt,Yt,In,Bn,Ln),W&&!pn?(kn&&Z.restore(),this.renderedTiles.unshift(Qt)):this.renderedTiles.push(Qt),this.updateUsedTiles(e.usedTiles,_,Qt)}}return this.renderedRevision=y,this.renderedResolution=C,this.extentChanged=!this.renderedExtent_||!xo(this.renderedExtent_,j),this.renderedExtent_=j,this.renderedPixelRatio=g,this.renderedProjection=a,this.manageTilePyramid(e,_,E,g,a,S,x,m.getPreload()),this.scheduleExpireCache(e,_),this.postRender(this.context,e),i.extent&&Z.restore(),Z.imageSmoothingEnabled=!0,this.container}drawTileImage(e,t,i,o,a,u,c,d){const g=this.getTileImage(e);if(!g)return;const m=this.getRenderContext(t),_=De(this),y=t.layerStatesArray[t.layerIndex],E=y.opacity*(d?e.getAlpha(_,t.time):1),x=E!==m.globalAlpha;x&&(m.save(),m.globalAlpha=E),m.drawImage(g,c,c,g.width-2*c,g.height-2*c,i,o,a,u),x&&m.restore(),E!==y.opacity?t.animate=!0:d&&e.endTransition(_)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=(function(o,a,u){const c=De(o);c in u.usedTiles&&o.expireCache(u.viewState.projection,u.usedTiles[c])}).bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const o=De(t);o in e||(e[o]={}),e[o][i.getKey()]=!0}manageTilePyramid(e,t,i,o,a,u,c,d,g){const m=De(t);m in e.wantedTiles||(e.wantedTiles[m]={});const _=e.wantedTiles[m],y=e.tileQueue,E=i.getMinZoom(),x=e.viewState.rotation,C=x?Hc(e.viewState.center,e.viewState.resolution,x,e.size):void 0;let S=0,I,L,O,D,M,X;for(X=E;X<=c;++X)for(L=i.getTileRangeForExtentAndZ(u,X,L),O=i.getResolution(X),D=L.minX;D<=L.maxX;++D)for(M=L.minY;M<=L.maxY;++M)x&&!i.tileCoordIntersectsViewport([X,D,M],C)||(c-X<=d?(++S,I=t.getTile(X,D,M,o,a),I.getState()==ge.IDLE&&(_[I.getKey()]=!0,y.isKeyQueued(I.getKey())||y.enqueue([I,m,i.getTileCoordCenter(I.tileCoord),O])),g!==void 0&&g(I)):t.useTile(X,D,M,a));t.updateCacheSize(S,a)}}class gE extends iE{constructor(e){super(e)}createRenderer(){return new fE(this)}}class pE{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Ie(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Ie(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var t;return(t=this.entries_[e])==null?void 0:t.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Ie(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function pp(s,e,t,i){return i!==void 0?(i[0]=s,i[1]=e,i[2]=t,i):[s,e,t]}function Ua(s,e,t){return s+"/"+e+"/"+t}function Dm(s){return Ua(s[0],s[1],s[2])}function mE(s){return s.split("/").map(Number)}function _E(s){return(s[1]<<s[0])+s[2]}function yE(s,e){const t=s[0],i=s[1],o=s[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const a=e.getFullTileRange(t);return a?a.containsXY(i,o):!0}class Om extends pE{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=mE(e)[0];this.forEach(o=>{o.tileCoord[0]!==i&&(this.remove(Dm(o.tileCoord)),o.release())})}}const Yc={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Fm extends jn{constructor(e){super(),this.projection=fn(e.projection),this.attributions_=mp(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,o){t.viewResolver=i,t.viewRejector=o})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=mp(e),this.changed()}setState(e){this.state_=e,this.changed()}}function mp(s){return s?Array.isArray(s)?function(e){return s}:typeof s=="function"?s:function(e){return[s]}:null}const ns=[0,0,0],zi=5;class Nm{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ie($0(this.resolutions_,(o,a)=>a-o),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let o=0,a=this.resolutions_.length-1;o<a;++o)if(!t)t=this.resolutions_[o]/this.resolutions_[o+1];else if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ie(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Sr(i)),Ie(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ie(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:ch,Ie(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((o,a)=>{const u=new Wh(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(i){const c=this.getTileRangeForExtentAndZ(i,a);u.minX=Math.max(c.minX,u.minX),u.maxX=Math.min(c.maxX,u.maxX),u.minY=Math.max(c.minY,u.minY),u.maxY=Math.min(c.maxY,u.maxY)}return u}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const o=this.getTileRangeForExtentAndZ(e,t);for(let a=o.minX,u=o.maxX;a<=u;++a)for(let c=o.minY,d=o.maxY;c<=d;++c)i([t,a,c])}forEachTileCoordParentTileRange(e,t,i,o){let a,u,c,d=null,g=e[0]-1;for(this.zoomFactor_===2?(u=e[1],c=e[2]):d=this.getTileCoordExtent(e,o);g>=this.minZoom;){if(u!==void 0&&c!==void 0?(u=Math.floor(u/2),c=Math.floor(c/2),a=ts(u,u,c,c,i)):a=this.getTileRangeForExtentAndZ(d,g,i),t(g,a))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const a=e[1]*2,u=e[2]*2;return ts(a,a+1,u,u+1,t)}const o=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const o=e[0],a=e[1],u=e[2];if(t===o)return ts(a,u,a,u,i);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,t-o),g=Math.floor(a*d),m=Math.floor(u*d);if(t<o)return ts(g,g,m,m,i);const _=Math.floor(d*(a+1))-1,y=Math.floor(d*(u+1))-1;return ts(g,_,m,y,i)}const c=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,ns);const o=ns[1],a=ns[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,ns);const u=ns[1],c=ns[2];return ts(o,u,a,c,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=qt(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*o[0]*i,t[1]-(e[2]+.5)*o[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),o=this.getResolution(e[0]),a=qt(this.getTileSize(e[0]),this.tmpSize_),u=i[0]+e[1]*a[0]*o,c=i[1]-(e[2]+1)*a[1]*o,d=u+a[0]*o,g=c+a[1]*o;return Ki(u,c,d,g,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,o,a){const u=this.getZForResolution(i),c=i/this.getResolution(u),d=this.getOrigin(u),g=qt(this.getTileSize(u),this.tmpSize_);let m=c*(e-d[0])/i/g[0],_=c*(d[1]-t)/i/g[1];return o?(m=ql(m,zi)-1,_=ql(_,zi)-1):(m=$l(m,zi),_=$l(_,zi)),pp(u,m,_,a)}getTileCoordForXYAndZ_(e,t,i,o,a){const u=this.getOrigin(i),c=this.getResolution(i),d=qt(this.getTileSize(i),this.tmpSize_);let g=(e-u[0])/c/d[0],m=(u[1]-t)/c/d[1];return o?(g=ql(g,zi)-1,m=ql(m,zi)-1):(g=$l(g,zi),m=$l(m,zi)),pp(i,g,m,a)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=ah(this.resolutions_,e,t||0);return tt(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return Jp(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let o=this.minZoom;o<t;++o)i[o]=this.getTileRangeForExtentAndZ(e,o);this.fullTileRanges_=i}}function zm(s){let e=s.getDefaultTileGrid();return e||(e=wE(s),s.setDefaultTileGrid(e)),e}function vE(s,e,t){const i=e[0],o=s.getTileCoordCenter(e),a=Xh(t);if(!vs(a,o)){const u=ze(a),c=Math.ceil((a[0]-o[0])/u);return o[0]+=u*c,s.getTileCoordForCoordAndZ(o,i)}return e}function EE(s,e,t,i){i=i!==void 0?i:"top-left";const o=Gm(s,e,t);return new Nm({extent:s,origin:gy(s,i),resolutions:o,tileSize:t})}function xE(s){const e=s||{},t=e.extent||fn("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Gm(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Nm(i)}function Gm(s,e,t,i){e=e!==void 0?e:ny,t=qt(t!==void 0?t:ch);const o=Mt(s),a=ze(s);i=i>0?i:Math.max(a/t[0],o/t[1]);const u=e+1,c=new Array(u);for(let d=0;d<u;++d)c[d]=i/Math.pow(2,d);return c}function wE(s,e,t,i){const o=Xh(s);return EE(o,e,t,i)}function Xh(s){s=fn(s);let e=s.getExtent();if(!e){const t=180*hh.degrees/s.getMetersPerUnit();e=Ki(-t,-t,t,t)}return e}class CE extends Fm{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&qt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new Om(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,o){const a=this.getTileCacheForProjection(e);if(!a)return!1;let u=!0,c,d,g;for(let m=i.minX;m<=i.maxX;++m)for(let _=i.minY;_<=i.maxY;++_)d=Ua(t,m,_),g=!1,a.containsKey(d)&&(c=a.get(d),g=c.getState()===ge.LOADED,g&&(g=o(c)!==!1)),g||(u=!1);return u}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,o,a){return Me()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:zm(e)}getTileCacheForProjection(e){const t=this.getProjection();return Ie(t===null||rs(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(t),u=qt(o.getTileSize(e),this.tmpSize);return a==1?u:cv(u,a,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=vE(i,e,t)),yE(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,o){}}class SE extends ci{constructor(e,t){super(e),this.tile=t}}function TE(s,e){const t=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(u,c,d){if(u)return s.replace(t,u[0].toString()).replace(i,u[1].toString()).replace(o,u[2].toString()).replace(a,function(){const g=u[0],m=e.getFullTileRange(g);if(!m)throw new Error("The {-y} placeholder requires a tile grid with extent");return(m.getHeight()-u[2]-1).toString()})}}function RE(s,e){const t=s.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=TE(s[o],e);return IE(i)}function IE(s){return s.length===1?s[0]:function(e,t,i){if(!e)return;const o=_E(e),a=fs(o,s.length);return s[a](e,t,i)}}function LE(s){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(s);if(t){const i=t[1].charCodeAt(0),o=t[2].charCodeAt(0);let a;for(a=i;a<=o;++a)e.push(s.replace(t[0],String.fromCharCode(a)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(s),t){const i=parseInt(t[2],10);for(let o=parseInt(t[1],10);o<=i;o++)e.push(s.replace(t[0],o.toString()));return e}return e.push(s),e}class Uh extends CE{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Uh.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=De(t),o=t.getState();let a;o==ge.LOADING?(this.tileLoadingKeys_[i]=!0,a=Yc.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==ge.ERROR?Yc.TILELOADERROR:o==ge.LOADED?Yc.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new SE(a,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=LE(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(RE(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const o=Ua(e,t,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)}}class kE extends Uh{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ME,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Am,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const o in this.tileCacheForProjection){const a=this.tileCacheForProjection[o];a.expireCache(a==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!rs(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!rs(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||rs(t,e)))return this.tileGrid;const i=De(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=zm(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||rs(t,e))return this.tileCache;const i=De(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Om(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,o,a,u){const c=[e,t,i],d=this.getTileCoordForTileUrlFunction(c,a),g=d?this.tileUrlFunction(d,o,a):void 0,m=new this.tileClass(c,g!==void 0?ge.IDLE:ge.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=u,m.addEventListener(Ee.CHANGE,this.handleTileChange.bind(this)),m}getTile(e,t,i,o,a){const u=this.getProjection();if(!u||!a||rs(u,a))return this.getTileInternal(e,t,i,o,u||a);const c=this.getTileCacheForProjection(a),d=[e,t,i];let g;const m=Dm(d);c.containsKey(m)&&(g=c.get(m));const _=this.getKey();if(g&&g.key==_)return g;const y=this.getTileGridForProjection(u),E=this.getTileGridForProjection(a),x=this.getTileCoordForTileUrlFunction(d,a),C=new sh(u,y,a,E,d,x,this.getTilePixelRatio(o),this.getGutter(),(S,I,L,O)=>this.getTileInternal(S,I,L,O,u),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return C.key=_,g?(C.interimTile=g,C.refreshInterimChain(),c.replace(m,C)):c.set(m,C),C}getTileInternal(e,t,i,o,a){let u=null;const c=Ua(e,t,i),d=this.getKey();if(!this.tileCache.containsKey(c))u=this.createTile_(e,t,i,o,a,d),this.tileCache.set(c,u);else if(u=this.tileCache.get(c),u.key!=d){const g=u;u=this.createTile_(e,t,i,o,a,d),g.getState()==ge.IDLE?u.interimTile=g.interimTile:u.interimTile=g,u.refreshInterimChain(),this.tileCache.replace(c,u)}return u}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=fn(e);if(i){const o=De(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function ME(s,e){s.getImage().src=e}class PE extends kE{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:xE({extent:Xh(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const AE='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class DE extends PE{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[AE];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",o=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:o,wrapX:e.wrapX,zDirection:e.zDirection})}}class ya extends jn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new ya(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(je(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Pe(e,Ee.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?OE(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function OE(s){if(typeof s=="function")return s;let e;return Array.isArray(s)?e=s:(Ie(typeof s.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[s]),function(){return e}}function oh(s,e,t,i,o,a,u){let c,d;const g=(t-e)/i;if(g===1)c=e;else if(g===2)c=e,d=o;else if(g!==0){let m=s[e],_=s[e+1],y=0;const E=[0];for(let S=e+i;S<t;S+=i){const I=s[S],L=s[S+1];y+=Math.sqrt((I-m)*(I-m)+(L-_)*(L-_)),E.push(y),m=I,_=L}const x=o*y,C=Z0(E,x);C<0?(d=(x-E[-C-2])/(E[-C-1]-E[-C-2]),c=e+(-C-2)*i):c=e+C*i}u=u>1?u:2,a=a||new Array(u);for(let m=0;m<u;++m)a[m]=c===void 0?NaN:d===void 0?s[c+m]:Ht(s[c+m],s[c+i+m],d);return a}function FE(s,e,t,i,o,a){if(t==e)return null;let u;if(o<s[e+i-1])return a?(u=s.slice(e,e+i),u[i-1]=o,u):null;if(s[t-1]<o)return a?(u=s.slice(t-i,t),u[i-1]=o,u):null;if(o==s[e+i-1])return s.slice(e,e+i);let c=e/i,d=t/i;for(;c<d;){const y=c+d>>1;o<s[(y+1)*i-1]?d=y:c=y+1}const g=s[c*i-1];if(o==g)return s.slice((c-1)*i,(c-1)*i+i);const m=s[(c+1)*i-1],_=(o-g)/(m-g);u=[];for(let y=0;y<i-1;++y)u.push(Ht(s[(c-1)*i+y],s[c*i+y],_));return u.push(o),u}function Wm(s,e,t,i){let o=s[e],a=s[e+1],u=0;for(let c=e+i;c<t;c+=i){const d=s[c],g=s[c+1];u+=Math.sqrt((d-o)*(d-o)+(g-a)*(g-a)),o=d,a=g}return u}class va extends ka{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){xa(this.flatCoordinates,e),this.changed()}clone(){const e=new va(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,o){return o<fh(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ch(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,o))}forEachSegment(e){return Qp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,FE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return vr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return oh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Wm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Ma(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new va(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Rh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Sh(this.flatCoordinates,0,e,this.stride),this.changed()}}const he={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},sa=[he.FILL],Vi=[he.STROKE],wr=[he.BEGIN_PATH],_p=[he.CLOSE_PATH];class Xm{drawCustom(e,t,i,o,a){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}class Xo extends Xm{constructor(e,t,i,o){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=o,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates;let u=a.length;for(let c=0,d=e.length;c<d;c+=t)o[0]=e[c],o[1]=e[c+1],vs(i,o)&&(a[u++]=o[0],a[u++]=o[1]);return u}appendFlatLineCoordinates(e,t,i,o,a,u){const c=this.coordinates;let d=c.length;const g=this.getBufferedMaxExtent();u&&(t+=o);let m=e[t],_=e[t+1];const y=this.tmpCoordinate_;let E=!0,x,C,S;for(x=t+o;x<i;x+=o)y[0]=e[x],y[1]=e[x+1],S=bc(g,y),S!==C?(E&&(c[d++]=m,c[d++]=_,E=!1),c[d++]=y[0],c[d++]=y[1]):S===ut.INTERSECTING?(c[d++]=y[0],c[d++]=y[1],E=!1):E=!0,m=y[0],_=y[1],C=S;return(a&&E||x===t+o)&&(c[d++]=m,c[d++]=_),d}drawCustomCoordinates_(e,t,i,o,a){for(let u=0,c=i.length;u<c;++u){const d=i[u],g=this.appendFlatLineCoordinates(e,t,d,o,!1,!1);a.push(g),t=d}return t}drawCustom(e,t,i,o,a){this.beginGeometry(e,t,a);const u=e.getType(),c=e.getStride(),d=this.coordinates.length;let g,m,_,y,E;switch(u){case"MultiPolygon":g=e.getOrientedFlatCoordinates(),y=[];const x=e.getEndss();E=0;for(let C=0,S=x.length;C<S;++C){const I=[];E=this.drawCustomCoordinates_(g,E,x[C],c,I),y.push(I)}this.instructions.push([he.CUSTOM,d,y,e,i,Bg,a]),this.hitDetectionInstructions.push([he.CUSTOM,d,y,e,o||i,Bg,a]);break;case"Polygon":case"MultiLineString":_=[],g=u=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),E=this.drawCustomCoordinates_(g,0,e.getEnds(),c,_),this.instructions.push([he.CUSTOM,d,_,e,i,ha,a]),this.hitDetectionInstructions.push([he.CUSTOM,d,_,e,o||i,ha,a]);break;case"LineString":case"Circle":g=e.getFlatCoordinates(),m=this.appendFlatLineCoordinates(g,0,g.length,c,!1,!1),this.instructions.push([he.CUSTOM,d,m,e,i,vr,a]),this.hitDetectionInstructions.push([he.CUSTOM,d,m,e,o||i,vr,a]);break;case"MultiPoint":g=e.getFlatCoordinates(),m=this.appendFlatPointCoordinates(g,c),m>d&&(this.instructions.push([he.CUSTOM,d,m,e,i,vr,a]),this.hitDetectionInstructions.push([he.CUSTOM,d,m,e,o||i,vr,a]));break;case"Point":g=e.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),m=this.coordinates.length,this.instructions.push([he.CUSTOM,d,m,e,i,void 0,a]),this.hitDetectionInstructions.push([he.CUSTOM,d,m,e,o||i,void 0,a]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[he.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[he.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let o,a,u=-1;for(t=0;t<i;++t)o=e[t],a=o[0],a==he.END_GEOMETRY?u=t:a==he.BEGIN_GEOMETRY&&(o[2]=t,H0(this.hitDetectionInstructions,u,t),u=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const o=e.getColor();i.fillPatternScale=o&&typeof o=="object"&&"src"in o?this.pixelRatio:1,i.fillStyle=Xn(o||Wt)}else i.fillStyle=void 0;if(t){const o=t.getColor();i.strokeStyle=Xn(o||Io);const a=t.getLineCap();i.lineCap=a!==void 0?a:Es;const u=t.getLineDash();i.lineDash=u?u.slice():oi;const c=t.getLineDashOffset();i.lineDashOffset=c||li;const d=t.getLineJoin();i.lineJoin=d!==void 0?d:xs;const g=t.getWidth();i.lineWidth=g!==void 0?g:ko;const m=t.getMiterLimit();i.miterLimit=m!==void 0?m:Ro,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[he.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[he.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,o=e.lineCap,a=e.lineDash,u=e.lineDashOffset,c=e.lineJoin,d=e.lineWidth,g=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=o||a!=e.currentLineDash&&!Hi(e.currentLineDash,a)||e.currentLineDashOffset!=u||e.currentLineJoin!=c||e.currentLineWidth!=d||e.currentMiterLimit!=g)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=o,e.currentLineDash=a,e.currentLineDashOffset=u,e.currentLineJoin=c,e.currentLineWidth=d,e.currentMiterLimit=g)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[he.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Dp(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;dh(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class NE extends Xo{constructor(e,t,i,o){super(e,t,i,o),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!vs(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const o=e.getFlatCoordinates(),a=e.getStride(),u=this.coordinates.length,c=this.appendFlatPointCoordinates(o,a);this.instructions.push([he.DRAW_IMAGE,u,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([he.DRAW_IMAGE,u,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const o=e.getFlatCoordinates(),a=[];for(let d=0,g=o.length;d<g;d+=e.getStride())(!this.maxExtent||vs(this.maxExtent,o.slice(d,d+2)))&&a.push(o[d],o[d+1]);const u=this.coordinates.length,c=this.appendFlatPointCoordinates(a,2);this.instructions.push([he.DRAW_IMAGE,u,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([he.DRAW_IMAGE,u,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),o=e.getSize(),a=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=e.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=o[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class zE extends Xo{constructor(e,t,i,o){super(e,t,i,o)}drawFlatCoordinates_(e,t,i,o){const a=this.coordinates.length,u=this.appendFlatLineCoordinates(e,t,i,o,!1,!1),c=[he.MOVE_TO_LINE_TO,a,u];return this.instructions.push(c),this.hitDetectionInstructions.push(c),i}drawLineString(e,t,i){const o=this.state,a=o.strokeStyle,u=o.lineWidth;if(a===void 0||u===void 0)return;this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,oi,li],wr);const c=e.getFlatCoordinates(),d=e.getStride();this.drawFlatCoordinates_(c,0,c.length,d),this.hitDetectionInstructions.push(Vi),this.endGeometry(t)}drawMultiLineString(e,t,i){const o=this.state,a=o.strokeStyle,u=o.lineWidth;if(a===void 0||u===void 0)return;this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,oi,li],wr);const c=e.getEnds(),d=e.getFlatCoordinates(),g=e.getStride();let m=0;for(let _=0,y=c.length;_<y;++_)m=this.drawFlatCoordinates_(d,m,c[_],g);this.hitDetectionInstructions.push(Vi),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Vi),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Vi),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(wr)}}class yp extends Xo{constructor(e,t,i,o){super(e,t,i,o)}drawFlatCoordinatess_(e,t,i,o){const a=this.state,u=a.fillStyle!==void 0,c=a.strokeStyle!==void 0,d=i.length;this.instructions.push(wr),this.hitDetectionInstructions.push(wr);for(let g=0;g<d;++g){const m=i[g],_=this.coordinates.length,y=this.appendFlatLineCoordinates(e,t,m,o,!0,!c),E=[he.MOVE_TO_LINE_TO,_,y];this.instructions.push(E),this.hitDetectionInstructions.push(E),c&&(this.instructions.push(_p),this.hitDetectionInstructions.push(_p)),t=m}return u&&(this.instructions.push(sa),this.hitDetectionInstructions.push(sa)),c&&(this.instructions.push(Vi),this.hitDetectionInstructions.push(Vi)),t}drawCircle(e,t,i){const o=this.state,a=o.fillStyle,u=o.strokeStyle;if(a===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,Wt]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,oi,li]);const c=e.getFlatCoordinates(),d=e.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,d,!1,!1);const m=[he.CIRCLE,g];this.instructions.push(wr,m),this.hitDetectionInstructions.push(wr,m),o.fillStyle!==void 0&&(this.instructions.push(sa),this.hitDetectionInstructions.push(sa)),o.strokeStyle!==void 0&&(this.instructions.push(Vi),this.hitDetectionInstructions.push(Vi)),this.endGeometry(t)}drawPolygon(e,t,i){const o=this.state,a=o.fillStyle,u=o.strokeStyle;if(a===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,Wt]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,oi,li]);const c=e.getEnds(),d=e.getOrientedFlatCoordinates(),g=e.getStride();this.drawFlatCoordinatess_(d,0,c,g),this.endGeometry(t)}drawMultiPolygon(e,t,i){const o=this.state,a=o.fillStyle,u=o.strokeStyle;if(a===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,Wt]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,oi,li]);const c=e.getEndss(),d=e.getOrientedFlatCoordinates(),g=e.getStride();let m=0;for(let _=0,y=c.length;_<y;++_)m=this.drawFlatCoordinatess_(d,m,c[_],g);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,o=t.length;i<o;++i)t[i]=_r(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function GE(s,e,t,i,o){const a=[];let u=t,c=0,d=e.slice(t,2);for(;c<s&&u+o<i;){const[g,m]=d.slice(-2),_=e[u+o],y=e[u+o+1],E=Math.sqrt((_-g)*(_-g)+(y-m)*(y-m));if(c+=E,c>=s){const x=(s-c+E)/E,C=Ht(g,_,x),S=Ht(m,y,x);d.push(C,S),a.push(d),d=[C,S],c==s&&(u+=o),c=0}else if(c<s)d.push(e[u+o],e[u+o+1]),u+=o;else{const x=E-c,C=Ht(g,_,x/E),S=Ht(m,y,x/E);d.push(C,S),a.push(d),d=[C,S],c=0,u+=o}}return c>0&&a.push(d),a}function WE(s,e,t,i,o){let a=t,u=t,c=0,d=0,g=t,m,_,y,E,x,C,S,I,L,O;for(_=t;_<i;_+=o){const D=e[_],M=e[_+1];x!==void 0&&(L=D-x,O=M-C,E=Math.sqrt(L*L+O*O),S!==void 0&&(d+=y,m=Math.acos((S*L+I*O)/(y*E)),m>s&&(d>c&&(c=d,a=g,u=_),d=0,g=_-o)),y=E,S=L,I=O),x=D,C=M}return d+=E,d>c?[g,_]:[a,u]}const Ea={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class XE extends Xo{constructor(e,t,i,o){super(e,t,i,o),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Wt]={fillStyle:Wt},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const o=this.textFillState_,a=this.textStrokeState_,u=this.textState_;if(this.text_===""||!u||!o&&!a)return;const c=this.coordinates;let d=c.length;const g=e.getType();let m=null,_=e.getStride();if(u.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!Xt(this.maxExtent,e.getExtent()))return;let y;if(m=e.getFlatCoordinates(),g=="LineString")y=[m.length];else if(g=="MultiLineString")y=e.getEnds();else if(g=="Polygon")y=e.getEnds().slice(0,1);else if(g=="MultiPolygon"){const S=e.getEndss();y=[];for(let I=0,L=S.length;I<L;++I)y.push(S[I][0])}this.beginGeometry(e,t,i);const E=u.repeat,x=E?void 0:u.textAlign;let C=0;for(let S=0,I=y.length;S<I;++S){let L;E?L=GE(E*this.resolution,m,C,y[S],_):L=[m.slice(C,y[S])];for(let O=0,D=L.length;O<D;++O){const M=L[O];let X=0,U=M.length;if(x==null){const b=WE(u.maxAngle,M,0,M.length,2);X=b[0],U=b[1]}for(let b=X;b<U;b+=_)c.push(M[b],M[b+1]);const j=c.length;C=y[S],this.drawChars_(d,j),d=j}}this.endGeometry(t)}else{let y=u.overflow?null:[];switch(g){case"Point":case"MultiPoint":m=e.getFlatCoordinates();break;case"LineString":m=e.getFlatMidpoint();break;case"Circle":m=e.getCenter();break;case"MultiLineString":m=e.getFlatMidpoints(),_=2;break;case"Polygon":m=e.getFlatInteriorPoint(),u.overflow||y.push(m[2]/this.resolution),_=3;break;case"MultiPolygon":const L=e.getFlatInteriorPoints();m=[];for(let O=0,D=L.length;O<D;O+=3)u.overflow||y.push(L[O+2]/this.resolution),m.push(L[O],L[O+1]);if(m.length===0)return;_=2;break}const E=this.appendFlatPointCoordinates(m,_);if(E===d)return;if(y&&(E-d)/2!==m.length/_){let L=d/2;y=y.filter((O,D)=>{const M=c[(L+D)*2]===m[D*_]&&c[(L+D)*2+1]===m[D*_+1];return M||--L,M})}this.saveTextStates_(),(u.backgroundFill||u.backgroundStroke)&&(this.setFillStrokeStyle(u.backgroundFill,u.backgroundStroke),u.backgroundFill&&this.updateFillStyle(this.state,this.createFill),u.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t,i);let x=u.padding;if(x!=xr&&(u.scale[0]<0||u.scale[1]<0)){let L=u.padding[0],O=u.padding[1],D=u.padding[2],M=u.padding[3];u.scale[0]<0&&(O=-O,M=-M),u.scale[1]<0&&(L=-L,D=-D),x=[L,O,D,M]}const C=this.pixelRatio;this.instructions.push([he.DRAW_IMAGE,d,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,x==xr?xr:x.map(function(L){return L*C}),!!u.backgroundFill,!!u.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]);const S=1/C,I=this.state.fillStyle;u.backgroundFill&&(this.state.fillStyle=Wt,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([he.DRAW_IMAGE,d,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[S,S],NaN,this.declutterMode_,this.declutterImageWithText_,x,!!u.backgroundFill,!!u.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Wt:this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]),u.backgroundFill&&(this.state.fillStyle=I,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,o=this.strokeKey_;e&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const a=this.textKey_;a in this.textStates||(this.textStates[a]={font:t.font,textAlign:t.textAlign||Lo,justify:t.justify,textBaseline:t.textBaseline||fa,scale:t.scale});const u=this.fillKey_;i&&(u in this.fillStates||(this.fillStates[u]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,u=this.textKey_,c=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,g=Ea[o.textBaseline],m=this.textOffsetY_*d,_=this.text_,y=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([he.DRAW_CHARS,e,t,g,o.overflow,c,o.maxAngle,d,m,a,y*d,_,u,1,this.declutterMode_]),this.hitDetectionInstructions.push([he.DRAW_CHARS,e,t,g,o.overflow,c&&Wt,o.maxAngle,d,m,a,y*d,_,u,1/d,this.declutterMode_])}setTextStyle(e,t){let i,o,a;if(!e)this.text_="";else{const u=e.getFill();u?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Xn(u.getColor()||Wt)):(o=null,this.textFillState_=o);const c=e.getStroke();if(!c)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);const x=c.getLineDash(),C=c.getLineDashOffset(),S=c.getWidth(),I=c.getMiterLimit();a.lineCap=c.getLineCap()||Es,a.lineDash=x?x.slice():oi,a.lineDashOffset=C===void 0?li:C,a.lineJoin=c.getLineJoin()||xs,a.lineWidth=S===void 0?ko:S,a.miterLimit=I===void 0?Ro:I,a.strokeStyle=Xn(c.getColor()||Io)}i=this.textState_;const d=e.getFont()||cm;Mv(d);const g=e.getScaleArray();i.overflow=e.getOverflow(),i.font=d,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||fa,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||xr,i.scale=g===void 0?[1,1]:g;const m=e.getOffsetX(),_=e.getOffsetY(),y=e.getRotateWithView(),E=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=_===void 0?0:_,this.textRotateWithView_=y===void 0?!1:y,this.textRotation_=E===void 0?0:E,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:De(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o&&o.fillStyle?typeof o.fillStyle=="string"?o.fillStyle:"|"+De(o.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const UE={Circle:yp,Default:Xo,Image:NE,LineString:zE,Polygon:yp,Text:XE};class YE{constructor(e,t,i,o){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=o,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const o in i){const a=i[o].finish();e[t][o]=a}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let o=this.buildersByZIndex_[i];o===void 0&&(o={},this.buildersByZIndex_[i]=o);let a=o[t];if(a===void 0){const u=UE[t];a=new u(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[t]=a}return a}}function jE(s,e,t,i,o,a,u,c,d,g,m,_){let y=s[e],E=s[e+1],x=0,C=0,S=0,I=0;function L(){x=y,C=E,e+=i,y=s[e],E=s[e+1],I+=S,S=Math.sqrt((y-x)*(y-x)+(E-C)*(E-C))}do L();while(e<t-i&&I+S<a);let O=S===0?0:(a-I)/S;const D=Ht(x,y,O),M=Ht(C,E,O),X=e-i,U=I,j=a+c*d(g,o,m);for(;e<t-i&&I+S<j;)L();O=S===0?0:(j-I)/S;const b=Ht(x,y,O),ue=Ht(C,E,O);let re;if(_){const Z=[D,M,b,ue];Zp(Z,0,4,2,_,Z,Z),re=Z[0]>Z[2]}else re=D>b;const te=Math.PI,se=[],oe=X+i===e;e=X,S=0,I=U,y=s[e],E=s[e+1];let ce;if(oe){L(),ce=Math.atan2(E-C,y-x),re&&(ce+=ce>0?-te:te);const Z=(b+D)/2,ae=(ue+M)/2;return se[0]=[Z,ae,(j-a)/2,ce,o],se}o=o.replace(/\n/g," ");for(let Z=0,ae=o.length;Z<ae;){L();let W=Math.atan2(E-C,y-x);if(re&&(W+=W>0?-te:te),ce!==void 0){let z=W-ce;if(z+=z>te?-2*te:z<-te?2*te:0,Math.abs(z)>u)return null}ce=W;const $=Z;let Y=0;for(;Z<ae;++Z){const z=re?ae-Z-1:Z,me=c*d(g,o[z],m);if(e+i<t&&I+S<a+Y+me/2)break;Y+=me}if(Z===$)continue;const R=re?o.substring(ae-$,ae-Z):o.substring($,Z);O=S===0?0:(a+Y/2-I)/S;const N=Ht(x,y,O),Q=Ht(C,E,O);se.push([N,Q,Y/2,W,R]),a+=Y}return se}const is=dn(),Gi=[],ei=[],ti=[],Wi=[];function vp(s){return s[3].declutterBox}const Ep=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function jc(s,e){return e==="start"?e=Ep.test(s)?"right":"left":e==="end"&&(e=Ep.test(s)?"left":"right"),Ea[e]}function BE(s,e,t){return t>0&&s.push(`
`,""),s.push(e,""),s}class VE{constructor(e,t,i,o,a){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=Tn(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=a?new km:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,o){const a=e+t+i+o;if(this.labels_[a])return this.labels_[a];const u=o?this.strokeStates[o]:null,c=i?this.fillStates[i]:null,d=this.textStates[t],g=this.pixelRatio,m=[d.scale[0]*g,d.scale[1]*g],_=Array.isArray(e),y=d.justify?Ea[d.justify]:jc(Array.isArray(e)?e[0]:e,d.textAlign||Lo),E=o&&u.lineWidth?u.lineWidth:0,x=_?e:e.split(`
`).reduce(BE,[]),{width:C,height:S,widths:I,heights:L,lineWidths:O}=Av(d,x),D=C+E,M=[],X=(D+2)*m[0],U=(S+E)*m[1],j={width:X<0?Math.floor(X):Math.ceil(X),height:U<0?Math.floor(U):Math.ceil(U),contextInstructions:M};(m[0]!=1||m[1]!=1)&&M.push("scale",m),o&&(M.push("strokeStyle",u.strokeStyle),M.push("lineWidth",E),M.push("lineCap",u.lineCap),M.push("lineJoin",u.lineJoin),M.push("miterLimit",u.miterLimit),M.push("setLineDash",[u.lineDash]),M.push("lineDashOffset",u.lineDashOffset)),i&&M.push("fillStyle",c.fillStyle),M.push("textBaseline","middle"),M.push("textAlign","center");const b=.5-y;let ue=y*D+b*E;const re=[],te=[];let se=0,oe=0,ce=0,Z=0,ae;for(let W=0,$=x.length;W<$;W+=2){const Y=x[W];if(Y===`
`){oe+=se,se=0,ue=y*D+b*E,++Z;continue}const R=x[W+1]||d.font;R!==ae&&(o&&re.push("font",R),i&&te.push("font",R),ae=R),se=Math.max(se,L[ce]);const N=[Y,ue+b*I[ce]+y*(I[ce]-O[Z]),.5*(E+se)+oe];ue+=I[ce],o&&re.push("strokeText",N),i&&te.push("fillText",N),++ce}return Array.prototype.push.apply(M,re),Array.prototype.push.apply(M,te),this.labels_[a]=j,j}replayTextBackground_(e,t,i,o,a,u,c){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,a),e.lineTo.apply(e,t),u&&(this.alignAndScaleFill_=u[2],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,o,a,u,c,d,g,m,_,y,E,x,C,S){c*=y[0],d*=y[1];let I=i-c,L=o-d;const O=a+g>e?e-g:a,D=u+m>t?t-m:u,M=x[3]+O*y[0]+x[1],X=x[0]+D*y[1]+x[2],U=I-x[3],j=L-x[0];(C||_!==0)&&(Gi[0]=U,Wi[0]=U,Gi[1]=j,ei[1]=j,ei[0]=U+M,ti[0]=ei[0],ti[1]=j+X,Wi[1]=ti[1]);let b;return _!==0?(b=ui(Tn(),i,o,1,1,_,-i,-o),gt(b,Gi),gt(b,ei),gt(b,ti),gt(b,Wi),Ki(Math.min(Gi[0],ei[0],ti[0],Wi[0]),Math.min(Gi[1],ei[1],ti[1],Wi[1]),Math.max(Gi[0],ei[0],ti[0],Wi[0]),Math.max(Gi[1],ei[1],ti[1],Wi[1]),is)):Ki(Math.min(U,U+M),Math.min(j,j+X),Math.max(U,U+M),Math.max(j,j+X),is),E&&(I=Math.round(I),L=Math.round(L)),{drawImageX:I,drawImageY:L,drawImageW:O,drawImageH:D,originX:g,originY:m,declutterBox:{minX:is[0],minY:is[1],maxX:is[2],maxY:is[3],value:S},canvasTransform:b,scale:y}}replayImageOrLabel_(e,t,i,o,a,u,c){const d=!!(u||c),g=o.declutterBox,m=c?c[2]*o.scale[0]/2:0;return g.minX-m<=t[0]&&g.maxX+m>=0&&g.minY-m<=t[1]&&g.maxY+m>=0&&(d&&this.replayTextBackground_(e,Gi,ei,ti,Wi,u,c),Dv(e,o.canvasTransform,a,i,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=gt(this.renderedTransform_,[0,0]),o=512*this.pixelRatio;e.save(),e.translate(i[0]%o,i[1]%o),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,o){const a=this.textStates[t],u=this.createLabel(e,t,o,i),c=this.strokeStates[i],d=this.pixelRatio,g=jc(Array.isArray(e)?e[0]:e,a.textAlign||Lo),m=Ea[a.textBaseline||fa],_=c&&c.lineWidth?c.lineWidth:0,y=u.width/d-2*a.scale[0],E=g*y+2*(.5-g)*_,x=m*u.height/d+2*(.5-m)*_;return{label:u,anchorX:E,anchorY:x}}execute_(e,t,i,o,a,u,c,d){const g=this.zIndexContext_;let m;this.pixelCoordinates_&&Hi(i,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=bi(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Ay(this.renderedTransform_,i));let _=0;const y=o.length;let E=0,x,C,S,I,L,O,D,M,X,U,j,b,ue,re=0,te=0,se=null,oe=null;const ce=this.coordinateCache_,Z=this.viewRotation_,ae=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,W={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Z},$=this.instructions!=o||this.overlaps?0:200;let Y,R,N,Q;for(;_<y;){const z=o[_];switch(z[0]){case he.BEGIN_GEOMETRY:Y=z[1],Q=z[3],Y.getGeometry()?c!==void 0&&!Xt(c,Q.getExtent())?_=z[2]+1:++_:_=z[2],g&&(g.zIndex=z[4]);break;case he.BEGIN_PATH:re>$&&(this.fill_(e),re=0),te>$&&(e.stroke(),te=0),!re&&!te&&(e.beginPath(),L=NaN,O=NaN),++_;break;case he.CIRCLE:E=z[1];const pe=m[E],_e=m[E+1],xe=m[E+2],Le=m[E+3],Oe=xe-pe,Bn=Le-_e,di=Math.sqrt(Oe*Oe+Bn*Bn);e.moveTo(pe+di,_e),e.arc(pe,_e,di,0,2*Math.PI,!0),++_;break;case he.CLOSE_PATH:e.closePath(),++_;break;case he.CUSTOM:E=z[1],x=z[2];const fi=z[3],Qt=z[4],gi=z[5];W.geometry=fi,W.feature=Y,_ in ce||(ce[_]=[]);const gn=ce[_];gi?gi(m,E,x,2,gn):(gn[0]=m[E],gn[1]=m[E+1],gn.length=2),g&&(g.zIndex=z[6]),Qt(gn,W),++_;break;case he.DRAW_IMAGE:E=z[1],x=z[2],X=z[3],C=z[4],S=z[5];let Vn=z[6];const $i=z[7],qi=z[8],ht=z[9],nt=z[10];let Yt=z[11];const In=z[12];let Ln=z[13];I=z[14]||"declutter";const pn=z[15];if(!X&&z.length>=20){U=z[19],j=z[20],b=z[21],ue=z[22];const Rt=this.drawLabelWithPointPlacement_(U,j,b,ue);X=Rt.label,z[3]=X;const Mn=z[23];C=(Rt.anchorX-Mn)*this.pixelRatio,z[4]=C;const _t=z[24];S=(Rt.anchorY-_t)*this.pixelRatio,z[5]=S,Vn=X.height,z[6]=Vn,Ln=X.width,z[13]=Ln}let kn;z.length>25&&(kn=z[25]);let Jt,mn,Qe;z.length>17?(Jt=z[16],mn=z[17],Qe=z[18]):(Jt=xr,mn=!1,Qe=!1),nt&&ae?Yt+=Z:!nt&&!ae&&(Yt-=Z);let Qi=0;for(;E<x;E+=2){if(kn&&kn[Qi++]<Ln/this.pixelRatio)continue;const Rt=this.calculateImageOrLabelDimensions_(X.width,X.height,m[E],m[E+1],Ln,Vn,C,S,qi,ht,Yt,In,a,Jt,mn||Qe,Y),Mn=[e,t,X,Rt,$i,mn?se:null,Qe?oe:null];if(d){let _t,jt,st;if(pn){const Ue=x-E;if(!pn[Ue]){pn[Ue]={args:Mn,declutterMode:I};continue}const He=pn[Ue];_t=He.args,jt=He.declutterMode,delete pn[Ue],st=vp(_t)}let Bt,It;if(_t&&(jt!=="declutter"||!d.collides(st))&&(Bt=!0),(I!=="declutter"||!d.collides(Rt.declutterBox))&&(It=!0),jt==="declutter"&&I==="declutter"){const Ue=Bt&&It;Bt=Ue,It=Ue}Bt&&(jt!=="none"&&d.insert(st),this.replayImageOrLabel_.apply(this,_t)),It&&(I!=="none"&&d.insert(Rt.declutterBox),this.replayImageOrLabel_.apply(this,Mn))}else this.replayImageOrLabel_.apply(this,Mn)}++_;break;case he.DRAW_CHARS:const pi=z[1],Uo=z[2],Rr=z[3],Yo=z[4];ue=z[5];const Ya=z[6],Ir=z[7],Lr=z[8];b=z[9];const Ji=z[10];U=z[11],j=z[12];const kr=[z[13],z[13]];I=z[14]||"declutter";const er=this.textStates[j],en=er.font,tn=[er.scale[0]*Ir,er.scale[1]*Ir];let mi;en in this.widths_?mi=this.widths_[en]:(mi={},this.widths_[en]=mi);const Is=Wm(m,pi,Uo,2),Ls=Math.abs(tn[0])*tp(en,U,mi);if(Yo||Ls<=Is){const Rt=this.textStates[j].textAlign,Mn=(Is-Ls)*jc(U,Rt),_t=jE(m,pi,Uo,2,U,Mn,Ya,Math.abs(tn[0]),tp,en,mi,ae?0:this.viewRotation_);e:if(_t){const jt=[];let st,Bt,It,Ue,He;if(b)for(st=0,Bt=_t.length;st<Bt;++st){He=_t[st],It=He[4],Ue=this.createLabel(It,j,"",b),C=He[2]+(tn[0]<0?-Ji:Ji),S=Rr*Ue.height+(.5-Rr)*2*Ji*tn[1]/tn[0]-Lr;const Pt=this.calculateImageOrLabelDimensions_(Ue.width,Ue.height,He[0],He[1],Ue.width,Ue.height,C,S,0,0,He[3],kr,!1,xr,!1,Y);if(d&&I==="declutter"&&d.collides(Pt.declutterBox))break e;jt.push([e,t,Ue,Pt,1,null,null])}if(ue)for(st=0,Bt=_t.length;st<Bt;++st){He=_t[st],It=He[4],Ue=this.createLabel(It,j,ue,""),C=He[2],S=Rr*Ue.height-Lr;const Pt=this.calculateImageOrLabelDimensions_(Ue.width,Ue.height,He[0],He[1],Ue.width,Ue.height,C,S,0,0,He[3],kr,!1,xr,!1,Y);if(d&&I==="declutter"&&d.collides(Pt.declutterBox))break e;jt.push([e,t,Ue,Pt,1,null,null])}d&&I!=="none"&&d.load(jt.map(vp));for(let Pt=0,Mr=jt.length;Pt<Mr;++Pt)this.replayImageOrLabel_.apply(this,jt[Pt])}}++_;break;case he.END_GEOMETRY:if(u!==void 0){Y=z[1];const Rt=u(Y,Q,I);if(Rt)return Rt}++_;break;case he.FILL:$?re++:this.fill_(e),++_;break;case he.MOVE_TO_LINE_TO:for(E=z[1],x=z[2],R=m[E],N=m[E+1],e.moveTo(R,N),L=R+.5|0,O=N+.5|0,E+=2;E<x;E+=2)R=m[E],N=m[E+1],D=R+.5|0,M=N+.5|0,(E==x-2||D!==L||M!==O)&&(e.lineTo(R,N),L=D,O=M);++_;break;case he.SET_FILL_STYLE:se=z,this.alignAndScaleFill_=z[2],re&&(this.fill_(e),re=0,te&&(e.stroke(),te=0)),e.fillStyle=z[1],++_;break;case he.SET_STROKE_STYLE:oe=z,te&&(e.stroke(),te=0),this.setStrokeStyle_(e,z),++_;break;case he.STROKE:$?te++:e.stroke(),++_;break;default:++_;break}}re&&this.fill_(e),te&&e.stroke()}execute(e,t,i,o,a,u){this.viewRotation_=o,this.execute_(e,t,i,this.instructions,a,void 0,void 0,u)}executeHitDetection(e,t,i,o,a){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,o,a)}}const hs=["Polygon","Circle","LineString","Image","Text","Default"],Um=["Image","Text"],bE=hs.filter(s=>!Um.includes(s));class KE{constructor(e,t,i,o,a,u,c){this.maxExtent_=e,this.overlaps_=o,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=u,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Tn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(a,c)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let o=this.executorsByZIndex_[i];o===void 0&&(o={},this.executorsByZIndex_[i]=o);const a=e[i];for(const u in a){const c=a[u];o[u]=new VE(this.resolution_,this.pixelRatio_,this.overlaps_,c,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let o=0,a=e.length;o<a;++o)if(e[o]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,o,a,u){o=Math.round(o);const c=o*2+1,d=ui(this.hitDetectionTransform_,o+.5,o+.5,1/t,-1/t,-i,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=mt(c,c,void 0,{willReadFrequently:!0}));const m=this.hitDetectionContext_;m.canvas.width!==c||m.canvas.height!==c?(m.canvas.width=c,m.canvas.height=c):g||m.clearRect(0,0,c,c);let _;this.renderBuffer_!==void 0&&(_=dn(),_o(_,e),dh(_,t*(this.renderBuffer_+o),_));const y=ZE(o);let E;function x(M,X,U){const j=m.getImageData(0,0,c,c).data;for(let b=0,ue=y.length;b<ue;b++)if(j[y[b]]>0){if(!u||U==="none"||E!=="Image"&&E!=="Text"||u.includes(M)){const re=(y[b]-3)/4,te=o-re%c,se=o-(re/c|0),oe=a(M,X,te*te+se*se);if(oe)return oe}m.clearRect(0,0,c,c);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(si);let S,I,L,O,D;for(S=C.length-1;S>=0;--S){const M=C[S].toString();for(L=this.executorsByZIndex_[M],I=hs.length-1;I>=0;--I)if(E=hs[I],O=L[E],O!==void 0&&(D=O.executeHitDetection(m,d,i,x,_),D))return D}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],o=t[1],a=t[2],u=t[3],c=[i,o,i,u,a,u,a,o];return bi(c,0,8,2,e,c),c}isEmpty(){return ys(this.executorsByZIndex_)}execute(e,t,i,o,a,u,c){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(si),u=u||hs;const g=hs.length;let m,_,y,E,x;for(c&&d.reverse(),m=0,_=d.length;m<_;++m){const C=d[m].toString();for(x=this.executorsByZIndex_[C],y=0,E=u.length;y<E;++y){const S=u[y],I=x[S];if(I!==void 0){const L=c===null?void 0:I.getZIndexContext(),O=L?L.getContext():e,D=this.maxExtent_&&S!=="Image"&&S!=="Text";if(D&&(O.save(),this.clip(O,i)),!L||S==="Text"||S==="Image"?I.execute(O,t,i,o,a,c):L.pushFunction(M=>I.execute(M,t,i,o,a,c)),D&&O.restore(),L){L.offset();const M=d[m]*g+y;this.deferredZIndexContexts_[M]||(this.deferredZIndexContexts_[M]=[]),this.deferredZIndexContexts_[M].push(L)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(si);for(let i=0,o=t.length;i<o;++i)e[t[i]].forEach(a=>{a.draw(this.renderedContext_),a.clear()}),e[t[i]].length=0}}const Bc={};function ZE(s){if(Bc[s]!==void 0)return Bc[s];const e=s*2+1,t=s*s,i=new Array(t+1);for(let a=0;a<=s;++a)for(let u=0;u<=s;++u){const c=a*a+u*u;if(c>t)break;let d=i[c];d||(d=[],i[c]=d),d.push(((s+a)*e+(s+u))*4+3),a>0&&d.push(((s-a)*e+(s+u))*4+3),u>0&&(d.push(((s+a)*e+(s-u))*4+3),a>0&&d.push(((s-a)*e+(s-u))*4+3))}const o=[];for(let a=0,u=i.length;a<u;++a)i[a]&&o.push(...i[a]);return Bc[s]=o,o}class HE extends Xm{constructor(e,t,i,o,a,u,c){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=o,this.transformRotation_=o?uh(Math.atan2(o[1],o[0]),10):0,this.viewRotation_=a,this.squaredTolerance_=u,this.userTransform_=c,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Tn()}drawImages_(e,t,i,o){if(!this.image_)return;const a=bi(e,t,i,o,this.transform_,this.pixelCoordinates_),u=this.context_,c=this.tmpLocalTransform_,d=u.globalAlpha;this.imageOpacity_!=1&&(u.globalAlpha=d*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let m=0,_=a.length;m<_;m+=2){const y=a[m]-this.imageAnchorX_,E=a[m+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=y+this.imageAnchorX_,C=E+this.imageAnchorY_;ui(c,x,C,1,1,g,-x,-C),u.save(),u.transform.apply(u,c),u.translate(x,C),u.scale(this.imageScale_[0],this.imageScale_[1]),u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),u.restore()}else u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,y,E,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(u.globalAlpha=d)}drawText_(e,t,i,o){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const a=bi(e,t,i,o,this.transform_,this.pixelCoordinates_),u=this.context_;let c=this.textRotation_;for(this.transformRotation_===0&&(c-=this.viewRotation_),this.textRotateWithView_&&(c+=this.viewRotation_);t<i;t+=o){const d=a[t]+this.textOffsetX_,g=a[t+1]+this.textOffsetY_;c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(u.save(),u.translate(d-this.textOffsetX_,g-this.textOffsetY_),u.rotate(c),u.translate(this.textOffsetX_,this.textOffsetY_),u.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&u.strokeText(this.text_,0,0),this.textFillState_&&u.fillText(this.text_,0,0),u.restore()):(this.textStrokeState_&&u.strokeText(this.text_,d,g),this.textFillState_&&u.fillText(this.text_,d,g))}}moveToLineTo_(e,t,i,o,a){const u=this.context_,c=bi(e,t,i,o,this.transform_,this.pixelCoordinates_);u.moveTo(c[0],c[1]);let d=c.length;a&&(d-=2);for(let g=2;g<d;g+=2)u.lineTo(c[g],c[g+1]);return a&&u.closePath(),i}drawRings_(e,t,i,o){for(let a=0,u=i.length;a<u;++a)t=this.moveToLineTo_(e,t,i[a],o,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Xt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=Wy(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],o=t[3]-t[1],a=Math.sqrt(i*i+o*o),u=this.context_;u.beginPath(),u.arc(t[0],t[1],a,0,2*Math.PI),this.fillState_&&u.fill(),this.strokeState_&&u.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,o=t.length;i<o;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Xt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Xt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,o=e.getFlatCoordinates();let a=0;const u=e.getEnds(),c=e.getStride();i.beginPath();for(let d=0,g=u.length;d<g;++d)a=this.moveToLineTo_(o,a,u[d],c,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Xt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Xt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let o=0;const a=e.getEndss(),u=e.getStride();t.beginPath();for(let c=0,d=a.length;c<d;++c){const g=a[c];o=this.drawRings_(i,o,g,u)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Hi(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,o=e.textAlign?e.textAlign:Lo;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=o&&(i.textAlign=o,t.textAlign=o),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=o,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:o,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:Xn(i||Wt)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),o=t.getLineCap(),a=t.getLineDash(),u=t.getLineDashOffset(),c=t.getLineJoin(),d=t.getWidth(),g=t.getMiterLimit(),m=a||oi;this.strokeState_={lineCap:o!==void 0?o:Es,lineDash:this.pixelRatio_===1?m:m.map(_=>_*this.pixelRatio_),lineDashOffset:(u||li)*this.pixelRatio_,lineJoin:c!==void 0?c:xs,lineWidth:(d!==void 0?d:ko)*this.pixelRatio_,miterLimit:g!==void 0?g:Ro,strokeStyle:Xn(i||Io)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),o=e.getAnchor(),a=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*i,this.imageAnchorY_=o[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const u=e.getScaleArray();this.imageScale_=[u[0]*this.pixelRatio_/i,u[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const E=t.getColor();this.textFillState_={fillStyle:Xn(E||Wt)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const E=i.getColor(),x=i.getLineCap(),C=i.getLineDash(),S=i.getLineDashOffset(),I=i.getLineJoin(),L=i.getWidth(),O=i.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:Es,lineDash:C||oi,lineDashOffset:S||li,lineJoin:I!==void 0?I:xs,lineWidth:L!==void 0?L:ko,miterLimit:O!==void 0?O:Ro,strokeStyle:Xn(E||Io)}}const o=e.getFont(),a=e.getOffsetX(),u=e.getOffsetY(),c=e.getRotateWithView(),d=e.getRotation(),g=e.getScaleArray(),m=e.getText(),_=e.getTextAlign(),y=e.getTextBaseline();this.textState_={font:o!==void 0?o:cm,textAlign:_!==void 0?_:Lo,textBaseline:y!==void 0?y:fa},this.text_=m!==void 0?Array.isArray(m)?m.reduce((E,x,C)=>E+=C%2?" ":x,""):m:"",this.textOffsetX_=a!==void 0?this.pixelRatio_*a:0,this.textOffsetY_=u!==void 0?this.pixelRatio_*u:0,this.textRotateWithView_=c!==void 0?c:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const zn=.5;function $E(s,e,t,i,o,a,u,c,d){const g=o,m=s[0]*zn,_=s[1]*zn,y=mt(m,_);y.imageSmoothingEnabled=!1;const E=y.canvas,x=new HE(y,zn,o,null,u,c,null),C=t.length,S=Math.floor((256*256*256-1)/C),I={};for(let O=1;O<=C;++O){const D=t[O-1],M=D.getStyleFunction()||i;if(!M)continue;let X=M(D,a);if(!X)continue;Array.isArray(X)||(X=[X]);const j=(O*S).toString(16).padStart(7,"#00000");for(let b=0,ue=X.length;b<ue;++b){const re=X[b],te=re.getGeometryFunction()(D);if(!te||!Xt(g,te.getExtent()))continue;const se=re.clone(),oe=se.getFill();oe&&oe.setColor(j);const ce=se.getStroke();ce&&(ce.setColor(j),ce.setLineDash(null)),se.setText(void 0);const Z=re.getImage();if(Z){const Y=Z.getImageSize();if(!Y)continue;const R=mt(Y[0],Y[1],void 0,{alpha:!1}),N=R.canvas;R.fillStyle=j,R.fillRect(0,0,N.width,N.height),se.setImage(new za({img:N,anchor:Z.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Z.getOrigin(),opacity:1,size:Z.getSize(),scale:Z.getScale(),rotation:Z.getRotation(),rotateWithView:Z.getRotateWithView()}))}const ae=se.getZIndex()||0;let W=I[ae];W||(W={},I[ae]=W,W.Polygon=[],W.Circle=[],W.LineString=[],W.Point=[]);const $=te.getType();if($==="GeometryCollection"){const Y=te.getGeometriesArrayRecursive();for(let R=0,N=Y.length;R<N;++R){const Q=Y[R];W[Q.getType().replace("Multi","")].push(Q,se)}}else W[$.replace("Multi","")].push(te,se)}}const L=Object.keys(I).map(Number).sort(si);for(let O=0,D=L.length;O<D;++O){const M=I[L[O]];for(const X in M){const U=M[X];for(let j=0,b=U.length;j<b;j+=2){x.setStyle(U[j+1]);for(let ue=0,re=e.length;ue<re;++ue)x.setTransform(e[ue]),x.drawGeometry(U[j])}}}return y.getImageData(0,0,E.width,E.height)}function qE(s,e,t){const i=[];if(t){const o=Math.floor(Math.round(s[0])*zn),a=Math.floor(Math.round(s[1])*zn),u=(tt(o,0,t.width-1)+tt(a,0,t.height-1)*t.width)*4,c=t.data[u],d=t.data[u+1],m=t.data[u+2]+256*(d+256*c),_=Math.floor((256*256*256-1)/e.length);m&&m%_===0&&i.push(e[m/_-1])}return i}const QE=.5,Ym={Point:ox,LineString:ix,Polygon:ax,MultiPoint:lx,MultiLineString:rx,MultiPolygon:sx,GeometryCollection:nx,Circle:ex};function JE(s,e){return parseInt(De(s),10)-parseInt(De(e),10)}function xp(s,e){const t=jm(s,e);return t*t}function jm(s,e){return QE*s/e}function ex(s,e,t,i,o){const a=t.getFill(),u=t.getStroke();if(a||u){const d=s.getBuilder(t.getZIndex(),"Circle");d.setFillStrokeStyle(a,u),d.drawCircle(e,i,o)}const c=t.getText();if(c&&c.getText()){const d=s.getBuilder(t.getZIndex(),"Text");d.setTextStyle(c),d.drawText(e,i)}}function wp(s,e,t,i,o,a,u,c){const d=[],g=t.getImage();if(g){let y=!0;const E=g.getImageState();E==Ce.LOADED||E==Ce.ERROR?y=!1:E==Ce.IDLE&&g.load(),y&&d.push(g.ready())}const m=t.getFill();m&&m.loading()&&d.push(m.ready());const _=d.length>0;return _&&Promise.all(d).then(()=>o(null)),tx(s,e,t,i,a,u,c),_}function tx(s,e,t,i,o,a,u){const c=t.getGeometryFunction()(e);if(!c)return;const d=c.simplifyTransformed(i,o);if(t.getRenderer())Bm(s,d,t,e,u);else{const m=Ym[d.getType()];m(s,d,t,e,u,a)}}function Bm(s,e,t,i,o){if(e.getType()=="GeometryCollection"){const u=e.getGeometries();for(let c=0,d=u.length;c<d;++c)Bm(s,u[c],t,i,o);return}s.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),o)}function nx(s,e,t,i,o,a){const u=e.getGeometriesArray();let c,d;for(c=0,d=u.length;c<d;++c){const g=Ym[u[c].getType()];g(s,u[c],t,i,o,a)}}function ix(s,e,t,i,o){const a=t.getStroke();if(a){const c=s.getBuilder(t.getZIndex(),"LineString");c.setFillStrokeStyle(null,a),c.drawLineString(e,i,o)}const u=t.getText();if(u&&u.getText()){const c=s.getBuilder(t.getZIndex(),"Text");c.setTextStyle(u),c.drawText(e,i,o)}}function rx(s,e,t,i,o){const a=t.getStroke();if(a){const c=s.getBuilder(t.getZIndex(),"LineString");c.setFillStrokeStyle(null,a),c.drawMultiLineString(e,i,o)}const u=t.getText();if(u&&u.getText()){const c=s.getBuilder(t.getZIndex(),"Text");c.setTextStyle(u),c.drawText(e,i,o)}}function sx(s,e,t,i,o){const a=t.getFill(),u=t.getStroke();if(u||a){const d=s.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(a,u),d.drawMultiPolygon(e,i,o)}const c=t.getText();if(c&&c.getText()){const d=s.getBuilder(t.getZIndex(),"Text");d.setTextStyle(c),d.drawText(e,i,o)}}function ox(s,e,t,i,o,a){const u=t.getImage(),c=t.getText(),d=c&&c.getText(),g=a&&u&&d?{}:void 0;if(u){if(u.getImageState()!=Ce.LOADED)return;const m=s.getBuilder(t.getZIndex(),"Image");m.setImageStyle(u,g),m.drawPoint(e,i,o)}if(d){const m=s.getBuilder(t.getZIndex(),"Text");m.setTextStyle(c,g),m.drawText(e,i,o)}}function lx(s,e,t,i,o,a){const u=t.getImage(),c=u&&u.getOpacity()!==0,d=t.getText(),g=d&&d.getText(),m=a&&c&&g?{}:void 0;if(c){if(u.getImageState()!=Ce.LOADED)return;const _=s.getBuilder(t.getZIndex(),"Image");_.setImageStyle(u,m),_.drawMultiPoint(e,i,o)}if(g){const _=s.getBuilder(t.getZIndex(),"Text");_.setTextStyle(d,m),_.drawText(e,i,o)}}function ax(s,e,t,i,o){const a=t.getFill(),u=t.getStroke();if(a||u){const d=s.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(a,u),d.drawPolygon(e,i,o)}const c=t.getText();if(c&&c.getText()){const d=s.getBuilder(t.getZIndex(),"Text");d.setTextStyle(c),d.drawText(e,i,o)}}class ux extends Mm{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=dn(),this.wrappedRenderedExtent_=dn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const o=t.extent,a=t.viewState,u=a.center,c=a.resolution,d=a.projection,g=a.rotation,m=d.getExtent(),_=this.getLayer().getSource(),y=this.getLayer().getDeclutter(),E=t.pixelRatio,x=t.viewHints,C=!(x[St.ANIMATING]||x[St.INTERACTING]),S=this.context,I=Math.round(ze(o)/c*E),L=Math.round(Mt(o)/c*E),O=_.getWrapX()&&d.canWrapX(),D=O?ze(m):null,M=O?Math.ceil((o[2]-m[2])/D)+1:1;let X=O?Math.floor((o[0]-m[0])/D):0;do{let U=this.getRenderTransform(u,c,0,E,I,L,X*D);t.declutter&&(U=U.slice(0)),e.execute(S,[S.canvas.width,S.canvas.height],U,g,C,i===void 0?hs:i?Um:bE,i?y&&t.declutter[y]:void 0)}while(++X<M)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=mt(this.context.canvas.width,this.context.canvas.height,hp))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Oa(this.context),hp.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const o=e.viewState;this.prepareContainer(e,t);const a=this.context,u=this.replayGroup_;let c=u&&!u.isEmpty();if(!c&&!(this.getLayer().hasListener(hn.PRERENDER)||this.getLayer().hasListener(hn.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(a,e),o.projection,this.clipped_=!1,c&&i.extent&&this.clipping){const d=yr(i.extent);c=Xt(d,e.extent),this.clipped_=c&&!cs(d,e.extent),this.clipped_&&this.clipUnrotated(a,e,d)}return c&&this.renderWorlds(u,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&a.restore(),this.postRender(a,e),this.renderedRotation_!==o.rotation&&(this.renderedRotation_=o.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),o=this.renderedCenter_,a=this.renderedResolution_,u=this.renderedRotation_,c=this.renderedProjection_,d=this.wrappedRenderedExtent_,g=this.getLayer(),m=[],_=i[0]*zn,y=i[1]*zn;m.push(this.getRenderTransform(o,a,u,zn,_,y,0).slice());const E=g.getSource(),x=c.getExtent();if(E.getWrapX()&&c.canWrapX()&&!cs(x,d)){let C=d[0];const S=ze(x);let I=0,L;for(;C<x[0];)--I,L=S*I,m.push(this.getRenderTransform(o,a,u,zn,_,y,L).slice()),C+=S;for(I=0,C=d[2];C>x[2];)++I,L=S*I,m.push(this.getRenderTransform(o,a,u,zn,_,y,L).slice()),C-=S}this.hitDetectionImageData_=$E(i,m,this.renderedFeatures_,g.getStyleFunction(),d,a,u,xp(a,this.renderedPixelRatio_))}t(qE(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,o,a){if(!this.replayGroup_)return;const u=t.viewState.resolution,c=t.viewState.rotation,d=this.getLayer(),g={},m=function(x,C,S){const I=De(x),L=g[I];if(L){if(L!==!0&&S<L.distanceSq){if(S===0)return g[I]=!0,a.splice(a.lastIndexOf(L),1),o(x,d,C);L.geometry=C,L.distanceSq=S}}else{if(S===0)return g[I]=!0,o(x,d,C);a.push(g[I]={feature:x,layer:d,geometry:C,distanceSq:S,callback:o})}};let _;const y=[this.replayGroup_],E=this.getLayer().getDeclutter();return y.some(x=>_=x.forEachFeatureAtCoordinate(e,u,c,i,m,E&&t.declutter[E]?t.declutter[E].all().map(C=>C.value):null)),_}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const o=e.viewHints[St.ANIMATING],a=e.viewHints[St.INTERACTING],u=t.getUpdateWhileAnimating(),c=t.getUpdateWhileInteracting();if(this.ready&&!u&&o||!c&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=e.extent,g=e.viewState,m=g.projection,_=g.resolution,y=e.pixelRatio,E=t.getRevision(),x=t.getRenderBuffer();let C=t.getRenderOrder();C===void 0&&(C=JE);const S=g.center.slice(),I=dh(d,x*_),L=I.slice(),O=[I.slice()],D=m.getExtent();if(i.getWrapX()&&m.canWrapX()&&!cs(D,e.extent)){const oe=ze(D),ce=Math.max(ze(I)/2,oe);I[0]=D[0]-ce,I[2]=D[2]+ce,Xp(S,m);const Z=Gp(O[0],m);Z[0]<D[0]&&Z[2]<D[2]?O.push([Z[0]+oe,Z[1],Z[2]+oe,Z[3]]):Z[0]>D[0]&&Z[2]>D[2]&&O.push([Z[0]-oe,Z[1],Z[2]-oe,Z[3]])}if(this.ready&&this.renderedResolution_==_&&this.renderedRevision_==E&&this.renderedRenderOrder_==C&&this.renderedFrameDeclutter_===!!e.declutter&&cs(this.wrappedRenderedExtent_,I))return Hi(this.renderedExtent_,L)||(this.hitDetectionImageData_=null,this.renderedExtent_=L),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const M=new YE(jm(_,y),I,_,y);let X;for(let oe=0,ce=O.length;oe<ce;++oe)i.loadFeatures(O[oe],_,m);const U=xp(_,y);let j=!0;const b=(oe,ce)=>{let Z;const ae=oe.getStyleFunction()||t.getStyleFunction();if(ae&&(Z=ae(oe,_)),Z){const W=this.renderFeature(oe,U,Z,M,X,this.getLayer().getDeclutter(),ce);j=j&&!W}},ue=Vp(I),re=i.getFeaturesInExtent(ue);C&&re.sort(C);for(let oe=0,ce=re.length;oe<ce;++oe)b(re[oe],oe);this.renderedFeatures_=re,this.ready=j;const te=M.finish(),se=new KE(I,_,y,i.getOverlaps(),te,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=_,this.renderedRevision_=E,this.renderedRenderOrder_=C,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=L,this.wrappedRenderedExtent_=I,this.renderedCenter_=S,this.renderedProjection_=m,this.renderedPixelRatio_=y,this.replayGroup_=se,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,o,a,u,c){if(!i)return!1;let d=!1;if(Array.isArray(i))for(let g=0,m=i.length;g<m;++g)d=wp(o,e,i[g],t,this.boundHandleStyleImageChange_,a,u,c)||d;else d=wp(o,e,i,t,this.boundHandleStyleImageChange_,a,u,c);return d}}class Cp extends xm{constructor(e){super(e)}createRenderer(){return new ux(this)}}class Sp{constructor(e){this.rbush_=new tm(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[De(t)]=i}load(e,t){const i=new Array(t.length);for(let o=0,a=t.length;o<a;o++){const u=e[o],c=t[o],d={minX:u[0],minY:u[1],maxX:u[2],maxY:u[3],value:c};i[o]=d,this.items_[De(c)]=d}this.rbush_.load(i)}remove(e){const t=De(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[De(t)],o=[i.minX,i.minY,i.maxX,i.maxY];xo(o,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(o){return o.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let o=0,a=e.length;o<a;o++)if(i=t(e[o]),i)return i;return i}isEmpty(){return ys(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Ki(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}function cx(s,e,t,i){const o=[];let a=dn();for(let u=0,c=t.length;u<c;++u){const d=t[u];a=gh(s,e,d[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=d[d.length-1]}return o}const Tp=Tn();class cn{constructor(e,t,i,o,a,u){this.styleFunction,this.extent_,this.id_=u,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=a,this.squaredTolerance_,this.stride_=o,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Fp(this.flatCoordinates_):gh(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Cr(this.getExtent());this.flatInteriorPoints_=Th(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=Qy(this.flatCoordinates_,this.ends_),t=cx(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=Zy(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=oh(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let o=0,a=i.length;o<a;++o){const u=i[o],c=oh(e,t,u,2,.5);xa(this.flatMidpoints_,c),t=u}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=fn(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const o=Mt(i)/Mt(t);ui(Tp,i[0],i[3],o,-o,0,0,0),bi(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Tp,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new cn(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Mp((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let o;switch(this.type_){case"LineString":i.length=Ma(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),o=[i.length];break;case"MultiLineString":o=[],i.length=By(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,o);break;case"Polygon":o=[],i.length=Hp(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,o);break}return o&&(this.simplifiedGeometry_=new cn(this.type_,i,o,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}cn.prototype.getFlatCoordinates=cn.prototype.getOrientedFlatCoordinates;const un={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function hx(s,e){return[[-1/0,-1/0,1/0,1/0]]}let dx=!1;function fx(s,e,t,i,o,a,u){const c=new XMLHttpRequest;c.open("GET",typeof s=="function"?s(t,i,o):s,!0),e.getType()=="arraybuffer"&&(c.responseType="arraybuffer"),c.withCredentials=dx,c.onload=function(d){if(!c.status||c.status>=200&&c.status<300){const g=e.getType();try{let m;g=="text"||g=="json"?m=c.responseText:g=="xml"?m=c.responseXML||c.responseText:g=="arraybuffer"&&(m=c.response),m?a(e.readFeatures(m,{extent:t,featureProjection:o}),e.readProjection(m)):u()}catch{u()}}else u()},c.onerror=u,c.send()}function Rp(s,e){return function(t,i,o,a,u){const c=this;fx(s,e,t,i,o,function(d,g){c.addFeatures(d),a!==void 0&&a(d)},u||_s)}}class Xi extends ci{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class Ip extends Fm{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=_s,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Ie(this.format_,"`format` must be set when `url` is set"),this.loader_=Rp(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:hx;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new Sp:null,this.loadedExtentsRtree_=new Sp,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,o;Array.isArray(e.features)?o=e.features:e.features&&(i=e.features,o=i.getArray()),!t&&i===void 0&&(i=new Gn(o)),o!==void 0&&this.addFeaturesInternal(o),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=De(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Xi(un.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof cn||(this.featureChangeKeys_[e]=[Pe(t,Ee.CHANGE,this.handleFeatureChange_,this),Pe(t,ms.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const o=String(t.getId());if(!(o in this.idIndex_))this.idIndex_[o]=t;else if(t instanceof cn){const a=this.idIndex_[o];a instanceof cn?Array.isArray(a)?a.push(t):this.idIndex_[o]=[a,t]:i=!1}else i=!1}return i&&(Ie(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],o=[];for(let a=0,u=e.length;a<u;a++){const c=e[a],d=De(c);this.addToIndex_(d,c)&&i.push(c)}for(let a=0,u=i.length;a<u;a++){const c=i[a],d=De(c);this.setupChangeEvents_(d,c);const g=c.getGeometry();if(g){const m=g.getExtent();t.push(m),o.push(c)}else this.nullGeometryFeatures_[d]=c}if(this.featuresRtree_&&this.featuresRtree_.load(t,o),this.hasListener(un.ADDFEATURE))for(let a=0,u=i.length;a<u;a++)this.dispatchEvent(new Xi(un.ADDFEATURE,i[a]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(un.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(un.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Gt.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Gt.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(je);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=o=>{this.removeFeatureInternal(o)};this.featuresRtree_.forEach(i);for(const o in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Xi(un.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(o){const a=o.getGeometry();if(a instanceof cn||a.intersectsCoordinate(e))return t(o)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const o=i.getGeometry();if(o instanceof cn||o.intersectsExtent(e)){const a=t(i);if(a)return a}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ys(this.nullGeometryFeatures_)||xa(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const o=Wp(e,t);return[].concat(...o.map(a=>this.featuresRtree_.getInExtent(a)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],o=e[1];let a=null;const u=[NaN,NaN];let c=1/0;const d=[-1/0,-1/0,1/0,1/0];return t=t||Eo,this.featuresRtree_.forEachInExtent(d,function(g){if(t(g)){const m=g.getGeometry(),_=c;if(c=m instanceof cn?0:m.closestPointXY(i,o,u,c),c<_){a=g;const y=Math.sqrt(c);d[0]=i-y,d[1]=o-y,d[2]=i+y,d[3]=o+y}}}),a}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=De(t),o=t.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const u=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(u,t)):this.featuresRtree_&&this.featuresRtree_.update(u,t)}const a=t.getId();if(a!==void 0){const u=a.toString();this.idIndex_[u]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[u]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Xi(un.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:De(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ys(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const o=this.loadedExtentsRtree_,a=this.strategy_(e,t,i);for(let u=0,c=a.length;u<c;++u){const d=a[u];o.forEachInExtent(d,function(m){return cs(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Xi(un.FEATURESLOADSTART)),this.loader_.call(this,d,t,i,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new Xi(un.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Xi(un.FEATURESLOADERROR))}),o.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,function(o){if(xo(o.extent,e))return i=o,!0}),i&&t.remove(i)}removeFeatures(e){const t=[];for(let i=0,o=e.length;i<o;++i){const a=e[i],u=this.removeFeatureInternal(a);u&&t.push(u)}t.length>0&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=De(e);if(!(t in this.uidIndex_))return;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[t];i==null||i.forEach(je),delete this.featureChangeKeys_[t];const o=e.getId();if(o!==void 0){const a=o.toString(),u=this.idIndex_[a];u===e?delete this.idIndex_[a]:Array.isArray(u)&&(u.splice(u.indexOf(e),1),u.length===1&&(this.idIndex_[a]=u[0]))}return delete this.uidIndex_[t],this.hasListener(un.REMOVEFEATURE)&&this.dispatchEvent(new Xi(un.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_){const o=this.idIndex_[i];if(e instanceof cn&&Array.isArray(o)&&o.includes(e))o.splice(o.indexOf(e),1);else if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}}return t}setLoader(e){this.loader_=e}setUrl(e){Ie(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Rp(e,this.format_))}}const gx=()=>{const s=mr.useRef(null),[e,t]=mr.useState([]),[i,o]=mr.useState(5),[a,u]=mr.useState(null);mr.useEffect(()=>{(async()=>{try{const _=await(await fetch("/data/data.json")).json();t(_)}catch(m){console.error("Error fetching data:",m)}})()},[]),mr.useEffect(()=>{if(!s.current||e.length===0)return;const g=[];let m=null,_=null;for(let M=0;M<e.length;M++){const X=e[M];if(X.speed===0)m||(m=X.eventGeneratedTime);else if(m){_=X.eventGeneratedTime;const U=(_-m)/(1e3*60);if(U>=i){const j={latitude:X.latitude,longitude:X.longitude,startTime:m,endTime:_,duration:U};g.push(j)}m=null}}if(m){const M=e[e.length-1];_=M.eventGeneratedTime;const X=(_-m)/(1e3*60);if(X>=i){const U={latitude:M.latitude,longitude:M.longitude,startTime:m,endTime:_,duration:X};g.push(U)}}const y=e.map(M=>Lc([M.longitude,M.latitude])),E=new va(y),x=new ya({geometry:E});x.setStyle(new ai({stroke:new ws({color:"black",width:2})}));const C=new Cp({source:new Ip({features:[x]})}),S=g.map((M,X)=>{const U=new ya({geometry:new Pa(Lc([M.longitude,M.latitude])),stoppageData:M});return U.setStyle(new ai({image:new No({radius:6,stroke:new ws({color:"red",width:2}),fill:new Ss({color:"red"})})})),U}),I=new Cp({source:new Ip({features:S})});s.current.onclick=null;const L=M=>{O.forEachFeatureAtPixel(O.getEventPixel(M),X=>{const U=X.get("stoppageData");U&&u(U)})};s.current.addEventListener("click",L);const O=new tE({target:s.current,layers:[new gE({source:new DE}),C,I],view:new Nn({center:Lc([0,0]),zoom:2})}),D=C.getSource().getExtent().concat(I.getSource().getExtent());return O.getView().fit(D,{padding:[50,50,50,50],maxZoom:20}),()=>{var M;O.setTarget(null),(M=s.current)==null||M.removeEventListener("click",L)}},[e,i]);const c=g=>{o(parseInt(g.target.value,10))},d=()=>u(null);return et.createElement(et.Fragment,null,et.createElement("div",{className:"userDefinedThreshold"},et.createElement("label",{htmlFor:"threshold"},"Enter stoppage threshold (in minutes):"),et.createElement("input",{className:"thresholdInput",id:"threshold",type:"number",min:0,value:i,onChange:c})),et.createElement("div",{ref:s,className:"mapContainer"}),a&&et.createElement("div",{className:"stoppage-info-box"},et.createElement("button",{className:"close-button",onClick:d,"aria-label":"Close"},"×"),et.createElement("div",null,et.createElement("strong",null,"Reach Time:")," ",new Date(a.startTime).toLocaleString()),et.createElement("div",null,et.createElement("strong",null,"End Time:")," ",new Date(a.endTime).toLocaleString()),et.createElement("div",null,et.createElement("strong",null,"Stoppage Duration:")," ",a.duration.toFixed(2)," minutes")))};function px(){return et.createElement("div",{className:"title-main"},et.createElement("h1",{className:"title"},"VEHICLE STOPPAGE IDENTIFICATION AND VISUALIZATION"),et.createElement(gx,null))}const mx=K0.createRoot(document.getElementById("root"));mx.render(et.createElement(et.StrictMode,null,et.createElement(px,null)));
